import{a as d,f as _,c as yt,d as Lt}from"../chunks/DLW7Edu-.js";import{o as ce,a as Pe}from"../chunks/RoEmI7lP.js";import{_ as Le,E as Oe,b2 as Ne,aa as Fe,e as ue,u as he,b3 as Ie,b4 as Me,q as Re,b5 as Dt,aA as pe,r as De,v as Ue,b6 as Ge,h as re,H as a,t,I as s,J as e,M as U,B as xt,G as ft,C as bt,L as D,F as ot,N as vt,a4 as st,D as xe,l as fe,b7 as _e,K as zt}from"../chunks/C2Snk8yw.js";import{p as wt,i as G}from"../chunks/DZ-Qxf6U.js";import{t as je,e as ht,s as dt,i as _t,h as te,S as ze,d as C,P as Ot,j as ut,c as se,r as Nt,f as ie,a as Ve,b as Ut,k as le,l as Ye}from"../chunks/DbpH7uNd.js";import{a as Be,s as T,d as Ft,e as ne}from"../chunks/DpkvAVPE.js";import{i as Rt}from"../chunks/BZGx_n5h.js";import{s as oe}from"../chunks/CTRDKxTZ.js";import{b as He}from"../chunks/CstC0_cQ.js";const Ke=()=>performance.now(),Pt={tick:i=>requestAnimationFrame(i),now:()=>Ke(),tasks:new Set};function me(){const i=Pt.now();Pt.tasks.forEach(r=>{r.c(i)||(Pt.tasks.delete(r),r.f())}),Pt.tasks.size!==0&&Pt.tick(me)}function qe(i){let r;return Pt.tasks.size===0&&Pt.tick(me),{promise:new Promise(n=>{Pt.tasks.add(r={c:i,f:n})}),abort(){Pt.tasks.delete(r)}}}function Vt(i,r){pe(()=>{i.dispatchEvent(new CustomEvent(r))})}function We(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const r=i.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function de(i){const r={},n=i.split(";");for(const u of n){const[m,x]=u.split(":");if(!m||x===void 0)break;const h=We(m.trim());r[h]=x.trim()}return r}const Xe=i=>i;function $t(i,r,n,u){var w;var m=(i&Ie)!==0,x="both",h,b=r.inert,k=r.style.overflow,c,o;function g(){return pe(()=>h??(h=n()(r,(u==null?void 0:u())??{},{direction:x})))}var F={is_global:m,in(){r.inert=b,c=Zt(r,g(),o,1,()=>{Vt(r,"introend"),c==null||c.abort(),c=h=void 0,r.style.overflow=k})},out(S){r.inert=!0,o=Zt(r,g(),c,0,()=>{Vt(r,"outroend"),S==null||S()})},stop:()=>{c==null||c.abort(),o==null||o.abort()}},v=Le;if(((w=v.nodes).t??(w.t=[])).push(F),Be){var p=m;if(!p){for(var l=v.parent;l&&(l.f&Oe)!==0;)for(;(l=l.parent)&&(l.f&Ne)===0;);p=!l||(l.f&Fe)!==0}p&&ue(()=>{he(()=>F.in())})}}function Zt(i,r,n,u,m){var x=u===1;if(Me(r)){var h,b=!1;return Re(()=>{if(!b){var w=r({direction:x?"in":"out"});h=Zt(i,w,n,u,m)}}),{abort:()=>{b=!0,h==null||h.abort()},deactivate:()=>h.deactivate(),reset:()=>h.reset(),t:()=>h.t()}}if(n==null||n.deactivate(),!(r!=null&&r.duration)&&!(r!=null&&r.delay))return Vt(i,x?"introstart":"outrostart"),m(),{abort:Dt,deactivate:Dt,reset:Dt,t:()=>u};const{delay:k=0,css:c,tick:o,easing:g=Xe}=r;var F=[];if(x&&n===void 0&&(o&&o(0,1),c)){var v=de(c(0,1));F.push(v,v)}var p=()=>1-u,l=i.animate(F,{duration:k,fill:"forwards"});return l.onfinish=()=>{l.cancel(),Vt(i,x?"introstart":"outrostart");var w=(n==null?void 0:n.t())??1-u;n==null||n.abort();var S=u-w,y=r.duration*Math.abs(S),f=[];if(y>0){var E=!1;if(c)for(var A=Math.ceil(y/16.666666666666668),O=0;O<=A;O+=1){var P=w+S*g(O/A),I=de(c(P,1-P));f.push(I),E||(E=I.overflow==="hidden")}E&&(i.style.overflow="hidden"),p=()=>{var M=l.currentTime;return w+S*g(M/y)},o&&qe(()=>{if(l.playState!=="running")return!1;var M=p();return o(M,1-M),!0})}l=i.animate(f,{duration:y,fill:"forwards"}),l.onfinish=()=>{p=()=>u,o==null||o(u,1-u),m()}},{abort:()=>{l&&(l.cancel(),l.effect=null,l.onfinish=Dt)},deactivate:()=>{m=Dt},reset:()=>{u===0&&(o==null||o(1,0))},t:()=>p()}}function ge(i,r,n){ue(()=>{var u=he(()=>r(i,n==null?void 0:n())||{});if(n&&(u!=null&&u.update)){var m=!1,x={};De(()=>{var h=n();Ue(h),m&&Ge(x,h)&&(x=h,u.update(h))}),m=!0}if(u!=null&&u.destroy)return()=>u.destroy()})}function be(i,r,n,u){var m=i.__style;if(re||m!==r){var x=je(r);(!re||x!==i.getAttribute("style"))&&(x==null?i.removeAttribute("style"):i.style.cssText=x),i.__style=r}return u}var Qe=_("<div></div>"),Ze=_('<div class="flex items-center gap-2"><!> <span class="hud-label"> </span> <span class="hud-value-sm"> </span></div>'),Je=_("<div></div>");function ta(i,r){const n={active:"bg-hud-success",warning:"bg-hud-warning",error:"bg-hud-error",inactive:"bg-hud-dim"};let u=wt(r,"class",3,"");var m=Je();ht(m,21,()=>r.items,_t,(x,h)=>{var b=Ze(),k=a(b);{var c=p=>{var l=Qe();U(()=>dt(l,1,`w-2 h-2 rounded-full ${n[t(h).status]??""}`)),d(p,l)};G(k,p=>{t(h).status&&p(c)})}var o=s(k,2),g=a(o,!0);e(o);var F=s(o,2),v=a(F,!0);e(F),e(b),U(()=>{T(g,t(h).label),T(v,t(h).value)}),d(x,b)}),e(m),U(()=>dt(m,1,`flex items-center gap-6 ${u()??""}`)),d(i,m)}function Xt(i,r){function n(u){i.contains(u.target)||r()}return document.addEventListener("mousedown",n),{destroy(){document.removeEventListener("mousedown",n)}}}function Ct(i){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)}function ee(i){return`${i>=0?"+":""}${i.toFixed(2)}%`}function ye(i){return{Analyst:"text-hud-purple",Executor:"text-hud-cyan",StockTwits:"text-hud-success",SignalResearch:"text-hud-cyan",PositionResearch:"text-hud-purple",Crypto:"text-hud-warning",System:"text-hud-text-dim"}[i]||"text-hud-text"}function ea(i,r=[]){return r.includes(i)||i.includes("/USD")||i.includes("BTC")||i.includes("ETH")||i.includes("SOL")}function aa(i){return i==="BUY"?"text-hud-success":i==="SKIP"?"text-hud-error":"text-hud-warning"}function ra(i){return i==="excellent"?"text-hud-success":i==="good"?"text-hud-primary":i==="fair"?"text-hud-warning":"text-hud-error"}function Yt(i){return i>=.3?"text-hud-success":i<=-.2?"text-hud-error":"text-hud-warning"}function sa(i){return new Date(i).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}const ia=i=>i;function we(i){const r=i-1;return r*r*r+1}function la(i){return i<.5?4*i*i*i:.5*Math.pow(2*i-2,3)+1}function ve(i){const r=typeof i=="string"&&i.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return r?[parseFloat(r[1]),r[2]||"px"]:[i,"px"]}function It(i,{delay:r=0,duration:n=400,easing:u=ia}={}){const m=+getComputedStyle(i).opacity;return{delay:r,duration:n,easing:u,css:x=>`opacity: ${x*m}`}}function ke(i,{delay:r=0,duration:n=400,easing:u=we,x:m=0,y:x=0,opacity:h=0}={}){const b=getComputedStyle(i),k=+b.opacity,c=b.transform==="none"?"":b.transform,o=k*(1-h),[g,F]=ve(m),[v,p]=ve(x);return{delay:r,duration:n,easing:u,css:(l,w)=>`
			transform: ${c} translate(${(1-l)*g}${F}, ${(1-l)*v}${p});
			opacity: ${k-o*w}`}}function na(i,{delay:r=0,duration:n=400,easing:u=we,axis:m="y"}={}){const x=getComputedStyle(i),h=+x.opacity,b=m==="y"?"height":"width",k=parseFloat(x[b]),c=m==="y"?["top","bottom"]:["left","right"],o=c.map(S=>`${S[0].toUpperCase()}${S.slice(1)}`),g=parseFloat(x[`padding${o[0]}`]),F=parseFloat(x[`padding${o[1]}`]),v=parseFloat(x[`margin${o[0]}`]),p=parseFloat(x[`margin${o[1]}`]),l=parseFloat(x[`border${o[0]}Width`]),w=parseFloat(x[`border${o[1]}Width`]);return{delay:r,duration:n,easing:u,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*h};${b}: ${S*k}px;padding-${c[0]}: ${S*g}px;padding-${c[1]}: ${S*F}px;margin-${c[0]}: ${S*v}px;margin-${c[1]}: ${S*p}px;border-${c[0]}-width: ${S*l}px;border-${c[1]}-width: ${S*w}px;min-${b}: 0`}}function oa(i,{delay:r=0,speed:n,duration:u,easing:m=la}={}){let x=i.getTotalLength();const h=getComputedStyle(i);return h.strokeLinecap!=="butt"&&(x+=parseInt(h.strokeWidth)),u===void 0?n===void 0?u=800:u=x/n:typeof u=="function"&&(u=u(x)),{delay:r,duration:u,easing:m,css:(b,k)=>`
			stroke-dasharray: ${x};
			stroke-dashoffset: ${k*x};
		`}}var da=_('<span class="absolute -top-0.5 -right-0.5 w-4 h-4 bg-hud-error text-[9px] font-bold rounded-full flex items-center justify-center text-white"> </span>'),va=_('<span class="text-[9px] text-hud-text-dim"> </span>'),ca=_('<div class="text-hud-text-dim text-xs text-center py-4">No overnight activity yet</div>'),ua=_('<div class="text-center"><div> </div> <div class="hud-label"> </div></div>'),ha=_('<span class="text-xs px-1.5 py-0.5 bg-hud-success/10 text-hud-success border border-hud-success/30 rounded"> </span>'),pa=_('<div class="space-y-1"><span class="text-[9px] text-hud-text-dim">HIGH CONVICTION:</span> <div class="flex flex-wrap gap-1"></div></div>'),xa=_('<p class="text-[10px] text-hud-text-dim mt-2 leading-tight"> </p>'),fa=_('<div class="grid grid-cols-2 gap-2"></div> <div class="pt-2 border-t border-hud-line/50"><div class="flex items-center justify-between mb-2"><span class="hud-label">PRE-MARKET PLAN</span> <span> </span></div> <!> <!></div>',1),_a=_('<div class="absolute right-0 top-full mt-2 w-72 hud-panel z-50"><div class="px-3 py-2 border-b border-hud-line flex justify-between items-center"><span class="hud-label">OVERNIGHT ACTIVITY</span> <!></div> <div class="p-3 space-y-3"><!></div></div>'),ma=_('<div class="relative"><button><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg> <!></button> <!></div>');function ga(i,r){xt(r,!0);let n=bt(!1),u=bt(!1),m=D(()=>r.overnightActivity&&(r.overnightActivity.signalsGathered>0||r.overnightActivity.signalsResearched>0||r.overnightActivity.buySignals>0)),x=D(()=>{var l,w,S;return t(m)&&!t(u)?(((l=r.overnightActivity)==null?void 0:l.buySignals)||0)+(((S=(w=r.premarketPlan)==null?void 0:w.highConvictionPlays)==null?void 0:S.length)||0):0});function h(){ot(n,!t(n)),t(n)&&ot(u,!0)}const b=D(()=>{var l,w,S,y,f;return[{label:"SIGNALS FOUND",value:((l=r.overnightActivity)==null?void 0:l.signalsGathered)||0,highlight:!1},{label:"RESEARCHED",value:((w=r.overnightActivity)==null?void 0:w.signalsResearched)||0,highlight:!1},{label:"BUY SIGNALS",value:((S=r.overnightActivity)==null?void 0:S.buySignals)||0,highlight:!!((y=r.overnightActivity)!=null&&y.buySignals)&&r.overnightActivity.buySignals>0},{label:"TWITTER CONF",value:((f=r.overnightActivity)==null?void 0:f.twitterConfirmations)||0,highlight:!1}]});var k=ma(),c=a(k);c.__click=h;var o=a(c),g=s(o,2);{var F=l=>{var w=da(),S=a(w,!0);e(w),U(()=>T(S,t(x)>9?"9+":t(x))),$t(3,w,()=>It,()=>({duration:150})),d(l,w)};G(g,l=>{t(x)>0&&l(F)})}e(c);var v=s(c,2);{var p=l=>{var w=_a(),S=a(w),y=s(a(S),2);{var f=I=>{var M=va(),R=a(M,!0);e(M),U(H=>T(R,H),[()=>sa(r.overnightActivity.lastUpdated)]),d(I,M)};G(y,I=>{var M;(M=r.overnightActivity)!=null&&M.lastUpdated&&I(f)})}e(S);var E=s(S,2),A=a(E);{var O=I=>{var M=ca();d(I,M)},P=I=>{var M=fa(),R=vt(M);ht(R,21,()=>t(b),_t,(Y,$)=>{var L=ua(),N=a(L),z=a(N,!0);e(N);var K=s(N,2),V=a(K,!0);e(K),e(L),U(()=>{dt(N,1,`text-lg font-light ${t($).highlight?"text-hud-success":"text-hud-text-bright"}`),T(z,t($).value),T(V,t($).label)}),d(Y,L)}),e(R);var H=s(R,2),q=a(H),et=s(a(q),2),rt=a(et,!0);e(et),e(q);var tt=s(q,2);{var j=Y=>{var $=pa(),L=s(a($),2);ht(L,21,()=>r.premarketPlan.highConvictionPlays,_t,(N,z)=>{var K=ha(),V=a(K,!0);e(K),U(()=>T(V,t(z))),d(N,K)}),e(L),e($),d(Y,$)};G(tt,Y=>{var $;r.premarketPlan&&(($=r.premarketPlan.highConvictionPlays)==null?void 0:$.length)>0&&Y(j)})}var Z=s(tt,2);{var W=Y=>{var $=xa(),L=a($);e($),U(N=>T(L,`${N??""}${r.premarketPlan.marketOutlook.length>100?"...":""}`),[()=>r.premarketPlan.marketOutlook.slice(0,100)]),d(Y,$)};G(Z,Y=>{var $;($=r.premarketPlan)!=null&&$.marketOutlook&&Y(W)})}e(H),U(()=>{var Y,$;dt(et,1,`text-[9px] px-1.5 py-0.5 rounded ${(Y=r.overnightActivity)!=null&&Y.premarketPlanReady?"bg-hud-success/20 text-hud-success":"bg-hud-text-dim/20 text-hud-text-dim"}`),T(rt,($=r.overnightActivity)!=null&&$.premarketPlanReady?"READY":"PENDING")}),d(I,M)};G(A,I=>{t(m)?I(P,!1):I(O)})}e(E),e(w),$t(3,w,()=>ke,()=>({y:-8,duration:150})),d(l,w)};G(v,l=>{t(n)&&l(p)})}e(k),ge(k,(l,w)=>Xt==null?void 0:Xt(l,w),()=>()=>ot(n,!1)),U(()=>{dt(c,1,`relative p-2 transition-colors ${t(n)?"text-hud-primary":"text-hud-text-dim hover:text-hud-text"}`),dt(o,0,te(t(x)>0?"animate-pulse":""))}),d(i,k),ft()}Ft(["click"]);var ba=_('<header class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4 pb-3 border-b border-hud-line"><div class="flex items-center gap-4 md:gap-6"><div class="flex items-baseline gap-2"><span class="text-xl md:text-2xl font-light tracking-tight text-hud-text-bright">MAHORAGA</span> <span class="hud-label">v2</span></div> <!></div> <div class="flex items-center gap-3 md:gap-6 flex-wrap"><!> <!> <a href="/settings" class="hud-label hover:text-hud-primary transition-colors">[CONFIG]</a> <span class="hud-value-sm font-mono"> </span></div></header>');function ya(i,r){xt(r,!0);let n=D(()=>C.time.toLocaleTimeString("en-US",{hour12:!1}));var u=ba(),m=a(u),x=s(a(m),2);{let g=D(()=>C.isMarketOpen?"active":"inactive"),F=D(()=>C.isMarketOpen?"MARKET OPEN":"MARKET CLOSED");ze(x,{get status(){return t(g)},get label(){return t(F)},get pulse(){return C.isMarketOpen}})}e(m);var h=s(m,2),b=a(h);{let g=D(()=>[{label:"LLM COST",value:`$${C.costs.total_usd.toFixed(4)}`,status:C.costs.total_usd>1?"warning":"active"},{label:"API CALLS",value:C.costs.calls.toString()}]);ta(b,{get items(){return t(g)}})}var k=s(b,2);{let g=D(()=>{var v;return(v=C.status)==null?void 0:v.overnightActivity}),F=D(()=>{var v;return(v=C.status)==null?void 0:v.premarketPlan});ga(k,{get overnightActivity(){return t(g)},get premarketPlan(){return t(F)}})}var c=s(k,4),o=a(c,!0);e(c),e(h),e(u),U(()=>T(o,t(n))),d(i,u),ft()}var wa=_('<div><span class="hud-label mb-1"> </span> <span> </span></div>');function Mt(i,r){const n={sm:"hud-value-sm",md:"hud-value-md",lg:"hud-value-lg",xl:"hud-value-xl"},u={default:"",success:"text-hud-success",warning:"text-hud-warning",error:"text-hud-error"};let m=wt(r,"size",3,"lg"),x=wt(r,"color",3,"default"),h=wt(r,"class",3,"");var b=wa(),k=a(b),c=a(k,!0);e(k);var o=s(k,2),g=a(o,!0);e(o),e(b),U(()=>{dt(b,1,`flex flex-col ${h()??""}`),T(c,r.label),dt(o,1,`${n[m()]??""} ${u[x()]??""}`),T(g,r.value)}),d(i,b)}var ka=_('<div><span class="hud-label shrink-0"> </span> <span> </span></div>');function St(i,r){const n={default:"",success:"text-hud-success",warning:"text-hud-warning",error:"text-hud-error"};let u=wt(r,"color",3,"default"),m=wt(r,"valueClassName",3,""),x=wt(r,"class",3,"");var h=ka(),b=a(h),k=a(b,!0);e(b);var c=s(b,2),o=a(c,!0);e(c),e(h),U(()=>{dt(h,1,`flex items-baseline gap-2 min-w-0 ${x()??""}`),T(k,r.label),dt(c,1,`hud-value-sm hud-nums min-w-0 break-words ${(m()||n[u()])??""}`),T(o,r.value)}),d(i,h)}var Sa=_('<div class="space-y-4"><!> <div class="grid grid-cols-2 gap-4"><!> <!></div> <div class="pt-2 border-t border-hud-line space-y-2"><!> <div class="grid grid-cols-2 gap-2"><!> <!></div></div></div>'),Aa=_('<div class="text-hud-text-dim text-sm">Loading...</div>');function Ca(i,r){xt(r,!1),Rt(),Ot(i,{title:"ACCOUNT",class:"h-full",children:(n,u)=>{var m=yt(),x=vt(m);{var h=k=>{var c=Sa(),o=a(c);{let f=st(()=>Ct(C.account.equity));Mt(o,{label:"EQUITY",get value(){return t(f)},size:"xl"})}var g=s(o,2),F=a(g);{let f=st(()=>Ct(C.account.cash));Mt(F,{label:"CASH",get value(){return t(f)},size:"md"})}var v=s(F,2);{let f=st(()=>Ct(C.account.buying_power));Mt(v,{label:"BUYING POWER",get value(){return t(f)},size:"md"})}e(g);var p=s(g,2),l=a(p);{let f=st(()=>Ct(C.totalPl)),E=st(()=>ee(C.totalPlPct)),A=st(()=>C.totalPl>=0?"success":"error");Mt(l,{label:"TOTAL P&L",get value(){return`${t(f)??""} (${t(E)??""})`},size:"md",get color(){return t(A)}})}var w=s(l,2),S=a(w);{let f=st(()=>Ct(C.realizedPl)),E=st(()=>C.realizedPl>=0?"success":"error");St(S,{label:"REALIZED",get value(){return t(f)},get color(){return t(E)}})}var y=s(S,2);{let f=st(()=>Ct(C.unrealizedPl)),E=st(()=>C.unrealizedPl>=0?"success":"error");St(y,{label:"UNREALIZED",get value(){return t(f)},get color(){return t(E)}})}e(w),e(p),e(c),d(k,c)},b=k=>{var c=Aa();d(k,c)};G(x,k=>{C.account?k(h):k(b,!1)})}d(n,m)},$$slots:{default:!0}}),ft()}var Ta=_('<div class="bg-hud-bg-panel border border-hud-line px-3 py-2 text-xs text-hud-text max-w-xs pointer-events-none"><!></div>'),$a=_('<div class="inline-block"><!></div> <!>',1);function Gt(i,r){xt(r,!0);let n=wt(r,"position",3,"top"),u=wt(r,"delay",3,200),m=wt(r,"disabled",3,!1),x=bt(!1),h=bt(xe({top:0,left:0})),b=bt(void 0),k=null;function c(y){switch(y){case"top":return"translateX(-50%) translateY(-100%)";case"bottom":return"translateX(-50%)";case"left":return"translateY(-50%) translateX(-100%)";case"right":return"translateY(-50%)";default:return""}}function o(){if(!t(b))return;const y=t(b).getBoundingClientRect(),f=window.scrollY,E=window.scrollX,A=8;switch(n()){case"top":ot(h,{top:y.top+f-A,left:y.left+E+y.width/2},!0);break;case"bottom":ot(h,{top:y.bottom+f+A,left:y.left+E+y.width/2},!0);break;case"left":ot(h,{top:y.top+f+y.height/2,left:y.left+E-A},!0);break;case"right":ot(h,{top:y.top+f+y.height/2,left:y.right+E+A},!0);break}}function g(){m()||(k=setTimeout(()=>{o(),ot(x,!0)},u()))}function F(){k&&clearTimeout(k),ot(x,!1)}fe(()=>{m()&&t(x)&&(k&&clearTimeout(k),ot(x,!1))});var v=$a(),p=vt(v),l=a(p);oe(l,()=>r.children),e(p),He(p,y=>ot(b,y),()=>t(b));var w=s(p,2);{var S=y=>{var f=Ta(),E=a(f);oe(E,()=>r.content),e(f),U(A=>be(f,`position: absolute; top: ${t(h).top??""}px; left: ${t(h).left??""}px; transform: ${A??""}; z-index: 9999;`),[()=>c(n())]),$t(3,f,()=>It,()=>({duration:100})),d(y,f)};G(w,y=>{t(x)&&y(S)})}ne("mouseenter",p,g),ne("mouseleave",p,F),d(i,v),ft()}var Ea=_('<div class="hud-label text-hud-primary border-b border-hud-line/50 pb-1"> </div>'),Pa=_('<div class="flex justify-between gap-4"><span class="text-hud-text-dim"> </span> <span> </span></div>'),La=_('<div class="space-y-1"></div>'),Oa=_('<p class="text-hud-text-dim text-[10px] leading-tight"> </p>'),Na=_('<div class="space-y-2"><!> <!> <!></div>');function Se(i,r){xt(r,!0);var n=Na(),u=a(n);{var m=c=>{var o=Ea(),g=a(o,!0);e(o),U(()=>T(g,r.title)),d(c,o)};G(u,c=>{r.title&&c(m)})}var x=s(u,2);{var h=c=>{var o=La();ht(o,21,()=>r.items,_t,(g,F)=>{var v=Pa(),p=a(v),l=a(p,!0);e(p);var w=s(p,2),S=a(w,!0);e(w),e(v),U(()=>{T(l,t(F).label),dt(w,1,te(t(F).color||"text-hud-text-bright")),T(S,t(F).value)}),d(g,v)}),e(o),d(c,o)};G(x,c=>{r.items&&r.items.length>0&&c(h)})}var b=s(x,2);{var k=c=>{var o=Oa(),g=a(o,!0);e(o),U(()=>T(g,r.description)),d(c,o)};G(b,c=>{r.description&&c(k)})}e(n),d(i,n),ft()}var Fa=Lt('<svg><path fill="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Ia(i,r){xt(r,!0);const n={green:{stroke:"var(--color-hud-green)"},red:{stroke:"var(--color-hud-red)"}};let u=wt(r,"width",3,80),m=wt(r,"height",3,24),x=2,h=D(()=>u()-x*2),b=D(()=>m()-x*2),k=D(()=>Math.min(...r.data)),c=D(()=>Math.max(...r.data)),o=D(()=>t(c)-t(k)||1),g=D(()=>r.data.length<2?"":r.data.map((S,y)=>{const f=x+y/(r.data.length-1)*t(h),E=x+t(b)-(S-t(k))/t(o)*t(b);return`${y===0?"M":"L"} ${f.toFixed(1)} ${E.toFixed(1)}`}).join(" ")),F=D(()=>r.data.length>=2&&r.data[r.data.length-1]>=r.data[0]),v=D(()=>t(F)?n.green.stroke:n.red.stroke);var p=yt(),l=vt(p);{var w=S=>{var y=Fa(),f=a(y);e(y),U(()=>{ut(y,"width",u()),ut(y,"height",m()),ut(f,"d",t(g)),ut(f,"stroke",t(v))}),d(S,y)};G(l,S=>{r.data.length>=2&&S(w)})}d(i,p),ft()}var Ma=_('<div class="text-hud-text-dim text-sm py-8 text-center">No open positions</div>'),Ra=_('<span class="text-hud-warning mr-1">₿</span>'),Da=_('<span class="cursor-help border-b border-dotted border-hud-text-dim"><!> </span>'),Ua=_('<tr class="border-b border-hud-line/20 hover:bg-hud-line/10"><td class="hud-value-sm py-2 px-2"><!></td><td class="hud-value-sm hud-nums text-right py-2 px-2 hidden sm:table-cell"> </td><td class="hud-value-sm hud-nums text-right py-2 px-2 hidden md:table-cell"> </td><td><div class="hud-nums"> </div> <div class="text-xs opacity-70 hud-nums"> </div></td><td class="py-2 px-2"><div class="flex justify-center"><!></div></td></tr>'),Ga=_('<div class="overflow-x-auto"><table class="w-full"><thead><tr class="border-b border-hud-line/50"><th class="hud-label text-left py-2 px-2">Symbol</th><th class="hud-label text-right py-2 px-2 hidden sm:table-cell">Qty</th><th class="hud-label text-right py-2 px-2 hidden md:table-cell">Value</th><th class="hud-label text-right py-2 px-2">P&L</th><th class="hud-label text-center py-2 px-2">Trend</th></tr></thead><tbody></tbody></table></div>');function ja(i,r){xt(r,!1),Rt();{let n=st(()=>C.positions.length),u=st(()=>{var m;return((m=C.config)==null?void 0:m.max_positions)||5});Ot(i,{title:"POSITIONS",get titleRight(){return`${t(n)??""}/${t(u)??""}`},class:"h-full",children:(m,x)=>{var h=yt(),b=vt(h);{var k=o=>{var g=Ma();d(o,g)},c=o=>{var g=Ga(),F=a(g),v=s(a(F));ht(v,5,()=>C.positions,p=>p.symbol,(p,l)=>{const w=st(()=>t(l).unrealized_pl/(t(l).market_value-t(l).unrealized_pl)*100),S=st(()=>C.positionPriceHistories[t(l).symbol]||[]),y=st(()=>{var $,L;return(L=($=C.status)==null?void 0:$.positionEntries)==null?void 0:L[t(l).symbol]}),f=st(()=>{var $,L;return(L=($=C.status)==null?void 0:$.stalenessAnalysis)==null?void 0:L[t(l).symbol]}),E=st(()=>t(y)?Math.floor((Date.now()-t(y).entry_time)/36e5):null);var A=Ua(),O=a(A),P=a(O);Gt(P,{position:"right",children:N=>{var z=Da(),K=a(z);{var V=X=>{var Q=Ra();d(X,Q)};G(K,X=>{var Q;ea(t(l).symbol,(Q=C.config)==null?void 0:Q.crypto_symbols)&&X(V)})}var B=s(K);e(z),U(()=>T(B,` ${t(l).symbol??""}`)),d(N,z)},content:N=>{{let z=st(()=>[{label:"Entry Price",value:t(y)?Ct(t(y).entry_price):"N/A"},{label:"Current Price",value:Ct(t(l).current_price)},{label:"Hold Time",value:t(E)!==null?`${t(E)}h`:"N/A"},{label:"Entry Sentiment",value:t(y)?`${(t(y).entry_sentiment*100).toFixed(0)}%`:"N/A"},...t(f)?[{label:"Staleness",value:`${(t(f).score*100).toFixed(0)}%`,color:t(f).shouldExit?"text-hud-error":"text-hud-text"}]:[]]),K=st(()=>{var V;return(V=t(y))==null?void 0:V.entry_reason});Se(N,{get title(){return t(l).symbol},get items(){return t(z)},get description(){return t(K)}})}},$$slots:{default:!0,content:!0}}),e(O);var I=s(O),M=a(I,!0);e(I);var R=s(I),H=a(R,!0);e(R);var q=s(R),et=a(q),rt=a(et,!0);e(et);var tt=s(et,2),j=a(tt,!0);e(tt),e(q);var Z=s(q),W=a(Z),Y=a(W);Ia(Y,{get data(){return t(S)},width:60,height:20}),e(W),e(Z),e(A),U(($,L,N)=>{T(M,t(l).qty),T(H,$),dt(q,1,`hud-value-sm hud-nums text-right py-2 px-2 ${t(l).unrealized_pl>=0?"text-hud-success":"text-hud-error"}`),T(rt,L),T(j,N)},[()=>Ct(t(l).market_value),()=>Ct(t(l).unrealized_pl),()=>ee(t(w))]),$t(3,A,()=>It,()=>({duration:200})),d(p,A)}),e(v),e(F),e(g),d(o,g)};G(b,o=>{C.positions.length===0?o(k):o(c,!1)})}d(m,h)},$$slots:{default:!0}})}ft()}var za=_('<div class="grid grid-cols-2 gap-4"><!> <!> <!> <!> <!> <!></div>');function Va(i,r){xt(r,!1),Rt(),Ot(i,{title:"LLM COSTS",class:"h-full",children:(n,u)=>{var m=za(),x=a(m);{let g=st(()=>C.costs.total_usd.toFixed(4));Mt(x,{label:"TOTAL SPENT",get value(){return`$${t(g)??""}`},size:"lg"})}var h=s(x,2);{let g=st(()=>C.costs.calls.toString());Mt(h,{label:"API CALLS",get value(){return t(g)},size:"lg"})}var b=s(h,2);{let g=st(()=>C.costs.tokens_in.toLocaleString());St(b,{label:"TOKENS IN",get value(){return t(g)}})}var k=s(b,2);{let g=st(()=>C.costs.tokens_out.toLocaleString());St(k,{label:"TOKENS OUT",get value(){return t(g)}})}var c=s(k,2);{let g=st(()=>C.costs.calls>0?`$${(C.costs.total_usd/C.costs.calls).toFixed(6)}`:"$0");St(c,{label:"AVG COST/CALL",get value(){return t(g)}})}var o=s(c,2);{let g=st(()=>{var F;return((F=C.config)==null?void 0:F.llm_model)||"gpt-4o-mini"});St(o,{label:"MODEL",get value(){return t(g)}})}e(m),d(n,m)},$$slots:{default:!0}}),ft()}var Ya=Lt('<line stroke="currentColor" class="text-hud-border" stroke-width="0.5" opacity="0.3"></line><text text-anchor="end" dominant-baseline="middle" fill="currentColor" class="text-hud-text-dim" font-size="12"> </text>',1),Ba=Lt("<g></g>"),Ha=Lt('<text text-anchor="middle" fill="currentColor" class="text-hud-text-dim" font-size="12"> </text>'),Ka=Lt("<g></g>"),qa=Lt('<defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-opacity="0.2"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><path></path>',1),Wa=Lt('<circle r="2" opacity="0.8"></circle>'),Xa=Lt('<g><!><path fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.8"></path><!></g>'),Qa=Lt('<svg width="100%" height="100%" preserveAspectRatio="xMidYMid meet" class="block"><!><!><!></svg>');function Ae(i,r){xt(r,!0);const n={cyan:{stroke:"var(--color-hud-cyan)",fill:"var(--color-hud-cyan)"},blue:{stroke:"var(--color-hud-blue)",fill:"var(--color-hud-blue)"},green:{stroke:"var(--color-hud-green)",fill:"var(--color-hud-green)"},yellow:{stroke:"var(--color-hud-yellow)",fill:"var(--color-hud-yellow)"},red:{stroke:"var(--color-hud-red)",fill:"var(--color-hud-red)"},purple:{stroke:"var(--color-hud-purple)",fill:"var(--color-hud-purple)"},primary:{stroke:"var(--color-hud-primary)",fill:"var(--color-hud-primary)"}};let u=wt(r,"variant",3,"cyan"),m=wt(r,"showDots",3,!1),x=wt(r,"showGrid",3,!0),h=wt(r,"showArea",3,!0),b=wt(r,"animated",3,!0);const k=800;let c=D(()=>r.height||200);const o={top:16,right:16,bottom:28,left:56};let g=D(()=>k-o.left-o.right),F=D(()=>t(c)-o.top-o.bottom),v=D(()=>r.series.flatMap(j=>j.data)),p=D(()=>Math.min(...t(v))),l=D(()=>Math.max(...t(v))),w=D(()=>t(l)-t(p)||1),S=D(()=>t(p)-t(w)*.05),y=D(()=>t(l)+t(w)*.05),f=D(()=>t(y)-t(S)||1),E=D(()=>Math.max(...r.series.map(j=>j.data.length),1));function A(j){return o.left+j/(t(E)-1||1)*t(g)}function O(j){return o.top+t(F)-(j-t(S))/t(f)*t(F)}let P=D(()=>Array.from({length:4},(j,Z)=>t(S)+t(f)/3*Z)),I=D(()=>r.formatValue||(j=>Math.abs(j)>=1e3?`${(j/1e3).toFixed(1)}k`:j.toFixed(0))),M=D(()=>{if(!r.labels)return[];const j=Math.ceil(r.labels.length/5);return r.labels.map((Z,W)=>W).filter(Z=>Z%j===0)});var R=Qa(),H=a(R);{var q=j=>{var Z=Ba();ht(Z,21,()=>t(P),_t,(W,Y)=>{var $=Ya(),L=vt($),N=s(L),z=a(N,!0);e(N),U((K,V,B,X)=>{ut(L,"x1",o.left),ut(L,"y1",K),ut(L,"x2",k-o.right),ut(L,"y2",V),ut(N,"x",o.left-8),ut(N,"y",B),T(z,X)},[()=>O(t(Y)),()=>O(t(Y)),()=>O(t(Y)),()=>t(I)(t(Y))]),d(W,$)}),e(Z),d(j,Z)};G(H,j=>{x()&&j(q)})}var et=s(H);{var rt=j=>{var Z=Ka();ht(Z,21,()=>t(M),_t,(W,Y)=>{var $=Ha(),L=a($,!0);e($),U(N=>{ut($,"x",N),ut($,"y",t(c)-8),T(L,r.labels[t(Y)])},[()=>A(t(Y))]),d(W,$)}),e(Z),d(j,Z)};G(et,j=>{r.labels&&j(rt)})}var tt=s(et);ht(tt,17,()=>r.series,_t,(j,Z,W)=>{const Y=D(()=>n[t(Z).variant??u()]),$=D(()=>t(Z).data.map((B,X)=>({x:A(X),y:O(B)}))),L=D(()=>t($).map((B,X)=>`${X===0?"M":"L"} ${B.x} ${B.y}`).join(" ")),N=D(()=>{var B,X;return`${t(L)} L ${((B=t($)[t($).length-1])==null?void 0:B.x)??0} ${o.top+t(F)} L ${((X=t($)[0])==null?void 0:X.x)??0} ${o.top+t(F)} Z`});var z=yt(),K=vt(z);{var V=B=>{var X=Xa(),Q=a(X);{var it=lt=>{var J=qa(),pt=vt(J),mt=a(pt);ut(mt,"id",`area-gradient-${W}`);var gt=a(mt),kt=s(gt);e(mt),e(pt);var Et=s(pt);ut(Et,"fill",`url(#area-gradient-${W})`),U(()=>{ut(gt,"stop-color",t(Y).fill),ut(kt,"stop-color",t(Y).fill),ut(Et,"d",t(N))}),$t(3,Et,()=>It,()=>({duration:b()?800:0})),d(lt,J)};G(Q,lt=>{h()&&lt(it)})}var nt=s(Q),ct=s(nt);{var at=lt=>{var J=yt(),pt=vt(J);ht(pt,17,()=>t($),_t,(mt,gt)=>{var kt=Wa();U(()=>{ut(kt,"cx",t(gt).x),ut(kt,"cy",t(gt).y),ut(kt,"fill",t(Y).fill)}),d(mt,kt)}),d(lt,J)};G(ct,lt=>{m()&&lt(at)})}e(X),U(()=>{ut(nt,"d",t(L)),ut(nt,"stroke",t(Y).stroke)}),$t(3,nt,()=>oa,()=>({duration:b()?1200:0})),d(B,X)};G(K,B=>{t($).length>0&&B(V)})}d(j,z)}),e(R),U(()=>ut(R,"viewBox",`0 0 800 ${t(c)??""}`)),d(i,R),ft()}var Za=_('<div class="h-full w-full"><!></div>'),Ja=_('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">Collecting performance data...</div>');function tr(i,r){xt(r,!1),Rt(),Ot(i,{title:"PORTFOLIO PERFORMANCE",titleRight:"24H",class:"h-[320px]",children:(n,u)=>{var m=yt(),x=vt(m);{var h=k=>{var c=Za(),o=a(c);{let g=st(()=>[{label:"Equity",data:C.portfolioChartData,variant:C.totalPl>=0?"green":"red"}]);Ae(o,{get series(){return t(g)},get labels(){return C.portfolioChartLabels},showArea:!0,showGrid:!0,showDots:!1,formatValue:F=>`$${(F/1e3).toFixed(1)}k`})}e(c),d(k,c)},b=k=>{var c=Ja();d(k,c)};G(x,k=>{C.portfolioChartData.length>1?k(h):k(b,!1)})}d(n,m)},$$slots:{default:!0}}),ft()}var er=_('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">No positions to display</div>'),ar=_('<div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full"></div> <span class="hud-value-sm"> </span> <span> </span></div>'),rr=_('<div class="h-full flex flex-col"><div class="flex flex-wrap gap-3 mb-2 pb-2 border-b border-hud-line/30 shrink-0"></div> <div class="flex-1 min-h-0 w-full"><!></div></div>'),sr=_('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">Loading position data...</div>');function ir(i,r){xt(r,!1);const n=["cyan","purple","yellow","blue","green"];Rt(),Ot(i,{title:"POSITION PERFORMANCE",titleRight:"% CHANGE",class:"h-[320px]",children:(u,m)=>{var x=yt(),h=vt(x);{var b=c=>{var o=er();d(c,o)},k=c=>{var o=yt(),g=vt(o);{var F=p=>{var l=rr(),w=a(l);ht(w,5,()=>C.positions.slice(0,5),_t,(f,E,A)=>{const O=st(()=>t(E).unrealized_pl>=0),P=st(()=>t(E).unrealized_pl/(t(E).market_value-t(E).unrealized_pl)*100),I=st(()=>n[A%n.length]);var M=ar(),R=a(M),H=s(R,2),q=a(H,!0);e(H);var et=s(H,2),rt=a(et,!0);e(et),e(M),U(tt=>{be(R,`background-color: var(--color-hud-${t(I)??""})`),T(q,t(E).symbol),dt(et,1,`hud-label ${t(O)?"text-hud-success":"text-hud-error"}`),T(rt,tt)},[()=>ee(t(P))]),d(f,M)}),e(w);var S=s(w,2),y=a(S);{let f=st(()=>C.normalizedPositionSeries.slice(0,5));Ae(y,{get series(){return t(f)},showArea:!1,showGrid:!0,showDots:!1,animated:!1,formatValue:E=>`${E>=0?"+":""}${E.toFixed(1)}%`})}e(S),e(l),d(p,l)},v=p=>{var l=sr();d(p,l)};G(g,p=>{C.normalizedPositionSeries.length>0?p(F):p(v,!1)},!0)}d(c,o)};G(h,c=>{C.positions.length===0?c(b):c(k,!1)})}d(u,x)},$$slots:{default:!0}}),ft()}var lr=_('<div class="text-hud-text-dim text-sm py-4 text-center">Gathering signals...</div>'),nr=_('<span class="text-hud-warning text-xs">₿</span>'),or=_('<p class="text-xs text-hud-text-dim line-clamp-2 break-words"> </p>'),dr=_('<span><span class="text-hud-text-dim"> </span> <span class="hud-nums"> </span></span>'),vr=_('<div class="flex flex-nowrap items-center gap-1 whitespace-nowrap"></div>'),cr=_('<div class="mt-1 grid grid-cols-[minmax(0,1fr)_auto] gap-2 items-start"><div class="min-w-0"><!></div> <!></div>'),ur=_("<span> </span>"),hr=_('<span class="hud-label"> </span>'),pr=_('<div><div class="min-w-0"><div class="flex items-center gap-2 min-w-0"><!> <span class="hud-value-sm"> </span> <span> </span></div> <!></div> <div class="flex flex-col items-end gap-1 shrink-0"><!> <span> </span></div></div>'),xr=_('<div class="overflow-y-auto h-full space-y-1"><div class="flex items-center justify-between px-2 pb-2 text-[9px] uppercase tracking-[0.3em] text-hud-text-dim border-b border-hud-line/20"><span>Symbol / Source</span> <span>Volume / Sentiment</span></div> <!></div>');function fr(i,r){xt(r,!1),Rt();{let n=st(()=>C.signals.length.toString());Ot(i,{title:"ACTIVE SIGNALS",get titleRight(){return t(n)},class:"h-80",children:(u,m)=>{var x=xr(),h=s(a(x),2);{var b=c=>{var o=lr();d(c,o)},k=c=>{var o=yt(),g=vt(o);ht(g,3,()=>C.signals.slice(0,20),(F,v)=>`${F.symbol}-${F.source}-${v}`,(F,v,p)=>{const l=st(()=>[t(v).bullish!==void 0?{label:"Bull",value:t(v).bullish,color:"text-hud-success"}:null,t(v).bearish!==void 0?{label:"Bear",value:t(v).bearish,color:"text-hud-error"}:null,t(v).score!==void 0?{label:"Score",value:t(v).score}:null,t(v).upvotes!==void 0?{label:"Up",value:t(v).upvotes}:null,t(v).price!==void 0?{label:"Px",value:Ct(t(v).price)}:null,t(v).momentum!==void 0?{label:"Mom",value:`${t(v).momentum>=0?"+":""}${t(v).momentum.toFixed(2)}%`,color:t(v).momentum>=0?"text-hud-success":"text-hud-error"}:null].filter(Boolean));Gt(F,{position:"right",children:y=>{var f=pr(),E=a(f),A=a(E),O=a(A);{var P=$=>{var L=nr();d($,L)};G(O,$=>{t(v).isCrypto&&$(P)})}var I=s(O,2),M=a(I,!0);e(I);var R=s(I,2),H=a(R,!0);e(R),e(A);var q=s(A,2);{var et=$=>{var L=cr(),N=a(L),z=a(N);{var K=X=>{var Q=or(),it=a(Q,!0);e(Q),U(()=>T(it,t(v).reason)),d(X,Q)};G(z,X=>{t(v).reason&&X(K)})}e(N);var V=s(N,2);{var B=X=>{var Q=vr();ht(Q,5,()=>t(l).slice(0,3),_t,(it,nt)=>{var ct=dr(),at=a(ct),lt=a(at,!0);e(at);var J=s(at,2),pt=a(J,!0);e(J),e(ct),U(()=>{dt(ct,1,`hud-chip ${(t(nt).color||"")??""}`),T(lt,t(nt).label),T(pt,t(nt).value)}),d(it,ct)}),e(Q),d(X,Q)};G(V,X=>{t(l).length>0&&X(B)})}e(L),d($,L)};G(q,$=>{(t(v).reason||t(l).length>0)&&$(et)})}e(E);var rt=s(E,2),tt=a(rt);{var j=$=>{var L=ur(),N=a(L);e(L),U(z=>{dt(L,1,`hud-label ${t(v).momentum>=0?"text-hud-success":"text-hud-error"}`),T(N,`MOM ${t(v).momentum>=0?"+":""}${z??""}%`)},[()=>t(v).momentum.toFixed(1)]),d($,L)},Z=$=>{var L=hr(),N=a(L);e(L),U(()=>T(N,`VOL ${t(v).volume??""}`)),d($,L)};G(tt,$=>{t(v).isCrypto&&t(v).momentum!==void 0?$(j):$(Z,!1)})}var W=s(tt,2),Y=a(W);e(W),e(rt),e(f),U(($,L,N)=>{dt(f,1,`grid grid-cols-[minmax(0,1fr)_auto] gap-3 py-2 px-2 cursor-help hud-row ${t(v).isCrypto?"bg-hud-warning/5":""}`),T(M,t(v).symbol),dt(R,1,`hud-label ${t(v).isCrypto?"text-hud-warning":""}`),T(H,$),dt(W,1,`hud-value-sm hud-nums ${L??""}`),T(Y,`${N??""}%`)},[()=>{var $;return(($=t(v).source)==null?void 0:$.toUpperCase())||"N/A"},()=>Yt(t(v).sentiment),()=>(t(v).sentiment*100).toFixed(0)]),$t(3,f,()=>ke,()=>({x:-10,duration:200,delay:t(p)*20})),d(y,f)},content:y=>{{let f=st(()=>t(v).symbol),E=st(()=>{var O;return((O=t(v).source)==null?void 0:O.toUpperCase())||"N/A"}),A=st(()=>[{label:"Sentiment",value:`${(t(v).sentiment*100).toFixed(0)}%`,color:Yt(t(v).sentiment)},{label:"Volume",value:t(v).volume},...t(v).bullish!==void 0?[{label:"Bullish",value:t(v).bullish,color:"text-hud-success"}]:[],...t(v).bearish!==void 0?[{label:"Bearish",value:t(v).bearish,color:"text-hud-error"}]:[],...t(v).score!==void 0?[{label:"Score",value:t(v).score}]:[],...t(v).upvotes!==void 0?[{label:"Upvotes",value:t(v).upvotes}]:[],...t(v).momentum!==void 0?[{label:"Momentum",value:`${t(v).momentum>=0?"+":""}${t(v).momentum.toFixed(2)}%`}]:[],...t(v).price!==void 0?[{label:"Price",value:Ct(t(v).price)}]:[]]);Se(y,{get title(){return`${t(f)??""} - ${t(E)??""}`},get items(){return t(A)},get description(){return t(v).reason}})}},$$slots:{default:!0,content:!0}})}),d(c,o)};G(h,c=>{C.signals.length===0?c(b):c(k,!1)})}e(x),d(u,x)},$$slots:{default:!0}})}ft()}var _r=_('<div class="flex justify-between gap-4"><span class="text-hud-text-dim"> </span> <span class="text-hud-text text-right font-mono"> </span></div>'),mr=_('<div class="text-hud-text-dim"> </div>'),gr=_('<div class="border-t border-hud-line pt-2"><div class="text-hud-warning text-xs">RESEARCH CONTEXT</div> <div class="text-xs space-y-1 mt-1"><div> </div> <!></div></div>'),br=_('<div class="border-t border-hud-line pt-2"><div class="text-hud-success text-xs">POSITION ENTRY</div> <div class="text-xs space-y-1 mt-1"><div> </div> <div> </div></div></div>'),yr=_('<div class="space-y-2 max-w-md"><div class="font-bold text-hud-primary"> </div> <div class="border-t border-hud-line pt-2 space-y-1"></div> <!> <!></div>');function Jt(i,r){xt(r,!0);const n=D(()=>()=>{const{timestamp:p,agent:l,action:w,symbol:S,...y}=r.log;return y});function u(p,l){return l==null?"N/A":typeof l=="boolean"?l?"✓":"✗":typeof l=="number"?p.includes("pct")||p.includes("confidence")?`${(l*100).toFixed(1)}%`:l.toLocaleString():Array.isArray(l)?l.join(", "):typeof l=="object"?JSON.stringify(l,null,2):String(l)}const m=D(()=>{var p,l;return r.log.symbol&&((l=(p=C.status)==null?void 0:p.signalResearch)==null?void 0:l[r.log.symbol])}),x=D(()=>{var p,l;return r.log.symbol&&((l=(p=C.status)==null?void 0:p.positionEntries)==null?void 0:l[r.log.symbol])});var h=yr(),b=a(h),k=a(b);e(b);var c=s(b,2);ht(c,21,()=>Object.entries(t(n)()),_t,(p,l)=>{var w=D(()=>_e(t(l),2));let S=()=>t(w)[0],y=()=>t(w)[1];var f=_r(),E=a(f),A=a(E);e(E);var O=s(E,2),P=a(O,!0);e(O),e(f),U(I=>{T(A,`${S()??""}:`),T(P,I)},[()=>u(S(),y())]),d(p,f)}),e(c);var o=s(c,2);{var g=p=>{var l=gr(),w=s(a(l),2),S=a(w),y=a(S);e(S);var f=s(S,2);{var E=A=>{var O=mr(),P=a(O,!0);e(O),U(()=>T(P,t(m).reasoning)),d(A,O)};G(f,A=>{t(m).reasoning&&A(E)})}e(w),e(l),U(A=>T(y,`Verdict: ${t(m).verdict??""} (${A??""}%)`),[()=>(t(m).confidence*100).toFixed(0)]),d(p,l)};G(o,p=>{t(m)&&p(g)})}var F=s(o,2);{var v=p=>{var l=br(),w=s(a(l),2),S=a(w),y=a(S);e(S);var f=s(S,2),E=a(f);e(f),e(w),e(l),U(A=>{T(y,`Entry: $${t(x).entry_price??""}`),T(E,`Time: ${A??""}`)},[()=>new Date(t(x).entry_time).toLocaleString()]),d(p,l)};G(F,p=>{t(x)&&p(v)})}e(h),U((p,l)=>T(k,`${p??""} - ${l??""}`),[()=>{var p;return((p=r.log.agent)==null?void 0:p.toUpperCase())||"N/A"},()=>{var p;return((p=r.log.action)==null?void 0:p.toUpperCase())||"N/A"}]),d(i,h),ft()}var wr=_("<option> </option>"),kr=_("<option> </option>"),Sr=_('<button class="text-xs text-hud-error hover:text-hud-text-bright transition-colors uppercase tracking-wider ml-auto">Clear Filters</button>'),Ar=_('<div class="border-b border-hud-line p-4"><div class="flex flex-wrap gap-3 items-center"><div class="flex items-center gap-2"><label class="hud-label text-hud-text-dim shrink-0" for="agent-filter">AGENT</label> <select id="agent-filter" class="hud-input text-xs py-1 px-2"><option>All Agents</option><!></select></div> <div class="flex items-center gap-2"><label class="hud-label text-hud-text-dim shrink-0" for="action-filter">ACTION</label> <select id="action-filter" class="hud-input text-xs py-1 px-2"><option>All Actions</option><!></select></div> <div class="flex items-center gap-2"><label class="hud-label text-hud-text-dim shrink-0" for="symbol-filter">SYMBOL</label> <input id="symbol-filter" type="text" class="hud-input text-xs py-1 px-2 w-32" placeholder="Search..."/></div> <!></div></div>');function Cr(i,r){xt(r,!0);let n=D(()=>[...new Set(C.fullLogs.map(P=>P.agent))].sort()),u=D(()=>[...new Set(C.fullLogs.map(P=>P.action))].sort());function m(P,I){if(I===""){const{[P]:M,...R}=C.logFilters;C.logFilters=R}else C.logFilters={...C.logFilters,[P]:I}}function x(){C.logFilters={}}let h=D(()=>Object.keys(C.logFilters).length>0);var b=Ar(),k=a(b),c=a(k),o=s(a(c),2);o.__change=P=>m("agent",P.currentTarget.value);var g=a(o);g.value=g.__value="";var F=s(g);ht(F,17,()=>t(n),_t,(P,I)=>{var M=wr(),R=a(M,!0);e(M);var H={};U(()=>{T(R,t(I)),H!==(H=t(I))&&(M.value=(M.__value=t(I))??"")}),d(P,M)}),e(o);var v;se(o),e(c);var p=s(c,2),l=s(a(p),2);l.__change=P=>m("action",P.currentTarget.value);var w=a(l);w.value=w.__value="";var S=s(w);ht(S,17,()=>t(u),_t,(P,I)=>{var M=kr(),R=a(M,!0);e(M);var H={};U(()=>{T(R,t(I)),H!==(H=t(I))&&(M.value=(M.__value=t(I))??"")}),d(P,M)}),e(l);var y;se(l),e(p);var f=s(p,2),E=s(a(f),2);Nt(E),E.__input=P=>m("symbol",P.currentTarget.value),e(f);var A=s(f,2);{var O=P=>{var I=Sr();I.__click=x,d(P,I)};G(A,P=>{t(h)&&P(O)})}e(k),e(b),U(()=>{v!==(v=C.logFilters.agent||"")&&(o.value=(o.__value=C.logFilters.agent||"")??"",ie(o,C.logFilters.agent||"")),y!==(y=C.logFilters.action||"")&&(l.value=(l.__value=C.logFilters.action||"")??"",ie(l,C.logFilters.action||"")),Ve(E,C.logFilters.symbol||"")}),d(i,b),ft()}Ft(["change","input","click"]);var Tr=_('<div class="text-hud-text-dim py-8 text-center"> </div>'),$r=_('<span class="text-hud-primary ml-1"> </span>'),Er=_('<span class="text-hud-primary ml-1">•</span>'),Pr=_('<div class="flex items-start gap-2 py-1 hover:bg-hud-line/5 cursor-pointer" role="button" tabindex="0"><span class="text-hud-text-dim shrink-0 w-[65px]"> </span> <span> </span> <span class="text-hud-text flex-1 text-right"> <!> <!></span> <span class="text-hud-text-dim text-xs shrink-0"> </span></div>'),Lr=_('<div class="bg-hud-bg/50 p-2 mb-1 text-xs"><!></div>'),Or=_('<div class="border-b border-hud-line/10"><!> <!></div>'),Nr=_('<div class="modal-backdrop"><div class="modal-content"><div class="modal-header"><div><h2 class="hud-label text-lg">ACTIVITY LOGS</h2> <p class="text-xs text-hud-text-dim mt-1"> </p></div> <button class="modal-close" aria-label="Close modal">×</button></div> <div class="modal-body"><!> <div class="flex-1 overflow-y-auto p-4 space-y-1 font-mono text-xs"><!></div></div></div></div>');function Fr(i,r){xt(r,!0);let n=null,u=bt(null);function m(O){O.key==="Escape"&&r.onClose()}function x(O){O.target===O.currentTarget&&r.onClose()}function h(O){const{timestamp:P,agent:I,action:M,symbol:R,...H}=O;return Object.keys(H).length>0}function b(O){ot(u,t(u)===O?null:O,!0)}ce(()=>{C.fetchFullLogs(1e3),n=setInterval(()=>{C.fetchFullLogs(1e3)},5e3),window.addEventListener("keydown",m)}),Pe(()=>{n&&clearInterval(n),window.removeEventListener("keydown",m)});let k=D(()=>C.filteredLogs);var c=Nr();c.__click=x;var o=a(c);o.__click=O=>O.stopPropagation();var g=a(o),F=a(g),v=s(a(F),2),p=a(v);e(v),e(F);var l=s(F,2);l.__click=function(...O){var P;(P=r.onClose)==null||P.apply(this,O)},e(g);var w=s(g,2),S=a(w);Cr(S,{});var y=s(S,2),f=a(y);{var E=O=>{var P=Tr(),I=a(P,!0);e(P),U(()=>T(I,C.fullLogs.length===0?"No logs available":"No logs match the current filters")),d(O,P)},A=O=>{var P=yt(),I=vt(P);ht(I,17,()=>t(k),_t,(M,R,H)=>{var q=Or(),et=a(q);Gt(et,{position:"right",children:W=>{var Y=Pr();Y.__click=()=>b(H);var $=a(Y),L=a($,!0);e($);var N=s($,2),z=a(N,!0);e(N);var K=s(N,2),V=a(K),B=s(V);{var X=at=>{var lt=$r(),J=a(lt);e(lt),U(()=>T(J,`(${t(R).symbol??""})`)),d(at,lt)};G(B,at=>{t(R).symbol&&at(X)})}var Q=s(B,2);{var it=at=>{var lt=Er();d(at,lt)};G(Q,at=>{h(t(R))&&at(it)})}e(K);var nt=s(K,2),ct=a(nt,!0);e(nt),e(Y),U((at,lt)=>{T(L,at),dt(N,1,`shrink-0 w-[80px] text-right ${lt??""}`),T(z,t(R).agent),T(V,`${t(R).action??""} `),T(ct,t(u)===H?"⌃":"⌄")},[()=>new Date(t(R).timestamp).toLocaleTimeString("en-US",{hour12:!1}),()=>ye(t(R).agent)]),d(W,Y)},content:W=>{Jt(W,{get log(){return t(R)}})},$$slots:{default:!0,content:!0}});var rt=s(et,2);{var tt=j=>{var Z=Lr(),W=a(Z);Jt(W,{get log(){return t(R)}}),e(Z),d(j,Z)};G(rt,j=>{t(u)===H&&h(t(R))&&j(tt)})}e(q),d(M,q)}),d(O,P)};G(f,O=>{t(k).length===0?O(E):O(A,!1)})}e(y),e(w),e(o),e(c),U(()=>T(p,`Showing ${t(k).length??""} of ${C.fullLogs.length??""} logs`)),$t(3,c,()=>It,()=>({duration:200})),d(i,c),ft()}Ft(["click"]);function Qt(i){const r=new MutationObserver(()=>{i.scrollTop=i.scrollHeight});return r.observe(i,{childList:!0,subtree:!0}),{destroy(){r.disconnect()}}}var Ir=_('<div class="text-hud-text-dim py-4 text-center">Waiting for activity...</div>'),Mr=_('<span class="text-hud-primary ml-1"> </span>'),Rr=_('<span class="text-hud-primary ml-1">•</span>'),Dr=_('<span><span class="text-hud-text-dim"> </span> <span class="hud-nums"> </span></span>'),Ur=_('<div class="mt-1 flex flex-wrap gap-1 text-[10px]"></div>'),Gr=_('<div class="py-2 px-2 cursor-help hud-row"><div class="grid grid-cols-[64px_84px_minmax(0,1fr)] gap-2 items-start"><span class="text-hud-text-dim shrink-0 hidden sm:inline"> </span> <span> </span> <span class="text-hud-text min-w-0 break-words line-clamp-2"> <!> <!></span></div> <!></div>'),jr=_('<div class="hud-panel flex flex-col h-80"><div class="flex justify-between items-center px-4 py-2 border-b border-hud-line shrink-0"><span class="hud-label">ACTIVITY FEED</span> <div class="flex items-center gap-3"><span class="hud-label">LIVE</span> <button class="text-[10px] text-hud-primary hover:text-hud-text-bright transition-colors uppercase tracking-wider cursor-pointer">View All</button></div></div> <div class="px-4 py-2 border-b border-hud-line/30"><div class="flex flex-wrap gap-3 text-[10px] text-hud-text-dim"><span class="hud-kv"><span>EVENTS (1M)</span><span class="hud-nums text-hud-text-bright"> </span></span> <span class="hud-kv"><span>EVENTS (5M)</span><span class="hud-nums text-hud-text-bright"> </span></span> <span class="hud-kv"><span>ACTIVE AGENTS</span><span class="hud-nums text-hud-text-bright"> </span></span> <span class="hud-kv"><span>ERRORS (5M)</span><span class="hud-nums text-hud-error"> </span></span></div></div> <div class="flex-1 min-h-0 p-3"><div class="overflow-y-auto h-full font-mono text-xs space-y-1"><!></div></div></div> <!>',1);function zr(i,r){xt(r,!0);let n=bt(!1);const u=["symbol","count","confidence","verdict","status","pnl","price","reason","message","error"],m={symbol:"SYM",count:"CT",confidence:"CONF",verdict:"VERD",status:"STATUS",pnl:"P&L",price:"PX",reason:"WHY",message:"MSG",error:"ERR"};function x(L){const{timestamp:N,agent:z,action:K,symbol:V,...B}=L;return Object.keys(B).length>0}function h(L,N){if(N==null)return null;const z=L.toLowerCase();if(typeof N=="number")return z.includes("confidence")||z.includes("pct")||z.includes("percent")?{text:`${(Math.abs(N)<=1?N*100:N).toFixed(1)}%`}:z.includes("pnl")||z.includes("pl")?{text:`${N>=0?"+":""}${N.toFixed(2)}`,color:N>=0?"text-hud-success":"text-hud-error"}:z.includes("price")?{text:Ct(N)}:{text:N.toLocaleString()};if(typeof N=="boolean")return{text:N?"YES":"NO"};const K=Array.isArray(N)?N.join(", "):String(N),V=K.length>60?`${K.slice(0,60)}…`:K;if(z.includes("error"))return{text:V,color:"text-hud-error"};if(z.includes("message"))return{text:V,color:"text-hud-text-dim"};if(z.includes("verdict")){const B=V.toUpperCase();return B==="BUY"?{text:B,color:"text-hud-success"}:B==="SELL"||B==="SKIP"?{text:B,color:"text-hud-error"}:{text:B,color:"text-hud-warning"}}return{text:V}}function b(L){const{timestamp:N,agent:z,action:K,...V}=L,B=Object.entries(V).filter(([Q])=>u.includes(Q)).sort(([Q],[it])=>u.indexOf(Q)-u.indexOf(it)),X=[];for(const[Q,it]of B){const nt=h(Q,it);if(nt&&(X.push({label:m[Q]||Q.toUpperCase(),value:nt.text,color:nt.color}),X.length>=4))break}return X}function k(){ot(n,!0)}function c(){ot(n,!1)}const o=D(()=>()=>{const L=C.time.getTime(),N=L-6e4,z=L-3e5;let K=0,V=0,B=0;const X=new Set;for(const Q of C.logs){const it=new Date(Q.timestamp).getTime();if(it>=N&&(K+=1),it>=z){V+=1,Q.agent&&X.add(Q.agent);const nt=String(Q.action||"").toLowerCase(),ct=String(Q.error||Q.message||"").toLowerCase();(nt.includes("error")||ct.includes("error"))&&(B+=1)}}return{events1m:K,events5m:V,activeAgents:X.size,errors5m:B}});var g=jr(),F=vt(g),v=a(F),p=s(a(v),2),l=s(a(p),2);l.__click=k,e(p),e(v);var w=s(v,2),S=a(w),y=a(S),f=s(a(y)),E=a(f,!0);e(f),e(y);var A=s(y,2),O=s(a(A)),P=a(O,!0);e(O),e(A);var I=s(A,2),M=s(a(I)),R=a(M,!0);e(M),e(I);var H=s(I,2),q=s(a(H)),et=a(q,!0);e(q),e(H),e(S),e(w);var rt=s(w,2),tt=a(rt),j=a(tt);{var Z=L=>{var N=Ir();d(L,N)},W=L=>{var N=yt(),z=vt(N);ht(z,19,()=>C.logs.slice(-200),(K,V)=>`${K.timestamp}-${V}`,(K,V)=>{const B=D(()=>b(t(V)));Gt(K,{position:"right",children:it=>{var nt=Gr(),ct=a(nt),at=a(ct),lt=a(at,!0);e(at);var J=s(at,2),pt=a(J,!0);e(J);var mt=s(J,2),gt=a(mt),kt=s(gt);{var Et=At=>{var Tt=Mr(),Kt=a(Tt);e(Tt),U(()=>T(Kt,`(${t(V).symbol??""})`)),d(At,Tt)};G(kt,At=>{t(V).symbol&&At(Et)})}var Bt=s(kt,2);{var Ht=At=>{var Tt=Rr();d(At,Tt)};G(Bt,At=>{x(t(V))&&At(Ht)})}e(mt),e(ct);var Ce=s(ct,2);{var Te=At=>{var Tt=Ur();ht(Tt,21,()=>t(B),_t,(Kt,qt)=>{var jt=Dr(),Wt=a(jt),$e=a(Wt,!0);e(Wt);var ae=s(Wt,2),Ee=a(ae,!0);e(ae),e(jt),U(()=>{dt(jt,1,`hud-chip ${(t(qt).color||"")??""}`),T($e,t(qt).label),T(Ee,t(qt).value)}),d(Kt,jt)}),e(Tt),d(At,Tt)};G(Ce,At=>{t(B).length>0&&At(Te)})}e(nt),U((At,Tt)=>{T(lt,At),dt(J,1,`shrink-0 text-right ${Tt??""}`),T(pt,t(V).agent),T(gt,`${t(V).action??""} `)},[()=>new Date(t(V).timestamp).toLocaleTimeString("en-US",{hour12:!1}),()=>ye(t(V).agent)]),$t(3,nt,()=>It,()=>({duration:200})),d(it,nt)},content:it=>{Jt(it,{get log(){return t(V)}})},$$slots:{default:!0,content:!0}})}),d(L,N)};G(j,L=>{C.logs.length===0?L(Z):L(W,!1)})}e(tt),ge(tt,L=>Qt==null?void 0:Qt(L)),e(rt),e(F);var Y=s(F,2);{var $=L=>{Fr(L,{onClose:c})};G(Y,L=>{t(n)&&L($)})}U((L,N,z,K)=>{T(E,L),T(P,N),T(R,z),T(et,K)},[()=>t(o)().events1m,()=>t(o)().events5m,()=>t(o)().activeAgents,()=>t(o)().errors5m]),d(i,g),ft()}Ft(["click"]);var Vr=_('<li class="flex items-start gap-2"><span class="text-hud-success shrink-0 mt-0.5">+</span> <span class="text-xs text-hud-success leading-relaxed"> </span></li>'),Yr=_('<div class="research-section"><div class="hud-label text-hud-text-dim mb-2">CATALYSTS</div> <ul class="space-y-1.5"></ul></div>'),Br=_('<li class="flex items-start gap-2"><span class="text-hud-error shrink-0 mt-0.5">−</span> <span class="text-xs text-hud-error leading-relaxed"> </span></li>'),Hr=_('<div class="research-section"><div class="hud-label text-hud-text-dim mb-2">RED FLAGS</div> <ul class="space-y-1.5"></ul></div>'),Kr=_('<div class="px-2 pb-2 space-y-3"><div class="research-section"><div class="hud-label text-hud-text-dim mb-1">REASONING</div> <p class="text-xs text-hud-text leading-relaxed"> </p></div> <div class="research-section grid grid-cols-2 gap-2"><div><span class="hud-label text-hud-text-dim block mb-0.5">Confidence</span> <span class="hud-value-sm text-hud-text-bright"> </span></div> <div><span class="hud-label text-hud-text-dim block mb-0.5">Sentiment</span> <span> </span></div> <div><span class="hud-label text-hud-text-dim block mb-0.5">Entry Quality</span> <span class="hud-value-sm text-hud-text"> </span></div> <div><span class="hud-label text-hud-text-dim block mb-0.5">Analyzed</span> <span class="hud-value-sm text-hud-text"> </span></div></div> <!> <!></div>');function qr(i,r){xt(r,!0);var n=Kr(),u=a(n),m=s(a(u),2),x=a(m,!0);e(m),e(u);var h=s(u,2),b=a(h),k=s(a(b),2),c=a(k);e(k),e(b);var o=s(b,2),g=s(a(o),2),F=a(g);e(g),e(o);var v=s(o,2),p=s(a(v),2),l=a(p,!0);e(p),e(v);var w=s(v,2),S=s(a(w),2),y=a(S,!0);e(S),e(w),e(h);var f=s(h,2);{var E=P=>{var I=Yr(),M=s(a(I),2);ht(M,21,()=>r.research.catalysts,_t,(R,H)=>{var q=Vr(),et=s(a(q),2),rt=a(et,!0);e(et),e(q),U(()=>T(rt,t(H))),d(R,q)}),e(M),e(I),d(P,I)};G(f,P=>{r.research.catalysts.length>0&&P(E)})}var A=s(f,2);{var O=P=>{var I=Hr(),M=s(a(I),2);ht(M,21,()=>r.research.red_flags,_t,(R,H)=>{var q=Br(),et=s(a(q),2),rt=a(et,!0);e(et),e(q),U(()=>T(rt,t(H))),d(R,q)}),e(M),e(I),d(P,I)};G(A,P=>{r.research.red_flags.length>0&&P(O)})}e(n),U((P,I,M,R,H)=>{T(x,r.research.reasoning),T(c,`${P??""}%`),dt(g,1,`hud-value-sm ${I??""}`),T(F,`${M??""}%`),T(l,R),T(y,H)},[()=>r.research.confidence!=null?(r.research.confidence*100).toFixed(0):"N/A",()=>Yt(r.research.sentiment),()=>r.research.sentiment!=null?(r.research.sentiment*100).toFixed(0):"N/A",()=>{var P;return((P=r.research.entry_quality)==null?void 0:P.toUpperCase())||"N/A"},()=>new Date(r.research.timestamp).toLocaleTimeString("en-US",{hour12:!1})]),d(i,n),ft()}var Wr=_('<div class="text-hud-text-dim text-sm py-4 text-center">Researching candidates...</div>'),Xr=_('<span class="text-xs text-hud-error bg-hud-error/10 px-1 rounded"> </span>'),Qr=_('<div class="flex flex-wrap gap-1"></div>'),Zr=_('<p class="text-xs text-hud-text-dim leading-tight mb-1 line-clamp-2 break-words"> </p> <!>',1),Jr=_('<div class="p-2 cursor-pointer" role="button" tabindex="0"><div class="flex justify-between items-center mb-1"><div class="flex items-center gap-2"><span class="hud-value-sm"> </span> <span class="text-hud-text-dim text-xs"> </span></div> <div class="flex items-center gap-2"><span> </span> <span> </span></div></div> <!></div>'),ts=_('<li class="text-[10px] text-hud-success"> </li>'),es=_('<div class="pt-1 border-t border-hud-line/30"><span class="text-[9px] text-hud-text-dim">CATALYSTS:</span> <ul class="mt-1 space-y-0.5"></ul></div>'),as=_('<li class="text-[10px] text-hud-error"> </li>'),rs=_('<div class="pt-1 border-t border-hud-line/30"><span class="text-[9px] text-hud-text-dim">RED FLAGS:</span> <ul class="mt-1 space-y-0.5"></ul></div>'),ss=_('<div class="space-y-2 min-w-[200px]"><div class="hud-label text-hud-primary border-b border-hud-line/50 pb-1"> </div> <div class="space-y-1"><div class="flex justify-between"><span class="text-hud-text-dim">Confidence</span> <span class="text-hud-text-bright"> </span></div> <div class="flex justify-between"><span class="text-hud-text-dim">Sentiment</span> <span> </span></div> <div class="flex justify-between"><span class="text-hud-text-dim">Analyzed</span> <span class="text-hud-text"> </span></div></div> <!> <!></div>'),is=_("<div><!></div>"),ls=_("<div><!> <!></div>"),ns=_('<div class="overflow-y-auto h-full space-y-2"><!></div>');function os(i,r){xt(r,!0);let n=D(()=>{var h;return Object.entries(((h=C.status)==null?void 0:h.signalResearch)||{})}),u=bt(null);function m(h){ot(u,t(u)===h?null:h,!0)}function x(h,b){(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),m(b))}{let h=D(()=>t(n).length.toString());Ot(i,{title:"SIGNAL RESEARCH",get titleRight(){return t(h)},class:"h-80",children:(b,k)=>{var c=ns(),o=a(c);{var g=v=>{var p=Wr();d(v,p)},F=v=>{var p=yt(),l=vt(p);ht(l,17,()=>t(n),([w,S])=>w,(w,S)=>{var y=D(()=>_e(t(S),2));let f=()=>t(y)[0];const A=D(()=>t(y)[1]),O=D(()=>t(u)===f());var P=ls();let I;var M=a(P);Gt(M,{position:"left",get disabled(){return t(O)},children:rt=>{var tt=Jr();tt.__click=()=>m(f()),tt.__keydown=it=>x(it,f());var j=a(tt),Z=a(j),W=a(Z),Y=a(W,!0);e(W);var $=s(W,2),L=a($,!0);e($),e(Z);var N=s(Z,2),z=a(N),K=a(z,!0);e(z);var V=s(z,2),B=a(V,!0);e(V),e(N),e(j);var X=s(j,2);{var Q=it=>{var nt=Zr(),ct=vt(nt),at=a(ct,!0);e(ct);var lt=s(ct,2);{var J=pt=>{var mt=Qr();ht(mt,21,()=>t(A).red_flags.slice(0,2),_t,(gt,kt)=>{var Et=Xr(),Bt=a(Et);e(Et),U(Ht=>T(Bt,`${Ht??""}...`),[()=>t(kt).slice(0,30)]),d(gt,Et)}),e(mt),d(pt,mt)};G(lt,pt=>{t(A).red_flags.length>0&&pt(J)})}U(()=>T(at,t(A).reasoning)),d(it,nt)};G(X,it=>{t(O)||it(Q)})}e(tt),U((it,nt,ct)=>{ut(tt,"aria-expanded",t(O)),T(Y,f()),T(L,t(O)?"⌃":"⌄"),dt(z,1,`hud-label ${it??""}`),T(K,nt),dt(V,1,`hud-value-sm font-bold ${ct??""}`),T(B,t(A).verdict)},[()=>ra(t(A).entry_quality),()=>{var it;return((it=t(A).entry_quality)==null?void 0:it.toUpperCase())||"N/A"},()=>aa(t(A).verdict)]),d(rt,tt)},content:rt=>{var tt=ss(),j=a(tt),Z=a(j);e(j);var W=s(j,2),Y=a(W),$=s(a(Y),2),L=a($);e($),e(Y);var N=s(Y,2),z=s(a(N),2),K=a(z);e(z),e(N);var V=s(N,2),B=s(a(V),2),X=a(B,!0);e(B),e(V),e(W);var Q=s(W,2);{var it=at=>{var lt=es(),J=s(a(lt),2);ht(J,21,()=>t(A).catalysts,_t,(pt,mt)=>{var gt=ts(),kt=a(gt);e(gt),U(()=>T(kt,`+ ${t(mt)??""}`)),d(pt,gt)}),e(J),e(lt),d(at,lt)};G(Q,at=>{t(A).catalysts.length>0&&at(it)})}var nt=s(Q,2);{var ct=at=>{var lt=rs(),J=s(a(lt),2);ht(J,21,()=>t(A).red_flags,_t,(pt,mt)=>{var gt=as(),kt=a(gt);e(gt),U(()=>T(kt,`- ${t(mt)??""}`)),d(pt,gt)}),e(J),e(lt),d(at,lt)};G(nt,at=>{t(A).red_flags.length>0&&at(ct)})}e(tt),U((at,lt,J,pt)=>{T(Z,`${f()??""} DETAILS`),T(L,`${at??""}%`),dt(z,1,lt),T(K,`${J??""}%`),T(X,pt)},[()=>t(A).confidence!=null?(t(A).confidence*100).toFixed(0):"N/A",()=>te(Yt(t(A).sentiment)),()=>t(A).sentiment!=null?(t(A).sentiment*100).toFixed(0):"N/A",()=>new Date(t(A).timestamp).toLocaleTimeString("en-US",{hour12:!1})]),d(rt,tt)},$$slots:{default:!0,content:!0}});var R=s(M,2);{var H=q=>{var et=is(),rt=a(et);qr(rt,{get symbol(){return f()},get research(){return t(A)}}),e(et),$t(3,et,()=>na,()=>({duration:200})),d(q,et)};G(R,q=>{t(O)&&q(H)})}e(P),U(()=>I=dt(P,1,"border border-hud-line/30 rounded transition-all duration-200",null,I,{"research-card-expanded":t(O),"research-card-collapsed":!t(O)})),$t(3,P,()=>It,()=>({duration:200})),d(w,P)}),d(v,p)};G(o,v=>{t(n).length===0?v(g):v(F,!1)})}e(c),d(b,c)},$$slots:{default:!0}})}ft()}Ft(["click","keydown"]);var ds=_("<!> <!>",1),vs=_('<!> <!> <!> <!> <span class="hidden lg:inline text-hud-line">|</span> <!> <!> <span class="hidden lg:inline text-hud-line">|</span> <!> <!>',1),cs=_('<footer class="mt-4 pt-3 border-t border-hud-line flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3"><div class="flex flex-wrap gap-4 md:gap-6"><!></div> <div class="flex items-center gap-4"><span class="hud-label hidden md:inline">AUTONOMOUS TRADING SYSTEM</span> <span class="hud-value-sm">PAPER MODE</span></div></footer>');function us(i,r){xt(r,!0);let n=D(()=>C.config);var u=cs(),m=a(u),x=a(m);{var h=b=>{var k=vs(),c=vt(k);St(c,{label:"MAX POS",get value(){return`$${t(n).max_position_value??""}`}});var o=s(c,2);{let f=D(()=>(t(n).min_sentiment_score*100).toFixed(0));St(o,{label:"MIN SENT",get value(){return`${t(f)??""}%`}})}var g=s(o,2);St(g,{label:"TAKE PROFIT",get value(){return`${t(n).take_profit_pct??""}%`}});var F=s(g,2);St(F,{label:"STOP LOSS",get value(){return`${t(n).stop_loss_pct??""}%`}});var v=s(F,4);{let f=D(()=>t(n).options_enabled?"ON":"OFF"),E=D(()=>t(n).options_enabled?"text-hud-purple":"text-hud-text-dim");St(v,{label:"OPTIONS",get value(){return t(f)},get valueClassName(){return t(E)}})}var p=s(v,2);{var l=f=>{var E=ds(),A=vt(E);{let P=D(()=>{var I;return((I=t(n).options_target_delta)==null?void 0:I.toFixed(2))||"0.35"});St(A,{label:"OPT Δ",get value(){return t(P)}})}var O=s(A,2);{let P=D(()=>t(n).options_min_dte||7),I=D(()=>t(n).options_max_dte||45);St(O,{label:"OPT DTE",get value(){return`${t(P)??""}-${t(I)??""}`}})}d(f,E)};G(p,f=>{t(n).options_enabled&&f(l)})}var w=s(p,4);{let f=D(()=>t(n).crypto_enabled?"24/7":"OFF"),E=D(()=>t(n).crypto_enabled?"text-hud-warning":"text-hud-text-dim");St(w,{label:"CRYPTO",get value(){return t(f)},get valueClassName(){return t(E)}})}var S=s(w,2);{var y=f=>{{let E=D(()=>(t(n).crypto_symbols||["BTC","ETH","SOL"]).map(A=>A.split("/")[0]).join("/"));St(f,{label:"SYMBOLS",get value(){return t(E)}})}};G(S,f=>{t(n).crypto_enabled&&f(y)})}d(b,k)};G(x,b=>{t(n)&&b(h)})}e(m),zt(2),e(u),d(i,u),ft()}var hs=_('<div class="space-y-4"><div class="text-left bg-hud-panel p-4 border border-hud-line"><label class="hud-label block mb-2">API Token</label> <input type="password" class="hud-input w-full mb-2" placeholder="Enter MAHORAGA_API_TOKEN"/> <button class="hud-button w-full">Save & Connect</button></div> <p class="text-hud-text-dim text-xs">Find your token in <code class="text-hud-primary">.dev.vars</code> (local) or Cloudflare secrets (deployed)</p></div>'),ps=_('<p class="text-hud-text-dim text-xs">Enable the agent: <code class="text-hud-primary">curl -H "Authorization: Bearer $TOKEN" localhost:8787/agent/enable</code></p>'),xs=_('<div class="text-center py-8"><div class="text-hud-error text-2xl mb-4"> </div> <p class="text-hud-text-dim text-sm mb-6"> </p> <!></div>'),fs=_('<div class="min-h-screen bg-hud-bg flex items-center justify-center p-6"><!></div>');function _s(i,r){xt(r,!0);let n=D(()=>r.error.includes("Unauthorized")),u=bt(xe(localStorage.getItem("mahoraga_api_token")||""));function m(){const b=t(u).trim();b?localStorage.setItem("mahoraga_api_token",b):localStorage.removeItem("mahoraga_api_token"),ot(u,b,!0),C.poll()}var x=fs(),h=a(x);{let b=D(()=>t(n)?"AUTHENTICATION REQUIRED":"CONNECTION ERROR");Ot(h,{get title(){return t(b)},class:"max-w-md w-full",children:(k,c)=>{var o=xs(),g=a(o),F=a(g,!0);e(g);var v=s(g,2),p=a(v,!0);e(v);var l=s(v,2);{var w=y=>{var f=hs(),E=a(f),A=s(a(E),2);Nt(A);var O=s(A,2);O.__click=m,e(E),zt(2),e(f),Ut(A,()=>t(u),P=>ot(u,P)),d(y,f)},S=y=>{var f=ps();d(y,f)};G(l,y=>{t(n)?y(w):y(S,!1)})}e(o),U(()=>{T(F,t(n)?"NO TOKEN":"OFFLINE"),T(p,r.error)}),d(k,o)},$$slots:{default:!0}})}e(x),d(i,x),ft()}Ft(["click"]);var ms=_('<div class="space-y-6"><div class="text-center py-2"><h2 class="text-xl font-light text-hud-warning mb-2">Risk Disclaimer</h2> <p class="text-hud-text-dim text-xs">Please read carefully before proceeding</p></div> <div class="bg-hud-bg p-4 rounded text-xs text-hud-text-dim space-y-3 max-h-64 overflow-y-auto"><p>This software is provided for <strong class="text-hud-text">educational and informational purposes only</strong>. Nothing in this software constitutes financial, investment, legal, or tax advice.</p> <p><strong class="text-hud-text">By using this software, you acknowledge and agree that:</strong></p> <ul class="list-disc pl-4 space-y-1"><li>All trading and investment decisions are made <strong class="text-hud-warning">at your own risk</strong></li> <li>Markets are volatile and <strong class="text-hud-error">you can lose some or all of your capital</strong></li> <li>No guarantees of performance, profits, or outcomes are made</li> <li>The authors, contributors, and maintainers are not responsible for any financial losses</li> <li>You are solely responsible for your own trades and investment decisions</li> <li>This software may contain bugs, errors, or behave unexpectedly</li> <li>Past performance does not guarantee future results</li></ul> <p><strong class="text-hud-error">If you do not fully understand the risks involved in trading or investing, you should not use this software.</strong></p> <p>No member, contributor, or operator of this project shall be held liable for losses of any kind.</p></div> <div class="flex items-start gap-2"><input type="checkbox" id="acceptDisclaimer" class="accent-hud-primary mt-1"/> <label for="acceptDisclaimer" class="text-xs text-hud-text">I have read and understand the risks. I accept full responsibility for any losses that may occur from using this software.</label></div> <div class="pt-4 border-t border-hud-line"><button class="hud-button w-full disabled:opacity-50 disabled:cursor-not-allowed">I Understand, Continue</button></div></div>'),gs=_('<div class="space-y-6"><div class="text-center py-4"><h2 class="text-2xl font-light text-hud-text-bright mb-2">Welcome to Mahoraga</h2> <p class="text-hud-text-dim text-sm">Autonomous trading powered by social sentiment and AI analysis</p></div> <div class="space-y-4 text-sm text-hud-text"><div class="flex items-start gap-3"><span class="text-hud-success">1.</span><span>Monitors StockTwits for sentiment signals</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">2.</span><span>AI research agents analyze candidates 24/7</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">3.</span><span>LLM makes final trading decisions at market open</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">4.</span><span>Automatic stop-loss and take-profit protection</span></div></div> <div class="pt-4 border-t border-hud-line"><button class="hud-button w-full">Get Started</button></div></div>'),bs=_('<div class="text-hud-error text-sm p-2 border border-hud-error/30 rounded"> </div>'),ys=_('<div class="space-y-6"><div><h3 class="hud-label mb-4 text-hud-primary">Alpaca Trading Account</h3> <p class="text-xs text-hud-text-dim mb-4">Get your API keys from <a href="https://app.alpaca.markets" target="_blank" rel="noopener noreferrer" class="text-hud-primary hover:underline">app.alpaca.markets</a></p> <div class="space-y-3"><div><label class="hud-label block mb-1">API Key</label> <input type="text" class="hud-input w-full" placeholder="PK..."/></div> <div><label class="hud-label block mb-1">API Secret</label> <input type="password" class="hud-input w-full" placeholder="Secret key..."/></div> <div class="flex items-center gap-2"><input type="checkbox" id="paperMode" class="accent-hud-primary"/> <label for="paperMode" class="hud-label">Paper Trading Mode (recommended for testing)</label></div></div></div> <div><h3 class="hud-label mb-4 text-hud-primary">OpenAI API Key (Optional)</h3> <p class="text-xs text-hud-text-dim mb-4">Required for AI-powered analysis. Get from <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener noreferrer" class="text-hud-primary hover:underline">platform.openai.com</a></p> <input type="password" class="hud-input w-full" placeholder="sk-..."/></div> <div><h3 class="hud-label mb-4 text-hud-primary">Starting Equity</h3> <p class="text-xs text-hud-text-dim mb-4">Your account starting balance (for P&L tracking)</p> <input type="number" class="hud-input w-full"/></div> <!> <div class="flex gap-4 pt-4 border-t border-hud-line"><button class="hud-button flex-1">Back</button> <button class="hud-button flex-1"> </button></div></div>'),ws=_('<div class="space-y-6 text-center py-8"><div class="text-hud-success text-4xl mb-4">&#10003;</div> <h2 class="text-xl font-light text-hud-text-bright">Configuration Saved</h2> <p class="text-hud-text-dim text-sm">Please restart the agent to apply the new settings:</p> <code class="block bg-hud-bg p-3 text-hud-primary text-sm rounded">curl localhost:8787/agent/disable && curl localhost:8787/agent/enable</code> <button class="hud-button mt-4">Continue to Dashboard</button></div>'),ks=_('<div class="min-h-screen bg-hud-bg flex items-center justify-center p-6"><!></div>');function Ss(i,r){xt(r,!0);let n=bt(0),u=bt(!1),m=bt(!1),x=bt(null),h=bt(""),b=bt(""),k=bt(""),c=bt(!0),o=bt(1e5);async function g(){if(!t(h)||!t(b)){ot(x,"Alpaca API Key and Secret are required");return}ot(m,!0),ot(x,null);const p=await Ye({alpaca_key:t(h),alpaca_secret:t(b),openai_key:t(k)||void 0,paper_mode:t(c),starting_equity:t(o)});ot(m,!1),p.error?ot(x,p.error,!0):ot(n,3)}var F=ks(),v=a(F);Ot(v,{title:"MAHORAGA SETUP",class:"w-full max-w-xl",children:(p,l)=>{var w=yt(),S=vt(w);{var y=E=>{var A=ms(),O=s(a(A),4),P=a(O);Nt(P),zt(2),e(O);var I=s(O,2),M=a(I);M.__click=()=>ot(n,1),e(I),e(A),U(()=>M.disabled=!t(u)),le(P,()=>t(u),R=>ot(u,R)),d(E,A)},f=E=>{var A=yt(),O=vt(A);{var P=M=>{var R=gs(),H=s(a(R),4),q=a(H);q.__click=()=>ot(n,2),e(H),e(R),d(M,R)},I=M=>{var R=yt(),H=vt(R);{var q=rt=>{var tt=ys(),j=a(tt),Z=s(a(j),4),W=a(Z),Y=s(a(W),2);Nt(Y),e(W);var $=s(W,2),L=s(a($),2);Nt(L),e($);var N=s($,2),z=a(N);Nt(z),zt(2),e(N),e(Z),e(j);var K=s(j,2),V=s(a(K),4);Nt(V),e(K);var B=s(K,2),X=s(a(B),4);Nt(X),e(B);var Q=s(B,2);{var it=J=>{var pt=bs(),mt=a(pt,!0);e(pt),U(()=>T(mt,t(x))),d(J,pt)};G(Q,J=>{t(x)&&J(it)})}var nt=s(Q,2),ct=a(nt);ct.__click=()=>ot(n,1);var at=s(ct,2);at.__click=g;var lt=a(at,!0);e(at),e(nt),e(tt),U(()=>{at.disabled=t(m),T(lt,t(m)?"Saving...":"Save & Continue")}),Ut(Y,()=>t(h),J=>ot(h,J)),Ut(L,()=>t(b),J=>ot(b,J)),le(z,()=>t(c),J=>ot(c,J)),Ut(V,()=>t(k),J=>ot(k,J)),Ut(X,()=>t(o),J=>ot(o,J)),d(rt,tt)},et=rt=>{var tt=yt(),j=vt(tt);{var Z=W=>{var Y=ws(),$=s(a(Y),8);$.__click=function(...L){var N;(N=r.onComplete)==null||N.apply(this,L)},e(Y),d(W,Y)};G(j,W=>{t(n)===3&&W(Z)},!0)}d(rt,tt)};G(H,rt=>{t(n)===2?rt(q):rt(et,!1)},!0)}d(M,R)};G(O,M=>{t(n)===1?M(P):M(I,!1)},!0)}d(E,A)};G(S,E=>{t(n)===0?E(y):E(f,!1)})}d(p,w)},$$slots:{default:!0}}),e(F),d(i,F),ft()}Ft(["click"]);var As=_('<div class="min-h-screen bg-hud-bg"><div class="max-w-[1920px] mx-auto p-4"><!> <div class="grid grid-cols-4 md:grid-cols-8 lg:grid-cols-12 gap-4"><div class="col-span-4 md:col-span-4 lg:col-span-3"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-5"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-8"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div></div> <!></div></div>');function Is(i,r){xt(r,!0),ce(()=>(C.checkSetup(),()=>C.stopPolling())),fe(()=>{C.setupChecked&&!C.showSetup&&C.startPolling()});var n=yt(),u=vt(n);{var m=h=>{Ss(h,{onComplete:()=>C.completeSetup()})},x=h=>{var b=yt(),k=vt(b);{var c=g=>{_s(g,{get error(){return C.error}})},o=g=>{var F=As(),v=a(F),p=a(v);ya(p,{});var l=s(p,2),w=a(l),S=a(w);Ca(S,{}),e(w);var y=s(w,2),f=a(y);ja(f,{}),e(y);var E=s(y,2),A=a(E);Va(A,{}),e(E);var O=s(E,2),P=a(O);tr(P,{}),e(O);var I=s(O,2),M=a(I);ir(M,{}),e(I);var R=s(I,2),H=a(R);fr(H,{}),e(R);var q=s(R,2),et=a(q);zr(et,{}),e(q);var rt=s(q,2),tt=a(rt);os(tt,{}),e(rt),e(l);var j=s(l,2);us(j,{}),e(v),e(F),d(g,F)};G(k,g=>{C.error&&!C.status?g(c):g(o,!1)},!0)}d(h,b)};G(u,h=>{C.showSetup?h(m):h(x,!1)})}d(i,n),ft()}export{Is as component};
