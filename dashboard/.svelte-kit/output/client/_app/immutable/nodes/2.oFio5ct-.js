import{a as v,f as w,c as ft,d as Tt}from"../chunks/DLW7Edu-.js";import{o as ae,a as me}from"../chunks/RoEmI7lP.js";import{_ as ge,E as be,b2 as ye,aa as we,e as re,u as se,b3 as ke,b4 as Ae,q as Se,b5 as Rt,aA as le,r as Ce,v as $e,b6 as Te,h as qt,H as r,t,I as s,J as e,M as D,B as vt,G as ct,C as pt,L as M,F as Z,N as st,a4 as X,D as ie,b7 as ne,K as zt,l as Pe}from"../chunks/C2Snk8yw.js";import{p as gt,i as z}from"../chunks/DZ-Qxf6U.js";import{t as Ee,e as dt,s as ot,i as xt,h as Bt,S as Le,d as C,P as Pt,j as nt,c as Wt,r as Et,f as Xt,a as Oe,b as Mt,k as Qt,l as Fe}from"../chunks/DbpH7uNd.js";import{a as Ne,s as L,d as Ot,e as Zt}from"../chunks/DpkvAVPE.js";import{i as It}from"../chunks/BZGx_n5h.js";import{s as Jt}from"../chunks/CTRDKxTZ.js";import{b as Ie}from"../chunks/CstC0_cQ.js";const Re=()=>performance.now(),$t={tick:l=>requestAnimationFrame(l),now:()=>Re(),tasks:new Set};function oe(){const l=$t.now();$t.tasks.forEach(a=>{a.c(l)||($t.tasks.delete(a),a.f())}),$t.tasks.size!==0&&$t.tick(oe)}function Me(l){let a;return $t.tasks.size===0&&$t.tick(oe),{promise:new Promise(n=>{$t.tasks.add(a={c:l,f:n})}),abort(){$t.tasks.delete(a)}}}function Gt(l,a){le(()=>{l.dispatchEvent(new CustomEvent(a))})}function De(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const a=l.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function te(l){const a={},n=l.split(";");for(const h of n){const[m,f]=h.split(":");if(!m||f===void 0)break;const c=De(m.trim());a[c]=f.trim()}return a}const ze=l=>l;function Ct(l,a,n,h){var k;var m=(l&ke)!==0,f="both",c,b=a.inert,A=a.style.overflow,d,o;function y(){return le(()=>c??(c=n()(a,(h==null?void 0:h())??{},{direction:f})))}var P={is_global:m,in(){a.inert=b,d=Vt(a,y(),o,1,()=>{Gt(a,"introend"),d==null||d.abort(),d=c=void 0,a.style.overflow=A})},out(p){a.inert=!0,o=Vt(a,y(),d,0,()=>{Gt(a,"outroend"),p==null||p()})},stop:()=>{d==null||d.abort(),o==null||o.abort()}},u=ge;if(((k=u.nodes).t??(k.t=[])).push(P),Ne){var x=m;if(!x){for(var i=u.parent;i&&(i.f&be)!==0;)for(;(i=i.parent)&&(i.f&ye)===0;);x=!i||(i.f&we)!==0}x&&re(()=>{se(()=>P.in())})}}function Vt(l,a,n,h,m){var f=h===1;if(Ae(a)){var c,b=!1;return Se(()=>{if(!b){var k=a({direction:f?"in":"out"});c=Vt(l,k,n,h,m)}}),{abort:()=>{b=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(n==null||n.deactivate(),!(a!=null&&a.duration)&&!(a!=null&&a.delay))return Gt(l,f?"introstart":"outrostart"),m(),{abort:Rt,deactivate:Rt,reset:Rt,t:()=>h};const{delay:A=0,css:d,tick:o,easing:y=ze}=a;var P=[];if(f&&n===void 0&&(o&&o(0,1),d)){var u=te(d(0,1));P.push(u,u)}var x=()=>1-h,i=l.animate(P,{duration:A,fill:"forwards"});return i.onfinish=()=>{i.cancel(),Gt(l,f?"introstart":"outrostart");var k=(n==null?void 0:n.t())??1-h;n==null||n.abort();var p=h-k,g=a.duration*Math.abs(p),_=[];if(g>0){var T=!1;if(d)for(var E=Math.ceil(g/16.666666666666668),S=0;S<=E;S+=1){var $=k+p*y(S/E),O=te(d($,1-$));_.push(O),T||(T=O.overflow==="hidden")}T&&(l.style.overflow="hidden"),x=()=>{var F=i.currentTime;return k+p*y(F/g)},o&&Me(()=>{if(i.playState!=="running")return!1;var F=x();return o(F,1-F),!0})}i=l.animate(_,{duration:g,fill:"forwards"}),i.onfinish=()=>{x=()=>h,o==null||o(h,1-h),m()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=Rt)},deactivate:()=>{m=Rt},reset:()=>{h===0&&(o==null||o(1,0))},t:()=>x()}}function de(l,a,n){re(()=>{var h=se(()=>a(l,n==null?void 0:n())||{});if(n&&(h!=null&&h.update)){var m=!1,f={};Ce(()=>{var c=n();$e(c),m&&Te(f,c)&&(f=c,h.update(c))}),m=!0}if(h!=null&&h.destroy)return()=>h.destroy()})}function ve(l,a,n,h){var m=l.__style;if(qt||m!==a){var f=Ee(a);(!qt||f!==l.getAttribute("style"))&&(f==null?l.removeAttribute("style"):l.style.cssText=f),l.__style=a}return h}var Ge=w("<div></div>"),Ue=w('<div class="flex items-center gap-2"><!> <span class="hud-label"> </span> <span class="hud-value-sm"> </span></div>'),je=w("<div></div>");function He(l,a){const n={active:"bg-hud-success",warning:"bg-hud-warning",error:"bg-hud-error",inactive:"bg-hud-dim"};let h=gt(a,"class",3,"");var m=je();dt(m,21,()=>a.items,xt,(f,c)=>{var b=Ue(),A=r(b);{var d=x=>{var i=Ge();D(()=>ot(i,1,`w-2 h-2 rounded-full ${n[t(c).status]??""}`)),v(x,i)};z(A,x=>{t(c).status&&x(d)})}var o=s(A,2),y=r(o,!0);e(o);var P=s(o,2),u=r(P,!0);e(P),e(b),D(()=>{L(y,t(c).label),L(u,t(c).value)}),v(f,b)}),e(m),D(()=>ot(m,1,`flex items-center gap-6 ${h()??""}`)),v(l,m)}function jt(l,a){function n(h){l.contains(h.target)||a()}return document.addEventListener("mousedown",n),{destroy(){document.removeEventListener("mousedown",n)}}}function St(l){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}function Kt(l){return`${l>=0?"+":""}${l.toFixed(2)}%`}function ce(l){return{Analyst:"text-hud-purple",Executor:"text-hud-cyan",StockTwits:"text-hud-success",SignalResearch:"text-hud-cyan",PositionResearch:"text-hud-purple",Crypto:"text-hud-warning",System:"text-hud-text-dim"}[l]||"text-hud-text"}function Ve(l,a=[]){return a.includes(l)||l.includes("/USD")||l.includes("BTC")||l.includes("ETH")||l.includes("SOL")}function Ye(l){return l==="BUY"?"text-hud-success":l==="SKIP"?"text-hud-error":"text-hud-warning"}function Be(l){return l==="excellent"?"text-hud-success":l==="good"?"text-hud-primary":l==="fair"?"text-hud-warning":"text-hud-error"}function Ut(l){return l>=.3?"text-hud-success":l<=-.2?"text-hud-error":"text-hud-warning"}function Ke(l){return new Date(l).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}const qe=l=>l;function ue(l){const a=l-1;return a*a*a+1}function We(l){return l<.5?4*l*l*l:.5*Math.pow(2*l-2,3)+1}function ee(l){const a=typeof l=="string"&&l.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return a?[parseFloat(a[1]),a[2]||"px"]:[l,"px"]}function Ft(l,{delay:a=0,duration:n=400,easing:h=qe}={}){const m=+getComputedStyle(l).opacity;return{delay:a,duration:n,easing:h,css:f=>`opacity: ${f*m}`}}function he(l,{delay:a=0,duration:n=400,easing:h=ue,x:m=0,y:f=0,opacity:c=0}={}){const b=getComputedStyle(l),A=+b.opacity,d=b.transform==="none"?"":b.transform,o=A*(1-c),[y,P]=ee(m),[u,x]=ee(f);return{delay:a,duration:n,easing:h,css:(i,k)=>`
			transform: ${d} translate(${(1-i)*y}${P}, ${(1-i)*u}${x});
			opacity: ${A-o*k}`}}function Xe(l,{delay:a=0,duration:n=400,easing:h=ue,axis:m="y"}={}){const f=getComputedStyle(l),c=+f.opacity,b=m==="y"?"height":"width",A=parseFloat(f[b]),d=m==="y"?["top","bottom"]:["left","right"],o=d.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),y=parseFloat(f[`padding${o[0]}`]),P=parseFloat(f[`padding${o[1]}`]),u=parseFloat(f[`margin${o[0]}`]),x=parseFloat(f[`margin${o[1]}`]),i=parseFloat(f[`border${o[0]}Width`]),k=parseFloat(f[`border${o[1]}Width`]);return{delay:a,duration:n,easing:h,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*c};${b}: ${p*A}px;padding-${d[0]}: ${p*y}px;padding-${d[1]}: ${p*P}px;margin-${d[0]}: ${p*u}px;margin-${d[1]}: ${p*x}px;border-${d[0]}-width: ${p*i}px;border-${d[1]}-width: ${p*k}px;min-${b}: 0`}}function Qe(l,{delay:a=0,speed:n,duration:h,easing:m=We}={}){let f=l.getTotalLength();const c=getComputedStyle(l);return c.strokeLinecap!=="butt"&&(f+=parseInt(c.strokeWidth)),h===void 0?n===void 0?h=800:h=f/n:typeof h=="function"&&(h=h(f)),{delay:a,duration:h,easing:m,css:(b,A)=>`
			stroke-dasharray: ${f};
			stroke-dashoffset: ${A*f};
		`}}var Ze=w('<span class="absolute -top-0.5 -right-0.5 w-4 h-4 bg-hud-error text-[9px] font-bold rounded-full flex items-center justify-center text-white"> </span>'),Je=w('<span class="text-[9px] text-hud-text-dim"> </span>'),ta=w('<div class="text-hud-text-dim text-xs text-center py-4">No overnight activity yet</div>'),ea=w('<div class="text-center"><div> </div> <div class="hud-label"> </div></div>'),aa=w('<span class="text-xs px-1.5 py-0.5 bg-hud-success/10 text-hud-success border border-hud-success/30 rounded"> </span>'),ra=w('<div class="space-y-1"><span class="text-[9px] text-hud-text-dim">HIGH CONVICTION:</span> <div class="flex flex-wrap gap-1"></div></div>'),sa=w('<p class="text-[10px] text-hud-text-dim mt-2 leading-tight"> </p>'),la=w('<div class="grid grid-cols-2 gap-2"></div> <div class="pt-2 border-t border-hud-line/50"><div class="flex items-center justify-between mb-2"><span class="hud-label">PRE-MARKET PLAN</span> <span> </span></div> <!> <!></div>',1),ia=w('<div class="absolute right-0 top-full mt-2 w-72 hud-panel z-50"><div class="px-3 py-2 border-b border-hud-line flex justify-between items-center"><span class="hud-label">OVERNIGHT ACTIVITY</span> <!></div> <div class="p-3 space-y-3"><!></div></div>'),na=w('<div class="relative"><button><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg> <!></button> <!></div>');function oa(l,a){vt(a,!0);let n=pt(!1),h=pt(!1),m=M(()=>a.overnightActivity&&(a.overnightActivity.signalsGathered>0||a.overnightActivity.signalsResearched>0||a.overnightActivity.buySignals>0)),f=M(()=>{var i,k,p;return t(m)&&!t(h)?(((i=a.overnightActivity)==null?void 0:i.buySignals)||0)+(((p=(k=a.premarketPlan)==null?void 0:k.highConvictionPlays)==null?void 0:p.length)||0):0});function c(){Z(n,!t(n)),t(n)&&Z(h,!0)}const b=M(()=>{var i,k,p,g,_;return[{label:"SIGNALS FOUND",value:((i=a.overnightActivity)==null?void 0:i.signalsGathered)||0,highlight:!1},{label:"RESEARCHED",value:((k=a.overnightActivity)==null?void 0:k.signalsResearched)||0,highlight:!1},{label:"BUY SIGNALS",value:((p=a.overnightActivity)==null?void 0:p.buySignals)||0,highlight:!!((g=a.overnightActivity)!=null&&g.buySignals)&&a.overnightActivity.buySignals>0},{label:"TWITTER CONF",value:((_=a.overnightActivity)==null?void 0:_.twitterConfirmations)||0,highlight:!1}]});var A=na(),d=r(A);d.__click=c;var o=r(d),y=s(o,2);{var P=i=>{var k=Ze(),p=r(k,!0);e(k),D(()=>L(p,t(f)>9?"9+":t(f))),Ct(3,k,()=>Ft,()=>({duration:150})),v(i,k)};z(y,i=>{t(f)>0&&i(P)})}e(d);var u=s(d,2);{var x=i=>{var k=ia(),p=r(k),g=s(r(p),2);{var _=O=>{var F=Je(),I=r(F,!0);e(F),D(V=>L(I,V),[()=>Ke(a.overnightActivity.lastUpdated)]),v(O,F)};z(g,O=>{var F;(F=a.overnightActivity)!=null&&F.lastUpdated&&O(_)})}e(p);var T=s(p,2),E=r(T);{var S=O=>{var F=ta();v(O,F)},$=O=>{var F=la(),I=st(F);dt(I,21,()=>t(b),xt,(U,R)=>{var j=ea(),H=r(j),J=r(H,!0);e(H);var at=s(H,2),lt=r(at,!0);e(at),e(j),D(()=>{ot(H,1,`text-lg font-light ${t(R).highlight?"text-hud-success":"text-hud-text-bright"}`),L(J,t(R).value),L(lt,t(R).label)}),v(U,j)}),e(I);var V=s(I,2),B=r(V),K=s(r(B),2),W=r(K,!0);e(K),e(B);var q=s(B,2);{var N=U=>{var R=ra(),j=s(r(R),2);dt(j,21,()=>a.premarketPlan.highConvictionPlays,xt,(H,J)=>{var at=aa(),lt=r(at,!0);e(at),D(()=>L(lt,t(J))),v(H,at)}),e(j),e(R),v(U,R)};z(q,U=>{var R;a.premarketPlan&&((R=a.premarketPlan.highConvictionPlays)==null?void 0:R.length)>0&&U(N)})}var G=s(q,2);{var Y=U=>{var R=sa(),j=r(R);e(R),D(H=>L(j,`${H??""}${a.premarketPlan.marketOutlook.length>100?"...":""}`),[()=>a.premarketPlan.marketOutlook.slice(0,100)]),v(U,R)};z(G,U=>{var R;(R=a.premarketPlan)!=null&&R.marketOutlook&&U(Y)})}e(V),D(()=>{var U,R;ot(K,1,`text-[9px] px-1.5 py-0.5 rounded ${(U=a.overnightActivity)!=null&&U.premarketPlanReady?"bg-hud-success/20 text-hud-success":"bg-hud-text-dim/20 text-hud-text-dim"}`),L(W,(R=a.overnightActivity)!=null&&R.premarketPlanReady?"READY":"PENDING")}),v(O,F)};z(E,O=>{t(m)?O($,!1):O(S)})}e(T),e(k),Ct(3,k,()=>he,()=>({y:-8,duration:150})),v(i,k)};z(u,i=>{t(n)&&i(x)})}e(A),de(A,(i,k)=>jt==null?void 0:jt(i,k),()=>()=>Z(n,!1)),D(()=>{ot(d,1,`relative p-2 transition-colors ${t(n)?"text-hud-primary":"text-hud-text-dim hover:text-hud-text"}`),ot(o,0,Bt(t(f)>0?"animate-pulse":""))}),v(l,A),ct()}Ot(["click"]);var da=w('<header class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4 pb-3 border-b border-hud-line"><div class="flex items-center gap-4 md:gap-6"><div class="flex items-baseline gap-2"><span class="text-xl md:text-2xl font-light tracking-tight text-hud-text-bright">MAHORAGA</span> <span class="hud-label">v2</span></div> <!></div> <div class="flex items-center gap-3 md:gap-6 flex-wrap"><!> <!> <a href="/settings" class="hud-label hover:text-hud-primary transition-colors">[CONFIG]</a> <span class="hud-value-sm font-mono"> </span></div></header>');function va(l,a){vt(a,!0);let n=M(()=>C.time.toLocaleTimeString("en-US",{hour12:!1}));var h=da(),m=r(h),f=s(r(m),2);{let y=M(()=>C.isMarketOpen?"active":"inactive"),P=M(()=>C.isMarketOpen?"MARKET OPEN":"MARKET CLOSED");Le(f,{get status(){return t(y)},get label(){return t(P)},get pulse(){return C.isMarketOpen}})}e(m);var c=s(m,2),b=r(c);{let y=M(()=>[{label:"LLM COST",value:`$${C.costs.total_usd.toFixed(4)}`,status:C.costs.total_usd>1?"warning":"active"},{label:"API CALLS",value:C.costs.calls.toString()}]);He(b,{get items(){return t(y)}})}var A=s(b,2);{let y=M(()=>{var u;return(u=C.status)==null?void 0:u.overnightActivity}),P=M(()=>{var u;return(u=C.status)==null?void 0:u.premarketPlan});oa(A,{get overnightActivity(){return t(y)},get premarketPlan(){return t(P)}})}var d=s(A,4),o=r(d,!0);e(d),e(c),e(h),D(()=>L(o,t(n))),v(l,h),ct()}var ca=w('<div><span class="hud-label mb-1"> </span> <span> </span></div>');function Nt(l,a){const n={sm:"hud-value-sm",md:"hud-value-md",lg:"hud-value-lg",xl:"hud-value-xl"},h={default:"",success:"text-hud-success",warning:"text-hud-warning",error:"text-hud-error"};let m=gt(a,"size",3,"lg"),f=gt(a,"color",3,"default"),c=gt(a,"class",3,"");var b=ca(),A=r(b),d=r(A,!0);e(A);var o=s(A,2),y=r(o,!0);e(o),e(b),D(()=>{ot(b,1,`flex flex-col ${c()??""}`),L(d,a.label),ot(o,1,`${n[m()]??""} ${h[f()]??""}`),L(y,a.value)}),v(l,b)}var ua=w('<div><span class="hud-label"> </span> <span> </span></div>');function wt(l,a){const n={default:"",success:"text-hud-success",warning:"text-hud-warning",error:"text-hud-error"};let h=gt(a,"color",3,"default"),m=gt(a,"valueClassName",3,""),f=gt(a,"class",3,"");var c=ua(),b=r(c),A=r(b,!0);e(b);var d=s(b,2),o=r(d,!0);e(d),e(c),D(()=>{ot(c,1,`flex items-baseline gap-2 ${f()??""}`),L(A,a.label),ot(d,1,`hud-value-sm ${(m()||n[h()])??""}`),L(o,a.value)}),v(l,c)}var ha=w('<div class="space-y-4"><!> <div class="grid grid-cols-2 gap-4"><!> <!></div> <div class="pt-2 border-t border-hud-line space-y-2"><!> <div class="grid grid-cols-2 gap-2"><!> <!></div></div></div>'),pa=w('<div class="text-hud-text-dim text-sm">Loading...</div>');function fa(l,a){vt(a,!1),It(),Pt(l,{title:"ACCOUNT",class:"h-full",children:(n,h)=>{var m=ft(),f=st(m);{var c=A=>{var d=ha(),o=r(d);{let _=X(()=>St(C.account.equity));Nt(o,{label:"EQUITY",get value(){return t(_)},size:"xl"})}var y=s(o,2),P=r(y);{let _=X(()=>St(C.account.cash));Nt(P,{label:"CASH",get value(){return t(_)},size:"md"})}var u=s(P,2);{let _=X(()=>St(C.account.buying_power));Nt(u,{label:"BUYING POWER",get value(){return t(_)},size:"md"})}e(y);var x=s(y,2),i=r(x);{let _=X(()=>St(C.totalPl)),T=X(()=>Kt(C.totalPlPct)),E=X(()=>C.totalPl>=0?"success":"error");Nt(i,{label:"TOTAL P&L",get value(){return`${t(_)??""} (${t(T)??""})`},size:"md",get color(){return t(E)}})}var k=s(i,2),p=r(k);{let _=X(()=>St(C.realizedPl)),T=X(()=>C.realizedPl>=0?"success":"error");wt(p,{label:"REALIZED",get value(){return t(_)},get color(){return t(T)}})}var g=s(p,2);{let _=X(()=>St(C.unrealizedPl)),T=X(()=>C.unrealizedPl>=0?"success":"error");wt(g,{label:"UNREALIZED",get value(){return t(_)},get color(){return t(T)}})}e(k),e(x),e(d),v(A,d)},b=A=>{var d=pa();v(A,d)};z(f,A=>{C.account?A(c):A(b,!1)})}v(n,m)},$$slots:{default:!0}}),ct()}var xa=w('<div class="bg-hud-bg-panel border border-hud-line px-3 py-2 text-xs text-hud-text max-w-xs pointer-events-none"><!></div>'),_a=w('<div class="inline-block"><!></div> <!>',1);function Dt(l,a){let n=gt(a,"position",3,"top"),h=gt(a,"delay",3,200),m=pt(!1),f=pt(ie({top:0,left:0})),c=pt(void 0),b=null;function A(p){switch(p){case"top":return"translateX(-50%) translateY(-100%)";case"bottom":return"translateX(-50%)";case"left":return"translateY(-50%) translateX(-100%)";case"right":return"translateY(-50%)";default:return""}}function d(){if(!t(c))return;const p=t(c).getBoundingClientRect(),g=window.scrollY,_=window.scrollX,T=8;switch(n()){case"top":Z(f,{top:p.top+g-T,left:p.left+_+p.width/2},!0);break;case"bottom":Z(f,{top:p.bottom+g+T,left:p.left+_+p.width/2},!0);break;case"left":Z(f,{top:p.top+g+p.height/2,left:p.left+_-T},!0);break;case"right":Z(f,{top:p.top+g+p.height/2,left:p.right+_+T},!0);break}}function o(){b=setTimeout(()=>{d(),Z(m,!0)},h())}function y(){b&&clearTimeout(b),Z(m,!1)}var P=_a(),u=st(P),x=r(u);Jt(x,()=>a.children),e(u),Ie(u,p=>Z(c,p),()=>t(c));var i=s(u,2);{var k=p=>{var g=xa(),_=r(g);Jt(_,()=>a.content),e(g),D(T=>ve(g,`position: absolute; top: ${t(f).top??""}px; left: ${t(f).left??""}px; transform: ${T??""}; z-index: 9999;`),[()=>A(n())]),Ct(3,g,()=>Ft,()=>({duration:100})),v(p,g)};z(i,p=>{t(m)&&p(k)})}Zt("mouseenter",u,o),Zt("mouseleave",u,y),v(l,P)}var ma=w('<div class="hud-label text-hud-primary border-b border-hud-line/50 pb-1"> </div>'),ga=w('<div class="flex justify-between gap-4"><span class="text-hud-text-dim"> </span> <span> </span></div>'),ba=w('<div class="space-y-1"></div>'),ya=w('<p class="text-hud-text-dim text-[10px] leading-tight"> </p>'),wa=w('<div class="space-y-2"><!> <!> <!></div>');function pe(l,a){vt(a,!0);var n=wa(),h=r(n);{var m=d=>{var o=ma(),y=r(o,!0);e(o),D(()=>L(y,a.title)),v(d,o)};z(h,d=>{a.title&&d(m)})}var f=s(h,2);{var c=d=>{var o=ba();dt(o,21,()=>a.items,xt,(y,P)=>{var u=ga(),x=r(u),i=r(x,!0);e(x);var k=s(x,2),p=r(k,!0);e(k),e(u),D(()=>{L(i,t(P).label),ot(k,1,Bt(t(P).color||"text-hud-text-bright")),L(p,t(P).value)}),v(y,u)}),e(o),v(d,o)};z(f,d=>{a.items&&a.items.length>0&&d(c)})}var b=s(f,2);{var A=d=>{var o=ya(),y=r(o,!0);e(o),D(()=>L(y,a.description)),v(d,o)};z(b,d=>{a.description&&d(A)})}e(n),v(l,n),ct()}var ka=Tt('<svg><path fill="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Aa(l,a){vt(a,!0);const n={green:{stroke:"var(--color-hud-green)"},red:{stroke:"var(--color-hud-red)"}};let h=gt(a,"width",3,80),m=gt(a,"height",3,24),f=2,c=M(()=>h()-f*2),b=M(()=>m()-f*2),A=M(()=>Math.min(...a.data)),d=M(()=>Math.max(...a.data)),o=M(()=>t(d)-t(A)||1),y=M(()=>a.data.length<2?"":a.data.map((p,g)=>{const _=f+g/(a.data.length-1)*t(c),T=f+t(b)-(p-t(A))/t(o)*t(b);return`${g===0?"M":"L"} ${_.toFixed(1)} ${T.toFixed(1)}`}).join(" ")),P=M(()=>a.data.length>=2&&a.data[a.data.length-1]>=a.data[0]),u=M(()=>t(P)?n.green.stroke:n.red.stroke);var x=ft(),i=st(x);{var k=p=>{var g=ka(),_=r(g);e(g),D(()=>{nt(g,"width",h()),nt(g,"height",m()),nt(_,"d",t(y)),nt(_,"stroke",t(u))}),v(p,g)};z(i,p=>{a.data.length>=2&&p(k)})}v(l,x),ct()}var Sa=w('<div class="text-hud-text-dim text-sm py-8 text-center">No open positions</div>'),Ca=w('<span class="text-hud-warning mr-1">₿</span>'),$a=w('<span class="cursor-help border-b border-dotted border-hud-text-dim"><!> </span>'),Ta=w('<tr class="border-b border-hud-line/20 hover:bg-hud-line/10"><td class="hud-value-sm py-2 px-2"><!></td><td class="hud-value-sm text-right py-2 px-2 hidden sm:table-cell"> </td><td class="hud-value-sm text-right py-2 px-2 hidden md:table-cell"> </td><td><div> </div> <div class="text-xs opacity-70"> </div></td><td class="py-2 px-2"><div class="flex justify-center"><!></div></td></tr>'),Pa=w('<div class="overflow-x-auto"><table class="w-full"><thead><tr class="border-b border-hud-line/50"><th class="hud-label text-left py-2 px-2">Symbol</th><th class="hud-label text-right py-2 px-2 hidden sm:table-cell">Qty</th><th class="hud-label text-right py-2 px-2 hidden md:table-cell">Value</th><th class="hud-label text-right py-2 px-2">P&L</th><th class="hud-label text-center py-2 px-2">Trend</th></tr></thead><tbody></tbody></table></div>');function Ea(l,a){vt(a,!1),It();{let n=X(()=>C.positions.length),h=X(()=>{var m;return((m=C.config)==null?void 0:m.max_positions)||5});Pt(l,{title:"POSITIONS",get titleRight(){return`${t(n)??""}/${t(h)??""}`},class:"h-full",children:(m,f)=>{var c=ft(),b=st(c);{var A=o=>{var y=Sa();v(o,y)},d=o=>{var y=Pa(),P=r(y),u=s(r(P));dt(u,5,()=>C.positions,x=>x.symbol,(x,i)=>{const k=X(()=>t(i).unrealized_pl/(t(i).market_value-t(i).unrealized_pl)*100),p=X(()=>C.positionPriceHistories[t(i).symbol]||[]),g=X(()=>{var R,j;return(j=(R=C.status)==null?void 0:R.positionEntries)==null?void 0:j[t(i).symbol]}),_=X(()=>{var R,j;return(j=(R=C.status)==null?void 0:R.stalenessAnalysis)==null?void 0:j[t(i).symbol]}),T=X(()=>t(g)?Math.floor((Date.now()-t(g).entry_time)/36e5):null);var E=Ta(),S=r(E),$=r(S);Dt($,{position:"right",children:H=>{var J=$a(),at=r(J);{var lt=it=>{var _t=Ca();v(it,_t)};z(at,it=>{var _t;Ve(t(i).symbol,(_t=C.config)==null?void 0:_t.crypto_symbols)&&it(lt)})}var rt=s(at);e(J),D(()=>L(rt,` ${t(i).symbol??""}`)),v(H,J)},content:H=>{{let J=X(()=>[{label:"Entry Price",value:t(g)?St(t(g).entry_price):"N/A"},{label:"Current Price",value:St(t(i).current_price)},{label:"Hold Time",value:t(T)!==null?`${t(T)}h`:"N/A"},{label:"Entry Sentiment",value:t(g)?`${(t(g).entry_sentiment*100).toFixed(0)}%`:"N/A"},...t(_)?[{label:"Staleness",value:`${(t(_).score*100).toFixed(0)}%`,color:t(_).shouldExit?"text-hud-error":"text-hud-text"}]:[]]),at=X(()=>{var lt;return(lt=t(g))==null?void 0:lt.entry_reason});pe(H,{get title(){return t(i).symbol},get items(){return t(J)},get description(){return t(at)}})}},$$slots:{default:!0,content:!0}}),e(S);var O=s(S),F=r(O,!0);e(O);var I=s(O),V=r(I,!0);e(I);var B=s(I),K=r(B),W=r(K,!0);e(K);var q=s(K,2),N=r(q,!0);e(q),e(B);var G=s(B),Y=r(G),U=r(Y);Aa(U,{get data(){return t(p)},width:60,height:20}),e(Y),e(G),e(E),D((R,j,H)=>{L(F,t(i).qty),L(V,R),ot(B,1,`hud-value-sm text-right py-2 px-2 ${t(i).unrealized_pl>=0?"text-hud-success":"text-hud-error"}`),L(W,j),L(N,H)},[()=>St(t(i).market_value),()=>St(t(i).unrealized_pl),()=>Kt(t(k))]),Ct(3,E,()=>Ft,()=>({duration:200})),v(x,E)}),e(u),e(P),e(y),v(o,y)};z(b,o=>{C.positions.length===0?o(A):o(d,!1)})}v(m,c)},$$slots:{default:!0}})}ct()}var La=w('<div class="grid grid-cols-2 gap-4"><!> <!> <!> <!> <!> <!></div>');function Oa(l,a){vt(a,!1),It(),Pt(l,{title:"LLM COSTS",class:"h-full",children:(n,h)=>{var m=La(),f=r(m);{let y=X(()=>C.costs.total_usd.toFixed(4));Nt(f,{label:"TOTAL SPENT",get value(){return`$${t(y)??""}`},size:"lg"})}var c=s(f,2);{let y=X(()=>C.costs.calls.toString());Nt(c,{label:"API CALLS",get value(){return t(y)},size:"lg"})}var b=s(c,2);{let y=X(()=>C.costs.tokens_in.toLocaleString());wt(b,{label:"TOKENS IN",get value(){return t(y)}})}var A=s(b,2);{let y=X(()=>C.costs.tokens_out.toLocaleString());wt(A,{label:"TOKENS OUT",get value(){return t(y)}})}var d=s(A,2);{let y=X(()=>C.costs.calls>0?`$${(C.costs.total_usd/C.costs.calls).toFixed(6)}`:"$0");wt(d,{label:"AVG COST/CALL",get value(){return t(y)}})}var o=s(d,2);{let y=X(()=>{var P;return((P=C.config)==null?void 0:P.llm_model)||"gpt-4o-mini"});wt(o,{label:"MODEL",get value(){return t(y)}})}e(m),v(n,m)},$$slots:{default:!0}}),ct()}var Fa=Tt('<line stroke="currentColor" class="text-hud-border" stroke-width="0.5" opacity="0.3"></line><text text-anchor="end" dominant-baseline="middle" fill="currentColor" class="text-hud-text-dim" font-size="12"> </text>',1),Na=Tt("<g></g>"),Ia=Tt('<text text-anchor="middle" fill="currentColor" class="text-hud-text-dim" font-size="12"> </text>'),Ra=Tt("<g></g>"),Ma=Tt('<defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-opacity="0.2"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><path></path>',1),Da=Tt('<circle r="2" opacity="0.8"></circle>'),za=Tt('<g><!><path fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.8"></path><!></g>'),Ga=Tt('<svg width="100%" height="100%" preserveAspectRatio="xMidYMid meet" class="block"><!><!><!></svg>');function fe(l,a){vt(a,!0);const n={cyan:{stroke:"var(--color-hud-cyan)",fill:"var(--color-hud-cyan)"},blue:{stroke:"var(--color-hud-blue)",fill:"var(--color-hud-blue)"},green:{stroke:"var(--color-hud-green)",fill:"var(--color-hud-green)"},yellow:{stroke:"var(--color-hud-yellow)",fill:"var(--color-hud-yellow)"},red:{stroke:"var(--color-hud-red)",fill:"var(--color-hud-red)"},purple:{stroke:"var(--color-hud-purple)",fill:"var(--color-hud-purple)"},primary:{stroke:"var(--color-hud-primary)",fill:"var(--color-hud-primary)"}};let h=gt(a,"variant",3,"cyan"),m=gt(a,"showDots",3,!1),f=gt(a,"showGrid",3,!0),c=gt(a,"showArea",3,!0),b=gt(a,"animated",3,!0);const A=800;let d=M(()=>a.height||200);const o={top:16,right:16,bottom:28,left:56};let y=M(()=>A-o.left-o.right),P=M(()=>t(d)-o.top-o.bottom),u=M(()=>a.series.flatMap(N=>N.data)),x=M(()=>Math.min(...t(u))),i=M(()=>Math.max(...t(u))),k=M(()=>t(i)-t(x)||1),p=M(()=>t(x)-t(k)*.05),g=M(()=>t(i)+t(k)*.05),_=M(()=>t(g)-t(p)||1),T=M(()=>Math.max(...a.series.map(N=>N.data.length),1));function E(N){return o.left+N/(t(T)-1||1)*t(y)}function S(N){return o.top+t(P)-(N-t(p))/t(_)*t(P)}let $=M(()=>Array.from({length:4},(N,G)=>t(p)+t(_)/3*G)),O=M(()=>a.formatValue||(N=>Math.abs(N)>=1e3?`${(N/1e3).toFixed(1)}k`:N.toFixed(0))),F=M(()=>{if(!a.labels)return[];const N=Math.ceil(a.labels.length/5);return a.labels.map((G,Y)=>Y).filter(G=>G%N===0)});var I=Ga(),V=r(I);{var B=N=>{var G=Na();dt(G,21,()=>t($),xt,(Y,U)=>{var R=Fa(),j=st(R),H=s(j),J=r(H,!0);e(H),D((at,lt,rt,it)=>{nt(j,"x1",o.left),nt(j,"y1",at),nt(j,"x2",A-o.right),nt(j,"y2",lt),nt(H,"x",o.left-8),nt(H,"y",rt),L(J,it)},[()=>S(t(U)),()=>S(t(U)),()=>S(t(U)),()=>t(O)(t(U))]),v(Y,R)}),e(G),v(N,G)};z(V,N=>{f()&&N(B)})}var K=s(V);{var W=N=>{var G=Ra();dt(G,21,()=>t(F),xt,(Y,U)=>{var R=Ia(),j=r(R,!0);e(R),D(H=>{nt(R,"x",H),nt(R,"y",t(d)-8),L(j,a.labels[t(U)])},[()=>E(t(U))]),v(Y,R)}),e(G),v(N,G)};z(K,N=>{a.labels&&N(W)})}var q=s(K);dt(q,17,()=>a.series,xt,(N,G,Y)=>{const U=M(()=>n[t(G).variant??h()]),R=M(()=>t(G).data.map((rt,it)=>({x:E(it),y:S(rt)}))),j=M(()=>t(R).map((rt,it)=>`${it===0?"M":"L"} ${rt.x} ${rt.y}`).join(" ")),H=M(()=>{var rt,it;return`${t(j)} L ${((rt=t(R)[t(R).length-1])==null?void 0:rt.x)??0} ${o.top+t(P)} L ${((it=t(R)[0])==null?void 0:it.x)??0} ${o.top+t(P)} Z`});var J=ft(),at=st(J);{var lt=rt=>{var it=za(),_t=r(it);{var ht=tt=>{var Q=Ma(),ut=st(Q),bt=r(ut);nt(bt,"id",`area-gradient-${Y}`);var yt=r(bt),At=s(yt);e(bt),e(ut);var Lt=s(ut);nt(Lt,"fill",`url(#area-gradient-${Y})`),D(()=>{nt(yt,"stop-color",t(U).fill),nt(At,"stop-color",t(U).fill),nt(Lt,"d",t(H))}),Ct(3,Lt,()=>Ft,()=>({duration:b()?800:0})),v(tt,Q)};z(_t,tt=>{c()&&tt(ht)})}var mt=s(_t),kt=s(mt);{var et=tt=>{var Q=ft(),ut=st(Q);dt(ut,17,()=>t(R),xt,(bt,yt)=>{var At=Da();D(()=>{nt(At,"cx",t(yt).x),nt(At,"cy",t(yt).y),nt(At,"fill",t(U).fill)}),v(bt,At)}),v(tt,Q)};z(kt,tt=>{m()&&tt(et)})}e(it),D(()=>{nt(mt,"d",t(j)),nt(mt,"stroke",t(U).stroke)}),Ct(3,mt,()=>Qe,()=>({duration:b()?1200:0})),v(rt,it)};z(at,rt=>{t(R).length>0&&rt(lt)})}v(N,J)}),e(I),D(()=>nt(I,"viewBox",`0 0 800 ${t(d)??""}`)),v(l,I),ct()}var Ua=w('<div class="h-full w-full"><!></div>'),ja=w('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">Collecting performance data...</div>');function Ha(l,a){vt(a,!1),It(),Pt(l,{title:"PORTFOLIO PERFORMANCE",titleRight:"24H",class:"h-[320px]",children:(n,h)=>{var m=ft(),f=st(m);{var c=A=>{var d=Ua(),o=r(d);{let y=X(()=>[{label:"Equity",data:C.portfolioChartData,variant:C.totalPl>=0?"green":"red"}]);fe(o,{get series(){return t(y)},get labels(){return C.portfolioChartLabels},showArea:!0,showGrid:!0,showDots:!1,formatValue:P=>`$${(P/1e3).toFixed(1)}k`})}e(d),v(A,d)},b=A=>{var d=ja();v(A,d)};z(f,A=>{C.portfolioChartData.length>1?A(c):A(b,!1)})}v(n,m)},$$slots:{default:!0}}),ct()}var Va=w('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">No positions to display</div>'),Ya=w('<div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full"></div> <span class="hud-value-sm"> </span> <span> </span></div>'),Ba=w('<div class="h-full flex flex-col"><div class="flex flex-wrap gap-3 mb-2 pb-2 border-b border-hud-line/30 shrink-0"></div> <div class="flex-1 min-h-0 w-full"><!></div></div>'),Ka=w('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">Loading position data...</div>');function qa(l,a){vt(a,!1);const n=["cyan","purple","yellow","blue","green"];It(),Pt(l,{title:"POSITION PERFORMANCE",titleRight:"% CHANGE",class:"h-[320px]",children:(h,m)=>{var f=ft(),c=st(f);{var b=d=>{var o=Va();v(d,o)},A=d=>{var o=ft(),y=st(o);{var P=x=>{var i=Ba(),k=r(i);dt(k,5,()=>C.positions.slice(0,5),xt,(_,T,E)=>{const S=X(()=>t(T).unrealized_pl>=0),$=X(()=>t(T).unrealized_pl/(t(T).market_value-t(T).unrealized_pl)*100),O=X(()=>n[E%n.length]);var F=Ya(),I=r(F),V=s(I,2),B=r(V,!0);e(V);var K=s(V,2),W=r(K,!0);e(K),e(F),D(q=>{ve(I,`background-color: var(--color-hud-${t(O)??""})`),L(B,t(T).symbol),ot(K,1,`hud-label ${t(S)?"text-hud-success":"text-hud-error"}`),L(W,q)},[()=>Kt(t($))]),v(_,F)}),e(k);var p=s(k,2),g=r(p);{let _=X(()=>C.normalizedPositionSeries.slice(0,5));fe(g,{get series(){return t(_)},showArea:!1,showGrid:!0,showDots:!1,animated:!1,formatValue:T=>`${T>=0?"+":""}${T.toFixed(1)}%`})}e(p),e(i),v(x,i)},u=x=>{var i=Ka();v(x,i)};z(y,x=>{C.normalizedPositionSeries.length>0?x(P):x(u,!1)},!0)}v(d,o)};z(c,d=>{C.positions.length===0?d(b):d(A,!1)})}v(h,f)},$$slots:{default:!0}}),ct()}var Wa=w('<div class="text-hud-text-dim text-sm py-4 text-center">Gathering signals...</div>'),Xa=w('<span class="text-hud-warning text-xs">₿</span>'),Qa=w("<span> </span>"),Za=w('<span class="hud-label hidden sm:inline"> </span>'),Ja=w('<div><div class="flex items-center gap-2"><!> <span class="hud-value-sm"> </span> <span> </span></div> <div class="flex items-center gap-3"><!> <span> </span></div></div>'),tr=w('<div class="overflow-y-auto h-full space-y-1"><!></div>');function er(l,a){vt(a,!1),It();{let n=X(()=>C.signals.length.toString());Pt(l,{title:"ACTIVE SIGNALS",get titleRight(){return t(n)},class:"h-80",children:(h,m)=>{var f=tr(),c=r(f);{var b=d=>{var o=Wa();v(d,o)},A=d=>{var o=ft(),y=st(o);dt(y,3,()=>C.signals.slice(0,20),(P,u)=>`${P.symbol}-${P.source}-${u}`,(P,u,x)=>{Dt(P,{position:"right",children:p=>{var g=Ja(),_=r(g),T=r(_);{var E=N=>{var G=Xa();v(N,G)};z(T,N=>{t(u).isCrypto&&N(E)})}var S=s(T,2),$=r(S,!0);e(S);var O=s(S,2),F=r(O,!0);e(O),e(_);var I=s(_,2),V=r(I);{var B=N=>{var G=Qa(),Y=r(G);e(G),D(U=>{ot(G,1,`hud-label hidden sm:inline ${t(u).momentum>=0?"text-hud-success":"text-hud-error"}`),L(Y,`${t(u).momentum>=0?"+":""}${U??""}%`)},[()=>t(u).momentum.toFixed(1)]),v(N,G)},K=N=>{var G=Za(),Y=r(G);e(G),D(()=>L(Y,`VOL ${t(u).volume??""}`)),v(N,G)};z(V,N=>{t(u).isCrypto&&t(u).momentum!==void 0?N(B):N(K,!1)})}var W=s(V,2),q=r(W);e(W),e(I),e(g),D((N,G,Y)=>{ot(g,1,`flex items-center justify-between py-1 px-2 border-b border-hud-line/10 hover:bg-hud-line/10 cursor-help ${t(u).isCrypto?"bg-hud-warning/5":""}`),L($,t(u).symbol),ot(O,1,`hud-label ${t(u).isCrypto?"text-hud-warning":""}`),L(F,N),ot(W,1,`hud-value-sm ${G??""}`),L(q,`${Y??""}%`)},[()=>{var N;return((N=t(u).source)==null?void 0:N.toUpperCase())||"N/A"},()=>Ut(t(u).sentiment),()=>(t(u).sentiment*100).toFixed(0)]),Ct(3,g,()=>he,()=>({x:-10,duration:200,delay:t(x)*20})),v(p,g)},content:p=>{{let g=X(()=>t(u).symbol),_=X(()=>{var E;return((E=t(u).source)==null?void 0:E.toUpperCase())||"N/A"}),T=X(()=>[{label:"Sentiment",value:`${(t(u).sentiment*100).toFixed(0)}%`,color:Ut(t(u).sentiment)},{label:"Volume",value:t(u).volume},...t(u).bullish!==void 0?[{label:"Bullish",value:t(u).bullish,color:"text-hud-success"}]:[],...t(u).bearish!==void 0?[{label:"Bearish",value:t(u).bearish,color:"text-hud-error"}]:[],...t(u).score!==void 0?[{label:"Score",value:t(u).score}]:[],...t(u).upvotes!==void 0?[{label:"Upvotes",value:t(u).upvotes}]:[],...t(u).momentum!==void 0?[{label:"Momentum",value:`${t(u).momentum>=0?"+":""}${t(u).momentum.toFixed(2)}%`}]:[],...t(u).price!==void 0?[{label:"Price",value:St(t(u).price)}]:[]]);pe(p,{get title(){return`${t(g)??""} - ${t(_)??""}`},get items(){return t(T)},get description(){return t(u).reason}})}},$$slots:{default:!0,content:!0}})}),v(d,o)};z(c,d=>{C.signals.length===0?d(b):d(A,!1)})}e(f),v(h,f)},$$slots:{default:!0}})}ct()}var ar=w('<div class="flex justify-between gap-4"><span class="text-hud-text-dim"> </span> <span class="text-hud-text text-right font-mono"> </span></div>'),rr=w('<div class="text-hud-text-dim"> </div>'),sr=w('<div class="border-t border-hud-line pt-2"><div class="text-hud-warning text-xs">RESEARCH CONTEXT</div> <div class="text-xs space-y-1 mt-1"><div> </div> <!></div></div>'),lr=w('<div class="border-t border-hud-line pt-2"><div class="text-hud-success text-xs">POSITION ENTRY</div> <div class="text-xs space-y-1 mt-1"><div> </div> <div> </div></div></div>'),ir=w('<div class="space-y-2 max-w-md"><div class="font-bold text-hud-primary"> </div> <div class="border-t border-hud-line pt-2 space-y-1"></div> <!> <!></div>');function Yt(l,a){vt(a,!0);const n=M(()=>()=>{const{timestamp:x,agent:i,action:k,symbol:p,...g}=a.log;return g});function h(x,i){return i==null?"N/A":typeof i=="boolean"?i?"✓":"✗":typeof i=="number"?x.includes("pct")||x.includes("confidence")?`${(i*100).toFixed(1)}%`:i.toLocaleString():Array.isArray(i)?i.join(", "):typeof i=="object"?JSON.stringify(i,null,2):String(i)}const m=M(()=>{var x,i;return a.log.symbol&&((i=(x=C.status)==null?void 0:x.signalResearch)==null?void 0:i[a.log.symbol])}),f=M(()=>{var x,i;return a.log.symbol&&((i=(x=C.status)==null?void 0:x.positionEntries)==null?void 0:i[a.log.symbol])});var c=ir(),b=r(c),A=r(b);e(b);var d=s(b,2);dt(d,21,()=>Object.entries(t(n)()),xt,(x,i)=>{var k=M(()=>ne(t(i),2));let p=()=>t(k)[0],g=()=>t(k)[1];var _=ar(),T=r(_),E=r(T);e(T);var S=s(T,2),$=r(S,!0);e(S),e(_),D(O=>{L(E,`${p()??""}:`),L($,O)},[()=>h(p(),g())]),v(x,_)}),e(d);var o=s(d,2);{var y=x=>{var i=sr(),k=s(r(i),2),p=r(k),g=r(p);e(p);var _=s(p,2);{var T=E=>{var S=rr(),$=r(S,!0);e(S),D(()=>L($,t(m).reasoning)),v(E,S)};z(_,E=>{t(m).reasoning&&E(T)})}e(k),e(i),D(E=>L(g,`Verdict: ${t(m).verdict??""} (${E??""}%)`),[()=>(t(m).confidence*100).toFixed(0)]),v(x,i)};z(o,x=>{t(m)&&x(y)})}var P=s(o,2);{var u=x=>{var i=lr(),k=s(r(i),2),p=r(k),g=r(p);e(p);var _=s(p,2),T=r(_);e(_),e(k),e(i),D(E=>{L(g,`Entry: $${t(f).entry_price??""}`),L(T,`Time: ${E??""}`)},[()=>new Date(t(f).entry_time).toLocaleString()]),v(x,i)};z(P,x=>{t(f)&&x(u)})}e(c),D((x,i)=>L(A,`${x??""} - ${i??""}`),[()=>{var x;return((x=a.log.agent)==null?void 0:x.toUpperCase())||"N/A"},()=>{var x;return((x=a.log.action)==null?void 0:x.toUpperCase())||"N/A"}]),v(l,c),ct()}var nr=w("<option> </option>"),or=w("<option> </option>"),dr=w('<button class="text-xs text-hud-error hover:text-hud-text-bright transition-colors uppercase tracking-wider ml-auto">Clear Filters</button>'),vr=w('<div class="border-b border-hud-line p-4"><div class="flex flex-wrap gap-3 items-center"><div class="flex items-center gap-2"><label class="hud-label text-hud-text-dim shrink-0" for="agent-filter">AGENT</label> <select id="agent-filter" class="hud-input text-xs py-1 px-2"><option>All Agents</option><!></select></div> <div class="flex items-center gap-2"><label class="hud-label text-hud-text-dim shrink-0" for="action-filter">ACTION</label> <select id="action-filter" class="hud-input text-xs py-1 px-2"><option>All Actions</option><!></select></div> <div class="flex items-center gap-2"><label class="hud-label text-hud-text-dim shrink-0" for="symbol-filter">SYMBOL</label> <input id="symbol-filter" type="text" class="hud-input text-xs py-1 px-2 w-32" placeholder="Search..."/></div> <!></div></div>');function cr(l,a){vt(a,!0);let n=M(()=>[...new Set(C.fullLogs.map($=>$.agent))].sort()),h=M(()=>[...new Set(C.fullLogs.map($=>$.action))].sort());function m($,O){if(O===""){const{[$]:F,...I}=C.logFilters;C.logFilters=I}else C.logFilters={...C.logFilters,[$]:O}}function f(){C.logFilters={}}let c=M(()=>Object.keys(C.logFilters).length>0);var b=vr(),A=r(b),d=r(A),o=s(r(d),2);o.__change=$=>m("agent",$.currentTarget.value);var y=r(o);y.value=y.__value="";var P=s(y);dt(P,17,()=>t(n),xt,($,O)=>{var F=nr(),I=r(F,!0);e(F);var V={};D(()=>{L(I,t(O)),V!==(V=t(O))&&(F.value=(F.__value=t(O))??"")}),v($,F)}),e(o);var u;Wt(o),e(d);var x=s(d,2),i=s(r(x),2);i.__change=$=>m("action",$.currentTarget.value);var k=r(i);k.value=k.__value="";var p=s(k);dt(p,17,()=>t(h),xt,($,O)=>{var F=or(),I=r(F,!0);e(F);var V={};D(()=>{L(I,t(O)),V!==(V=t(O))&&(F.value=(F.__value=t(O))??"")}),v($,F)}),e(i);var g;Wt(i),e(x);var _=s(x,2),T=s(r(_),2);Et(T),T.__input=$=>m("symbol",$.currentTarget.value),e(_);var E=s(_,2);{var S=$=>{var O=dr();O.__click=f,v($,O)};z(E,$=>{t(c)&&$(S)})}e(A),e(b),D(()=>{u!==(u=C.logFilters.agent||"")&&(o.value=(o.__value=C.logFilters.agent||"")??"",Xt(o,C.logFilters.agent||"")),g!==(g=C.logFilters.action||"")&&(i.value=(i.__value=C.logFilters.action||"")??"",Xt(i,C.logFilters.action||"")),Oe(T,C.logFilters.symbol||"")}),v(l,b),ct()}Ot(["change","input","click"]);var ur=w('<div class="text-hud-text-dim py-8 text-center"> </div>'),hr=w('<span class="text-hud-primary ml-1"> </span>'),pr=w('<span class="text-hud-primary ml-1">•</span>'),fr=w('<div class="flex items-start gap-2 py-1 hover:bg-hud-line/5 cursor-pointer" role="button" tabindex="0"><span class="text-hud-text-dim shrink-0 w-[65px]"> </span> <span> </span> <span class="text-hud-text flex-1 text-right"> <!> <!></span> <span class="text-hud-text-dim text-xs shrink-0"> </span></div>'),xr=w('<div class="bg-hud-bg/50 p-2 mb-1 text-xs"><!></div>'),_r=w('<div class="border-b border-hud-line/10"><!> <!></div>'),mr=w('<div class="modal-backdrop"><div class="modal-content"><div class="modal-header"><div><h2 class="hud-label text-lg">ACTIVITY LOGS</h2> <p class="text-xs text-hud-text-dim mt-1"> </p></div> <button class="modal-close" aria-label="Close modal">×</button></div> <div class="modal-body"><!> <div class="flex-1 overflow-y-auto p-4 space-y-1 font-mono text-xs"><!></div></div></div></div>');function gr(l,a){vt(a,!0);let n=null,h=pt(null);function m(S){S.key==="Escape"&&a.onClose()}function f(S){S.target===S.currentTarget&&a.onClose()}function c(S){const{timestamp:$,agent:O,action:F,symbol:I,...V}=S;return Object.keys(V).length>0}function b(S){Z(h,t(h)===S?null:S,!0)}ae(()=>{C.fetchFullLogs(1e3),n=setInterval(()=>{C.fetchFullLogs(1e3)},5e3),window.addEventListener("keydown",m)}),me(()=>{n&&clearInterval(n),window.removeEventListener("keydown",m)});let A=M(()=>C.filteredLogs);var d=mr();d.__click=f;var o=r(d);o.__click=S=>S.stopPropagation();var y=r(o),P=r(y),u=s(r(P),2),x=r(u);e(u),e(P);var i=s(P,2);i.__click=function(...S){var $;($=a.onClose)==null||$.apply(this,S)},e(y);var k=s(y,2),p=r(k);cr(p,{});var g=s(p,2),_=r(g);{var T=S=>{var $=ur(),O=r($,!0);e($),D(()=>L(O,C.fullLogs.length===0?"No logs available":"No logs match the current filters")),v(S,$)},E=S=>{var $=ft(),O=st($);dt(O,17,()=>t(A),xt,(F,I,V)=>{var B=_r(),K=r(B);Dt(K,{position:"right",children:Y=>{var U=fr();U.__click=()=>b(V);var R=r(U),j=r(R,!0);e(R);var H=s(R,2),J=r(H,!0);e(H);var at=s(H,2),lt=r(at),rt=s(lt);{var it=et=>{var tt=hr(),Q=r(tt);e(tt),D(()=>L(Q,`(${t(I).symbol??""})`)),v(et,tt)};z(rt,et=>{t(I).symbol&&et(it)})}var _t=s(rt,2);{var ht=et=>{var tt=pr();v(et,tt)};z(_t,et=>{c(t(I))&&et(ht)})}e(at);var mt=s(at,2),kt=r(mt,!0);e(mt),e(U),D((et,tt)=>{L(j,et),ot(H,1,`shrink-0 w-[80px] text-right ${tt??""}`),L(J,t(I).agent),L(lt,`${t(I).action??""} `),L(kt,t(h)===V?"⌃":"⌄")},[()=>new Date(t(I).timestamp).toLocaleTimeString("en-US",{hour12:!1}),()=>ce(t(I).agent)]),v(Y,U)},content:Y=>{Yt(Y,{get log(){return t(I)}})},$$slots:{default:!0,content:!0}});var W=s(K,2);{var q=N=>{var G=xr(),Y=r(G);Yt(Y,{get log(){return t(I)}}),e(G),v(N,G)};z(W,N=>{t(h)===V&&c(t(I))&&N(q)})}e(B),v(F,B)}),v(S,$)};z(_,S=>{t(A).length===0?S(T):S(E,!1)})}e(g),e(k),e(o),e(d),D(()=>L(x,`Showing ${t(A).length??""} of ${C.fullLogs.length??""} logs`)),Ct(3,d,()=>Ft,()=>({duration:200})),v(l,d),ct()}Ot(["click"]);function Ht(l){const a=new MutationObserver(()=>{l.scrollTop=l.scrollHeight});return a.observe(l,{childList:!0,subtree:!0}),{destroy(){a.disconnect()}}}var br=w('<div class="text-hud-text-dim py-4 text-center">Waiting for activity...</div>'),yr=w('<span class="text-hud-primary ml-1"> </span>'),wr=w('<span class="text-hud-primary ml-1">•</span>'),kr=w('<div class="flex items-start gap-2 py-1 border-b border-hud-line/10 hover:bg-hud-line/5 cursor-help"><span class="text-hud-text-dim shrink-0 hidden sm:inline w-[52px]"> </span> <span> </span> <span class="text-hud-text flex-1 text-right wrap-break-word"> <!> <!></span></div>'),Ar=w('<div class="hud-panel flex flex-col h-80"><div class="flex justify-between items-center px-4 py-2 border-b border-hud-line shrink-0"><span class="hud-label">ACTIVITY FEED</span> <div class="flex items-center gap-3"><span class="hud-label">LIVE</span> <button class="text-[10px] text-hud-primary hover:text-hud-text-bright transition-colors uppercase tracking-wider cursor-pointer">View All</button></div></div> <div class="flex-1 min-h-0 p-3"><div class="overflow-y-auto h-full font-mono text-xs space-y-1"><!></div></div></div> <!>',1);function Sr(l,a){vt(a,!0);let n=pt(!1);function h(g){const{timestamp:_,agent:T,action:E,symbol:S,...$}=g;return Object.keys($).length>0}function m(){Z(n,!0)}function f(){Z(n,!1)}var c=Ar(),b=st(c),A=r(b),d=s(r(A),2),o=s(r(d),2);o.__click=m,e(d),e(A);var y=s(A,2),P=r(y),u=r(P);{var x=g=>{var _=br();v(g,_)},i=g=>{var _=ft(),T=st(_);dt(T,19,()=>C.logs.slice(-200),(E,S)=>`${E.timestamp}-${S}`,(E,S)=>{Dt(E,{position:"right",children:F=>{var I=kr(),V=r(I),B=r(V,!0);e(V);var K=s(V,2),W=r(K,!0);e(K);var q=s(K,2),N=r(q),G=s(N);{var Y=j=>{var H=yr(),J=r(H);e(H),D(()=>L(J,`(${t(S).symbol??""})`)),v(j,H)};z(G,j=>{t(S).symbol&&j(Y)})}var U=s(G,2);{var R=j=>{var H=wr();v(j,H)};z(U,j=>{h(t(S))&&j(R)})}e(q),e(I),D((j,H)=>{L(B,j),ot(K,1,`shrink-0 w-[72px] text-right ${H??""}`),L(W,t(S).agent),L(N,`${t(S).action??""} `)},[()=>new Date(t(S).timestamp).toLocaleTimeString("en-US",{hour12:!1}),()=>ce(t(S).agent)]),Ct(3,I,()=>Ft,()=>({duration:200})),v(F,I)},content:F=>{Yt(F,{get log(){return t(S)}})},$$slots:{default:!0,content:!0}})}),v(g,_)};z(u,g=>{C.logs.length===0?g(x):g(i,!1)})}e(P),de(P,g=>Ht==null?void 0:Ht(g)),e(y),e(b);var k=s(b,2);{var p=g=>{gr(g,{onClose:f})};z(k,g=>{t(n)&&g(p)})}v(l,c),ct()}Ot(["click"]);var Cr=w('<li class="flex items-start gap-2"><span class="text-hud-success shrink-0 mt-0.5">+</span> <span class="text-xs text-hud-success leading-relaxed"> </span></li>'),$r=w('<div class="research-section"><div class="hud-label text-hud-text-dim mb-2">CATALYSTS</div> <ul class="space-y-1.5"></ul></div>'),Tr=w('<li class="flex items-start gap-2"><span class="text-hud-error shrink-0 mt-0.5">−</span> <span class="text-xs text-hud-error leading-relaxed"> </span></li>'),Pr=w('<div class="research-section"><div class="hud-label text-hud-text-dim mb-2">RED FLAGS</div> <ul class="space-y-1.5"></ul></div>'),Er=w('<div class="px-2 pb-2 space-y-3"><div class="research-section"><div class="hud-label text-hud-text-dim mb-1">REASONING</div> <p class="text-xs text-hud-text leading-relaxed"> </p></div> <div class="research-section grid grid-cols-2 gap-2"><div><span class="hud-label text-hud-text-dim block mb-0.5">Confidence</span> <span class="hud-value-sm text-hud-text-bright"> </span></div> <div><span class="hud-label text-hud-text-dim block mb-0.5">Sentiment</span> <span> </span></div> <div><span class="hud-label text-hud-text-dim block mb-0.5">Entry Quality</span> <span class="hud-value-sm text-hud-text"> </span></div> <div><span class="hud-label text-hud-text-dim block mb-0.5">Analyzed</span> <span class="hud-value-sm text-hud-text"> </span></div></div> <!> <!></div>');function Lr(l,a){vt(a,!0);var n=Er(),h=r(n),m=s(r(h),2),f=r(m,!0);e(m),e(h);var c=s(h,2),b=r(c),A=s(r(b),2),d=r(A);e(A),e(b);var o=s(b,2),y=s(r(o),2),P=r(y);e(y),e(o);var u=s(o,2),x=s(r(u),2),i=r(x,!0);e(x),e(u);var k=s(u,2),p=s(r(k),2),g=r(p,!0);e(p),e(k),e(c);var _=s(c,2);{var T=$=>{var O=$r(),F=s(r(O),2);dt(F,21,()=>a.research.catalysts,xt,(I,V)=>{var B=Cr(),K=s(r(B),2),W=r(K,!0);e(K),e(B),D(()=>L(W,t(V))),v(I,B)}),e(F),e(O),v($,O)};z(_,$=>{a.research.catalysts.length>0&&$(T)})}var E=s(_,2);{var S=$=>{var O=Pr(),F=s(r(O),2);dt(F,21,()=>a.research.red_flags,xt,(I,V)=>{var B=Tr(),K=s(r(B),2),W=r(K,!0);e(K),e(B),D(()=>L(W,t(V))),v(I,B)}),e(F),e(O),v($,O)};z(E,$=>{a.research.red_flags.length>0&&$(S)})}e(n),D(($,O,F,I,V)=>{L(f,a.research.reasoning),L(d,`${$??""}%`),ot(y,1,`hud-value-sm ${O??""}`),L(P,`${F??""}%`),L(i,I),L(g,V)},[()=>(a.research.confidence*100).toFixed(0),()=>Ut(a.research.sentiment),()=>(a.research.sentiment*100).toFixed(0),()=>{var $;return(($=a.research.entry_quality)==null?void 0:$.toUpperCase())||"N/A"},()=>new Date(a.research.timestamp).toLocaleTimeString("en-US",{hour12:!1})]),v(l,n),ct()}var Or=w('<div class="text-hud-text-dim text-sm py-4 text-center">Researching candidates...</div>'),Fr=w('<span class="text-xs text-hud-error bg-hud-error/10 px-1 rounded"> </span>'),Nr=w('<div class="flex flex-wrap gap-1"></div>'),Ir=w('<p class="text-xs text-hud-text-dim leading-tight mb-1"> </p> <!>',1),Rr=w('<div class="p-2 cursor-pointer" role="button" tabindex="0"><div class="flex justify-between items-center mb-1"><div class="flex items-center gap-2"><span class="hud-value-sm"> </span> <span class="text-hud-text-dim text-xs"> </span></div> <div class="flex items-center gap-2"><span> </span> <span> </span></div></div> <!></div>'),Mr=w('<li class="text-[10px] text-hud-success"> </li>'),Dr=w('<div class="pt-1 border-t border-hud-line/30"><span class="text-[9px] text-hud-text-dim">CATALYSTS:</span> <ul class="mt-1 space-y-0.5"></ul></div>'),zr=w('<li class="text-[10px] text-hud-error"> </li>'),Gr=w('<div class="pt-1 border-t border-hud-line/30"><span class="text-[9px] text-hud-text-dim">RED FLAGS:</span> <ul class="mt-1 space-y-0.5"></ul></div>'),Ur=w('<div class="space-y-2 min-w-[200px]"><div class="hud-label text-hud-primary border-b border-hud-line/50 pb-1"> </div> <div class="space-y-1"><div class="flex justify-between"><span class="text-hud-text-dim">Confidence</span> <span class="text-hud-text-bright"> </span></div> <div class="flex justify-between"><span class="text-hud-text-dim">Sentiment</span> <span> </span></div> <div class="flex justify-between"><span class="text-hud-text-dim">Analyzed</span> <span class="text-hud-text"> </span></div></div> <!> <!></div>'),jr=w("<div><!></div>"),Hr=w("<div><!> <!></div>"),Vr=w('<div class="overflow-y-auto h-full space-y-2"><!></div>');function Yr(l,a){vt(a,!0);let n=M(()=>{var c;return Object.entries(((c=C.status)==null?void 0:c.signalResearch)||{})}),h=pt(null);function m(c){Z(h,t(h)===c?null:c,!0)}function f(c,b){(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),m(b))}{let c=M(()=>t(n).length.toString());Pt(l,{title:"SIGNAL RESEARCH",get titleRight(){return t(c)},class:"h-80",children:(b,A)=>{var d=Vr(),o=r(d);{var y=u=>{var x=Or();v(u,x)},P=u=>{var x=ft(),i=st(x);dt(i,17,()=>t(n),([k,p])=>k,(k,p)=>{var g=M(()=>ne(t(p),2));let _=()=>t(g)[0];const E=M(()=>t(g)[1]),S=M(()=>t(h)===_());var $=Hr();let O;var F=r($);Dt(F,{position:"left",get disabled(){return t(S)},children:W=>{var q=Rr();q.__click=()=>m(_()),q.__keydown=ht=>f(ht,_());var N=r(q),G=r(N),Y=r(G),U=r(Y,!0);e(Y);var R=s(Y,2),j=r(R,!0);e(R),e(G);var H=s(G,2),J=r(H),at=r(J,!0);e(J);var lt=s(J,2),rt=r(lt,!0);e(lt),e(H),e(N);var it=s(N,2);{var _t=ht=>{var mt=Ir(),kt=st(mt),et=r(kt,!0);e(kt);var tt=s(kt,2);{var Q=ut=>{var bt=Nr();dt(bt,21,()=>t(E).red_flags.slice(0,2),xt,(yt,At)=>{var Lt=Fr(),xe=r(Lt);e(Lt),D(_e=>L(xe,`${_e??""}...`),[()=>t(At).slice(0,30)]),v(yt,Lt)}),e(bt),v(ut,bt)};z(tt,ut=>{t(E).red_flags.length>0&&ut(Q)})}D(()=>L(et,t(E).reasoning)),v(ht,mt)};z(it,ht=>{t(S)||ht(_t)})}e(q),D((ht,mt,kt)=>{nt(q,"aria-expanded",t(S)),L(U,_()),L(j,t(S)?"⌃":"⌄"),ot(J,1,`hud-label ${ht??""}`),L(at,mt),ot(lt,1,`hud-value-sm font-bold ${kt??""}`),L(rt,t(E).verdict)},[()=>Be(t(E).entry_quality),()=>{var ht;return((ht=t(E).entry_quality)==null?void 0:ht.toUpperCase())||"N/A"},()=>Ye(t(E).verdict)]),v(W,q)},content:W=>{var q=Ur(),N=r(q),G=r(N);e(N);var Y=s(N,2),U=r(Y),R=s(r(U),2),j=r(R);e(R),e(U);var H=s(U,2),J=s(r(H),2),at=r(J);e(J),e(H);var lt=s(H,2),rt=s(r(lt),2),it=r(rt,!0);e(rt),e(lt),e(Y);var _t=s(Y,2);{var ht=et=>{var tt=Dr(),Q=s(r(tt),2);dt(Q,21,()=>t(E).catalysts,xt,(ut,bt)=>{var yt=Mr(),At=r(yt);e(yt),D(()=>L(At,`+ ${t(bt)??""}`)),v(ut,yt)}),e(Q),e(tt),v(et,tt)};z(_t,et=>{t(E).catalysts.length>0&&et(ht)})}var mt=s(_t,2);{var kt=et=>{var tt=Gr(),Q=s(r(tt),2);dt(Q,21,()=>t(E).red_flags,xt,(ut,bt)=>{var yt=zr(),At=r(yt);e(yt),D(()=>L(At,`- ${t(bt)??""}`)),v(ut,yt)}),e(Q),e(tt),v(et,tt)};z(mt,et=>{t(E).red_flags.length>0&&et(kt)})}e(q),D((et,tt,Q,ut)=>{L(G,`${_()??""} DETAILS`),L(j,`${et??""}%`),ot(J,1,tt),L(at,`${Q??""}%`),L(it,ut)},[()=>(t(E).confidence*100).toFixed(0),()=>Bt(Ut(t(E).sentiment)),()=>(t(E).sentiment*100).toFixed(0),()=>new Date(t(E).timestamp).toLocaleTimeString("en-US",{hour12:!1})]),v(W,q)},$$slots:{default:!0,content:!0}});var I=s(F,2);{var V=B=>{var K=jr(),W=r(K);Lr(W,{get symbol(){return _()},get research(){return t(E)}}),e(K),Ct(3,K,()=>Xe,()=>({duration:200})),v(B,K)};z(I,B=>{t(S)&&B(V)})}e($),D(()=>O=ot($,1,"border border-hud-line/30 rounded transition-all duration-200",null,O,{"research-card-expanded":t(S),"research-card-collapsed":!t(S)})),Ct(3,$,()=>Ft,()=>({duration:200})),v(k,$)}),v(u,x)};z(o,u=>{t(n).length===0?u(y):u(P,!1)})}e(d),v(b,d)},$$slots:{default:!0}})}ct()}Ot(["click","keydown"]);var Br=w("<!> <!>",1),Kr=w('<!> <!> <!> <!> <span class="hidden lg:inline text-hud-line">|</span> <!> <!> <span class="hidden lg:inline text-hud-line">|</span> <!> <!>',1),qr=w('<footer class="mt-4 pt-3 border-t border-hud-line flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3"><div class="flex flex-wrap gap-4 md:gap-6"><!></div> <div class="flex items-center gap-4"><span class="hud-label hidden md:inline">AUTONOMOUS TRADING SYSTEM</span> <span class="hud-value-sm">PAPER MODE</span></div></footer>');function Wr(l,a){vt(a,!0);let n=M(()=>C.config);var h=qr(),m=r(h),f=r(m);{var c=b=>{var A=Kr(),d=st(A);wt(d,{label:"MAX POS",get value(){return`$${t(n).max_position_value??""}`}});var o=s(d,2);{let _=M(()=>(t(n).min_sentiment_score*100).toFixed(0));wt(o,{label:"MIN SENT",get value(){return`${t(_)??""}%`}})}var y=s(o,2);wt(y,{label:"TAKE PROFIT",get value(){return`${t(n).take_profit_pct??""}%`}});var P=s(y,2);wt(P,{label:"STOP LOSS",get value(){return`${t(n).stop_loss_pct??""}%`}});var u=s(P,4);{let _=M(()=>t(n).options_enabled?"ON":"OFF"),T=M(()=>t(n).options_enabled?"text-hud-purple":"text-hud-text-dim");wt(u,{label:"OPTIONS",get value(){return t(_)},get valueClassName(){return t(T)}})}var x=s(u,2);{var i=_=>{var T=Br(),E=st(T);{let $=M(()=>{var O;return((O=t(n).options_target_delta)==null?void 0:O.toFixed(2))||"0.35"});wt(E,{label:"OPT Δ",get value(){return t($)}})}var S=s(E,2);{let $=M(()=>t(n).options_min_dte||7),O=M(()=>t(n).options_max_dte||45);wt(S,{label:"OPT DTE",get value(){return`${t($)??""}-${t(O)??""}`}})}v(_,T)};z(x,_=>{t(n).options_enabled&&_(i)})}var k=s(x,4);{let _=M(()=>t(n).crypto_enabled?"24/7":"OFF"),T=M(()=>t(n).crypto_enabled?"text-hud-warning":"text-hud-text-dim");wt(k,{label:"CRYPTO",get value(){return t(_)},get valueClassName(){return t(T)}})}var p=s(k,2);{var g=_=>{{let T=M(()=>(t(n).crypto_symbols||["BTC","ETH","SOL"]).map(E=>E.split("/")[0]).join("/"));wt(_,{label:"SYMBOLS",get value(){return t(T)}})}};z(p,_=>{t(n).crypto_enabled&&_(g)})}v(b,A)};z(f,b=>{t(n)&&b(c)})}e(m),zt(2),e(h),v(l,h),ct()}var Xr=w('<div class="space-y-4"><div class="text-left bg-hud-panel p-4 border border-hud-line"><label class="hud-label block mb-2">API Token</label> <input type="password" class="hud-input w-full mb-2" placeholder="Enter MAHORAGA_API_TOKEN"/> <button class="hud-button w-full">Save & Connect</button></div> <p class="text-hud-text-dim text-xs">Find your token in <code class="text-hud-primary">.dev.vars</code> (local) or Cloudflare secrets (deployed)</p></div>'),Qr=w('<p class="text-hud-text-dim text-xs">Enable the agent: <code class="text-hud-primary">curl -H "Authorization: Bearer $TOKEN" localhost:8787/agent/enable</code></p>'),Zr=w('<div class="text-center py-8"><div class="text-hud-error text-2xl mb-4"> </div> <p class="text-hud-text-dim text-sm mb-6"> </p> <!></div>'),Jr=w('<div class="min-h-screen bg-hud-bg flex items-center justify-center p-6"><!></div>');function ts(l,a){vt(a,!0);let n=M(()=>a.error.includes("Unauthorized")),h=pt(ie(localStorage.getItem("mahoraga_api_token")||""));function m(){const b=t(h).trim();b?localStorage.setItem("mahoraga_api_token",b):localStorage.removeItem("mahoraga_api_token"),Z(h,b,!0),C.poll()}var f=Jr(),c=r(f);{let b=M(()=>t(n)?"AUTHENTICATION REQUIRED":"CONNECTION ERROR");Pt(c,{get title(){return t(b)},class:"max-w-md w-full",children:(A,d)=>{var o=Zr(),y=r(o),P=r(y,!0);e(y);var u=s(y,2),x=r(u,!0);e(u);var i=s(u,2);{var k=g=>{var _=Xr(),T=r(_),E=s(r(T),2);Et(E);var S=s(E,2);S.__click=m,e(T),zt(2),e(_),Mt(E,()=>t(h),$=>Z(h,$)),v(g,_)},p=g=>{var _=Qr();v(g,_)};z(i,g=>{t(n)?g(k):g(p,!1)})}e(o),D(()=>{L(P,t(n)?"NO TOKEN":"OFFLINE"),L(x,a.error)}),v(A,o)},$$slots:{default:!0}})}e(f),v(l,f),ct()}Ot(["click"]);var es=w('<div class="space-y-6"><div class="text-center py-2"><h2 class="text-xl font-light text-hud-warning mb-2">Risk Disclaimer</h2> <p class="text-hud-text-dim text-xs">Please read carefully before proceeding</p></div> <div class="bg-hud-bg p-4 rounded text-xs text-hud-text-dim space-y-3 max-h-64 overflow-y-auto"><p>This software is provided for <strong class="text-hud-text">educational and informational purposes only</strong>. Nothing in this software constitutes financial, investment, legal, or tax advice.</p> <p><strong class="text-hud-text">By using this software, you acknowledge and agree that:</strong></p> <ul class="list-disc pl-4 space-y-1"><li>All trading and investment decisions are made <strong class="text-hud-warning">at your own risk</strong></li> <li>Markets are volatile and <strong class="text-hud-error">you can lose some or all of your capital</strong></li> <li>No guarantees of performance, profits, or outcomes are made</li> <li>The authors, contributors, and maintainers are not responsible for any financial losses</li> <li>You are solely responsible for your own trades and investment decisions</li> <li>This software may contain bugs, errors, or behave unexpectedly</li> <li>Past performance does not guarantee future results</li></ul> <p><strong class="text-hud-error">If you do not fully understand the risks involved in trading or investing, you should not use this software.</strong></p> <p>No member, contributor, or operator of this project shall be held liable for losses of any kind.</p></div> <div class="flex items-start gap-2"><input type="checkbox" id="acceptDisclaimer" class="accent-hud-primary mt-1"/> <label for="acceptDisclaimer" class="text-xs text-hud-text">I have read and understand the risks. I accept full responsibility for any losses that may occur from using this software.</label></div> <div class="pt-4 border-t border-hud-line"><button class="hud-button w-full disabled:opacity-50 disabled:cursor-not-allowed">I Understand, Continue</button></div></div>'),as=w('<div class="space-y-6"><div class="text-center py-4"><h2 class="text-2xl font-light text-hud-text-bright mb-2">Welcome to Mahoraga</h2> <p class="text-hud-text-dim text-sm">Autonomous trading powered by social sentiment and AI analysis</p></div> <div class="space-y-4 text-sm text-hud-text"><div class="flex items-start gap-3"><span class="text-hud-success">1.</span><span>Monitors StockTwits for sentiment signals</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">2.</span><span>AI research agents analyze candidates 24/7</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">3.</span><span>LLM makes final trading decisions at market open</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">4.</span><span>Automatic stop-loss and take-profit protection</span></div></div> <div class="pt-4 border-t border-hud-line"><button class="hud-button w-full">Get Started</button></div></div>'),rs=w('<div class="text-hud-error text-sm p-2 border border-hud-error/30 rounded"> </div>'),ss=w('<div class="space-y-6"><div><h3 class="hud-label mb-4 text-hud-primary">Alpaca Trading Account</h3> <p class="text-xs text-hud-text-dim mb-4">Get your API keys from <a href="https://app.alpaca.markets" target="_blank" rel="noopener noreferrer" class="text-hud-primary hover:underline">app.alpaca.markets</a></p> <div class="space-y-3"><div><label class="hud-label block mb-1">API Key</label> <input type="text" class="hud-input w-full" placeholder="PK..."/></div> <div><label class="hud-label block mb-1">API Secret</label> <input type="password" class="hud-input w-full" placeholder="Secret key..."/></div> <div class="flex items-center gap-2"><input type="checkbox" id="paperMode" class="accent-hud-primary"/> <label for="paperMode" class="hud-label">Paper Trading Mode (recommended for testing)</label></div></div></div> <div><h3 class="hud-label mb-4 text-hud-primary">OpenAI API Key (Optional)</h3> <p class="text-xs text-hud-text-dim mb-4">Required for AI-powered analysis. Get from <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener noreferrer" class="text-hud-primary hover:underline">platform.openai.com</a></p> <input type="password" class="hud-input w-full" placeholder="sk-..."/></div> <div><h3 class="hud-label mb-4 text-hud-primary">Starting Equity</h3> <p class="text-xs text-hud-text-dim mb-4">Your account starting balance (for P&L tracking)</p> <input type="number" class="hud-input w-full"/></div> <!> <div class="flex gap-4 pt-4 border-t border-hud-line"><button class="hud-button flex-1">Back</button> <button class="hud-button flex-1"> </button></div></div>'),ls=w('<div class="space-y-6 text-center py-8"><div class="text-hud-success text-4xl mb-4">&#10003;</div> <h2 class="text-xl font-light text-hud-text-bright">Configuration Saved</h2> <p class="text-hud-text-dim text-sm">Please restart the agent to apply the new settings:</p> <code class="block bg-hud-bg p-3 text-hud-primary text-sm rounded">curl localhost:8787/agent/disable && curl localhost:8787/agent/enable</code> <button class="hud-button mt-4">Continue to Dashboard</button></div>'),is=w('<div class="min-h-screen bg-hud-bg flex items-center justify-center p-6"><!></div>');function ns(l,a){vt(a,!0);let n=pt(0),h=pt(!1),m=pt(!1),f=pt(null),c=pt(""),b=pt(""),A=pt(""),d=pt(!0),o=pt(1e5);async function y(){if(!t(c)||!t(b)){Z(f,"Alpaca API Key and Secret are required");return}Z(m,!0),Z(f,null);const x=await Fe({alpaca_key:t(c),alpaca_secret:t(b),openai_key:t(A)||void 0,paper_mode:t(d),starting_equity:t(o)});Z(m,!1),x.error?Z(f,x.error,!0):Z(n,3)}var P=is(),u=r(P);Pt(u,{title:"MAHORAGA SETUP",class:"w-full max-w-xl",children:(x,i)=>{var k=ft(),p=st(k);{var g=T=>{var E=es(),S=s(r(E),4),$=r(S);Et($),zt(2),e(S);var O=s(S,2),F=r(O);F.__click=()=>Z(n,1),e(O),e(E),D(()=>F.disabled=!t(h)),Qt($,()=>t(h),I=>Z(h,I)),v(T,E)},_=T=>{var E=ft(),S=st(E);{var $=F=>{var I=as(),V=s(r(I),4),B=r(V);B.__click=()=>Z(n,2),e(V),e(I),v(F,I)},O=F=>{var I=ft(),V=st(I);{var B=W=>{var q=ss(),N=r(q),G=s(r(N),4),Y=r(G),U=s(r(Y),2);Et(U),e(Y);var R=s(Y,2),j=s(r(R),2);Et(j),e(R);var H=s(R,2),J=r(H);Et(J),zt(2),e(H),e(G),e(N);var at=s(N,2),lt=s(r(at),4);Et(lt),e(at);var rt=s(at,2),it=s(r(rt),4);Et(it),e(rt);var _t=s(rt,2);{var ht=Q=>{var ut=rs(),bt=r(ut,!0);e(ut),D(()=>L(bt,t(f))),v(Q,ut)};z(_t,Q=>{t(f)&&Q(ht)})}var mt=s(_t,2),kt=r(mt);kt.__click=()=>Z(n,1);var et=s(kt,2);et.__click=y;var tt=r(et,!0);e(et),e(mt),e(q),D(()=>{et.disabled=t(m),L(tt,t(m)?"Saving...":"Save & Continue")}),Mt(U,()=>t(c),Q=>Z(c,Q)),Mt(j,()=>t(b),Q=>Z(b,Q)),Qt(J,()=>t(d),Q=>Z(d,Q)),Mt(lt,()=>t(A),Q=>Z(A,Q)),Mt(it,()=>t(o),Q=>Z(o,Q)),v(W,q)},K=W=>{var q=ft(),N=st(q);{var G=Y=>{var U=ls(),R=s(r(U),8);R.__click=function(...j){var H;(H=a.onComplete)==null||H.apply(this,j)},e(U),v(Y,U)};z(N,Y=>{t(n)===3&&Y(G)},!0)}v(W,q)};z(V,W=>{t(n)===2?W(B):W(K,!1)},!0)}v(F,I)};z(S,F=>{t(n)===1?F($):F(O,!1)},!0)}v(T,E)};z(p,T=>{t(n)===0?T(g):T(_,!1)})}v(x,k)},$$slots:{default:!0}}),e(P),v(l,P),ct()}Ot(["click"]);var os=w('<div class="min-h-screen bg-hud-bg"><div class="max-w-[1920px] mx-auto p-4"><!> <div class="grid grid-cols-4 md:grid-cols-8 lg:grid-cols-12 gap-4"><div class="col-span-4 md:col-span-4 lg:col-span-3"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-5"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-8"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div></div> <!></div></div>');function ms(l,a){vt(a,!0),ae(()=>(C.checkSetup(),()=>C.stopPolling())),Pe(()=>{C.setupChecked&&!C.showSetup&&C.startPolling()});var n=ft(),h=st(n);{var m=c=>{ns(c,{onComplete:()=>C.completeSetup()})},f=c=>{var b=ft(),A=st(b);{var d=y=>{ts(y,{get error(){return C.error}})},o=y=>{var P=os(),u=r(P),x=r(u);va(x,{});var i=s(x,2),k=r(i),p=r(k);fa(p,{}),e(k);var g=s(k,2),_=r(g);Ea(_,{}),e(g);var T=s(g,2),E=r(T);Oa(E,{}),e(T);var S=s(T,2),$=r(S);Ha($,{}),e(S);var O=s(S,2),F=r(O);qa(F,{}),e(O);var I=s(O,2),V=r(I);er(V,{}),e(I);var B=s(I,2),K=r(B);Sr(K,{}),e(B);var W=s(B,2),q=r(W);Yr(q,{}),e(W),e(i);var N=s(i,2);Wr(N,{}),e(u),e(P),v(y,P)};z(A,y=>{C.error&&!C.status?y(d):y(o,!1)},!0)}v(c,b)};z(h,c=>{C.showSetup?c(m):c(f,!1)})}v(l,n),ct()}export{ms as component};
