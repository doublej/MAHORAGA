import{a as c,f as S,c as vt,d as wt}from"../chunks/Dvq9GajI.js";import{o as ve}from"../chunks/CX1Vrt1c.js";import{a1 as ce,E as ue,b2 as he,ad as fe,e as Jt,u as te,b3 as pe,b4 as xe,q as me,b5 as It,aC as ee,r as _e,v as ge,b6 as be,h as Kt,D as r,t,G as n,F as a,B as M,A as ot,C as dt,N as ht,R as E,P as Z,z as st,a7 as B,O as ae,b7 as re,Q as Ft,l as ye}from"../chunks/BMldKSzV.js";import{p as ut,i as R}from"../chunks/CobWLHRY.js";import{t as we,e as ct,s as it,i as pt,f as Vt,S as ke,d as C,P as mt,g as rt,r as Pt,b as Lt,h as qt,j as Se}from"../chunks/9l2XBJ39.js";import{a as Ae,s as $,d as Bt,e as Wt}from"../chunks/BS5HiHz8.js";import{i as Ct}from"../chunks/BGUWZMcO.js";import{s as Xt}from"../chunks/DpuPE-1g.js";import{b as Pe}from"../chunks/BonPI4V-.js";const Ce=()=>performance.now(),bt={tick:s=>requestAnimationFrame(s),now:()=>Ce(),tasks:new Set};function se(){const s=bt.now();bt.tasks.forEach(e=>{e.c(s)||(bt.tasks.delete(e),e.f())}),bt.tasks.size!==0&&bt.tick(se)}function Te(s){let e;return bt.tasks.size===0&&bt.tick(se),{promise:new Promise(l=>{bt.tasks.add(e={c:s,f:l})}),abort(){bt.tasks.delete(e)}}}function Mt(s,e){ee(()=>{s.dispatchEvent(new CustomEvent(e))})}function $e(s){if(s==="float")return"cssFloat";if(s==="offset")return"cssOffset";if(s.startsWith("--"))return s;const e=s.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Qt(s){const e={},l=s.split(";");for(const u of l){const[m,h]=u.split(":");if(!m||h===void 0)break;const p=$e(m.trim());e[p]=h.trim()}return e}const Ee=s=>s;function yt(s,e,l,u){var w;var m=(s&pe)!==0,h="both",p,y=e.inert,k=e.style.overflow,d,o;function _(){return ee(()=>p??(p=l()(e,(u==null?void 0:u())??{},{direction:h})))}var P={is_global:m,in(){e.inert=y,d=Ut(e,_(),o,1,()=>{Mt(e,"introend"),d==null||d.abort(),d=p=void 0,e.style.overflow=k})},out(x){e.inert=!0,o=Ut(e,_(),d,0,()=>{Mt(e,"outroend"),x==null||x()})},stop:()=>{d==null||d.abort(),o==null||o.abort()}},v=ce;if(((w=v.nodes).t??(w.t=[])).push(P),Ae){var b=m;if(!b){for(var i=v.parent;i&&(i.f&ue)!==0;)for(;(i=i.parent)&&(i.f&he)===0;);b=!i||(i.f&fe)!==0}b&&Jt(()=>{te(()=>P.in())})}}function Ut(s,e,l,u,m){var h=u===1;if(xe(e)){var p,y=!1;return me(()=>{if(!y){var w=e({direction:h?"in":"out"});p=Ut(s,w,l,u,m)}}),{abort:()=>{y=!0,p==null||p.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}if(l==null||l.deactivate(),!(e!=null&&e.duration)&&!(e!=null&&e.delay))return Mt(s,h?"introstart":"outrostart"),m(),{abort:It,deactivate:It,reset:It,t:()=>u};const{delay:k=0,css:d,tick:o,easing:_=Ee}=e;var P=[];if(h&&l===void 0&&(o&&o(0,1),d)){var v=Qt(d(0,1));P.push(v,v)}var b=()=>1-u,i=s.animate(P,{duration:k,fill:"forwards"});return i.onfinish=()=>{i.cancel(),Mt(s,h?"introstart":"outrostart");var w=(l==null?void 0:l.t())??1-u;l==null||l.abort();var x=u-w,f=e.duration*Math.abs(x),g=[];if(f>0){var A=!1;if(d)for(var I=Math.ceil(f/16.666666666666668),N=0;N<=I;N+=1){var G=w+x*_(N/I),L=Qt(d(G,1-G));g.push(L),A||(A=L.overflow==="hidden")}A&&(s.style.overflow="hidden"),b=()=>{var F=i.currentTime;return w+x*_(F/f)},o&&Te(()=>{if(i.playState!=="running")return!1;var F=b();return o(F,1-F),!0})}i=s.animate(g,{duration:f,fill:"forwards"}),i.onfinish=()=>{b=()=>u,o==null||o(u,1-u),m()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=It)},deactivate:()=>{m=It},reset:()=>{u===0&&(o==null||o(1,0))},t:()=>b()}}function ie(s,e,l){Jt(()=>{var u=te(()=>e(s,l==null?void 0:l())||{});if(l&&(u!=null&&u.update)){var m=!1,h={};_e(()=>{var p=l();ge(p),m&&be(h,p)&&(h=p,u.update(p))}),m=!0}if(u!=null&&u.destroy)return()=>u.destroy()})}function le(s,e,l,u){var m=s.__style;if(Kt||m!==e){var h=we(e);(!Kt||h!==s.getAttribute("style"))&&(h==null?s.removeAttribute("style"):s.style.cssText=h),s.__style=e}return u}var Oe=S("<div></div>"),Ne=S('<div class="flex items-center gap-2"><!> <span class="hud-label"> </span> <span class="hud-value-sm"> </span></div>'),Ie=S("<div></div>");function Le(s,e){const l={active:"bg-hud-success",warning:"bg-hud-warning",error:"bg-hud-error",inactive:"bg-hud-dim"};let u=ut(e,"class",3,"");var m=Ie();ct(m,21,()=>e.items,pt,(h,p)=>{var y=Ne(),k=r(y);{var d=b=>{var i=Oe();M(()=>it(i,1,`w-2 h-2 rounded-full ${l[t(p).status]??""}`)),c(b,i)};R(k,b=>{t(p).status&&b(d)})}var o=n(k,2),_=r(o,!0);a(o);var P=n(o,2),v=r(P,!0);a(P),a(y),M(()=>{$(_,t(p).label),$(v,t(p).value)}),c(h,y)}),a(m),M(()=>it(m,1,`flex items-center gap-6 ${u()??""}`)),c(s,m)}function jt(s,e){function l(u){s.contains(u.target)||e()}return document.addEventListener("mousedown",l),{destroy(){document.removeEventListener("mousedown",l)}}}function xt(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}function Yt(s){return`${s>=0?"+":""}${s.toFixed(2)}%`}function Re(s){return{Analyst:"text-hud-purple",Executor:"text-hud-cyan",StockTwits:"text-hud-success",SignalResearch:"text-hud-cyan",PositionResearch:"text-hud-purple",Crypto:"text-hud-warning",System:"text-hud-text-dim"}[s]||"text-hud-text"}function Fe(s,e=[]){return e.includes(s)||s.includes("/USD")||s.includes("BTC")||s.includes("ETH")||s.includes("SOL")}function Me(s){return s==="BUY"?"text-hud-success":s==="SKIP"?"text-hud-error":"text-hud-warning"}function De(s){return s==="excellent"?"text-hud-success":s==="good"?"text-hud-primary":s==="fair"?"text-hud-warning":"text-hud-error"}function Ht(s){return s>=.3?"text-hud-success":s<=-.2?"text-hud-error":"text-hud-warning"}function ze(s){return new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}const je=s=>s;function Ge(s){const e=s-1;return e*e*e+1}function Ue(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Zt(s){const e=typeof s=="string"&&s.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[s,"px"]}function Ot(s,{delay:e=0,duration:l=400,easing:u=je}={}){const m=+getComputedStyle(s).opacity;return{delay:e,duration:l,easing:u,css:h=>`opacity: ${h*m}`}}function ne(s,{delay:e=0,duration:l=400,easing:u=Ge,x:m=0,y:h=0,opacity:p=0}={}){const y=getComputedStyle(s),k=+y.opacity,d=y.transform==="none"?"":y.transform,o=k*(1-p),[_,P]=Zt(m),[v,b]=Zt(h);return{delay:e,duration:l,easing:u,css:(i,w)=>`
			transform: ${d} translate(${(1-i)*_}${P}, ${(1-i)*v}${b});
			opacity: ${k-o*w}`}}function He(s,{delay:e=0,speed:l,duration:u,easing:m=Ue}={}){let h=s.getTotalLength();const p=getComputedStyle(s);return p.strokeLinecap!=="butt"&&(h+=parseInt(p.strokeWidth)),u===void 0?l===void 0?u=800:u=h/l:typeof u=="function"&&(u=u(h)),{delay:e,duration:u,easing:m,css:(y,k)=>`
			stroke-dasharray: ${h};
			stroke-dashoffset: ${k*h};
		`}}var Ve=S('<span class="absolute -top-0.5 -right-0.5 w-4 h-4 bg-hud-error text-[9px] font-bold rounded-full flex items-center justify-center text-white"> </span>'),Be=S('<span class="text-[9px] text-hud-text-dim"> </span>'),Ye=S('<div class="text-hud-text-dim text-xs text-center py-4">No overnight activity yet</div>'),Ke=S('<div class="text-center"><div> </div> <div class="hud-label"> </div></div>'),qe=S('<span class="text-xs px-1.5 py-0.5 bg-hud-success/10 text-hud-success border border-hud-success/30 rounded"> </span>'),We=S('<div class="space-y-1"><span class="text-[9px] text-hud-text-dim">HIGH CONVICTION:</span> <div class="flex flex-wrap gap-1"></div></div>'),Xe=S('<p class="text-[10px] text-hud-text-dim mt-2 leading-tight"> </p>'),Qe=S('<div class="grid grid-cols-2 gap-2"></div> <div class="pt-2 border-t border-hud-line/50"><div class="flex items-center justify-between mb-2"><span class="hud-label">PRE-MARKET PLAN</span> <span> </span></div> <!> <!></div>',1),Ze=S('<div class="absolute right-0 top-full mt-2 w-72 hud-panel z-50"><div class="px-3 py-2 border-b border-hud-line flex justify-between items-center"><span class="hud-label">OVERNIGHT ACTIVITY</span> <!></div> <div class="p-3 space-y-3"><!></div></div>'),Je=S('<div class="relative"><button><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg> <!></button> <!></div>');function ta(s,e){ot(e,!0);let l=ht(!1),u=ht(!1),m=E(()=>e.overnightActivity&&(e.overnightActivity.signalsGathered>0||e.overnightActivity.signalsResearched>0||e.overnightActivity.buySignals>0)),h=E(()=>{var i,w,x;return t(m)&&!t(u)?(((i=e.overnightActivity)==null?void 0:i.buySignals)||0)+(((x=(w=e.premarketPlan)==null?void 0:w.highConvictionPlays)==null?void 0:x.length)||0):0});function p(){Z(l,!t(l)),t(l)&&Z(u,!0)}const y=E(()=>{var i,w,x,f,g;return[{label:"SIGNALS FOUND",value:((i=e.overnightActivity)==null?void 0:i.signalsGathered)||0,highlight:!1},{label:"RESEARCHED",value:((w=e.overnightActivity)==null?void 0:w.signalsResearched)||0,highlight:!1},{label:"BUY SIGNALS",value:((x=e.overnightActivity)==null?void 0:x.buySignals)||0,highlight:!!((f=e.overnightActivity)!=null&&f.buySignals)&&e.overnightActivity.buySignals>0},{label:"TWITTER CONF",value:((g=e.overnightActivity)==null?void 0:g.twitterConfirmations)||0,highlight:!1}]});var k=Je(),d=r(k);d.__click=p;var o=r(d),_=n(o,2);{var P=i=>{var w=Ve(),x=r(w,!0);a(w),M(()=>$(x,t(h)>9?"9+":t(h))),yt(3,w,()=>Ot,()=>({duration:150})),c(i,w)};R(_,i=>{t(h)>0&&i(P)})}a(d);var v=n(d,2);{var b=i=>{var w=Ze(),x=r(w),f=n(r(x),2);{var g=L=>{var F=Be(),j=r(F,!0);a(F),M(Y=>$(j,Y),[()=>ze(e.overnightActivity.lastUpdated)]),c(L,F)};R(f,L=>{var F;(F=e.overnightActivity)!=null&&F.lastUpdated&&L(g)})}a(x);var A=n(x,2),I=r(A);{var N=L=>{var F=Ye();c(L,F)},G=L=>{var F=Qe(),j=st(F);ct(j,21,()=>t(y),pt,(D,T)=>{var U=Ke(),K=r(U),W=r(K,!0);a(K);var X=n(K,2),tt=r(X,!0);a(X),a(U),M(()=>{it(K,1,`text-lg font-light ${t(T).highlight?"text-hud-success":"text-hud-text-bright"}`),$(W,t(T).value),$(tt,t(T).label)}),c(D,U)}),a(j);var Y=n(j,2),H=r(Y),V=n(r(H),2),Q=r(V,!0);a(V),a(H);var J=n(H,2);{var O=D=>{var T=We(),U=n(r(T),2);ct(U,21,()=>e.premarketPlan.highConvictionPlays,pt,(K,W)=>{var X=qe(),tt=r(X,!0);a(X),M(()=>$(tt,t(W))),c(K,X)}),a(U),a(T),c(D,T)};R(J,D=>{var T;e.premarketPlan&&((T=e.premarketPlan.highConvictionPlays)==null?void 0:T.length)>0&&D(O)})}var z=n(J,2);{var q=D=>{var T=Xe(),U=r(T);a(T),M(K=>$(U,`${K??""}${e.premarketPlan.marketOutlook.length>100?"...":""}`),[()=>e.premarketPlan.marketOutlook.slice(0,100)]),c(D,T)};R(z,D=>{var T;(T=e.premarketPlan)!=null&&T.marketOutlook&&D(q)})}a(Y),M(()=>{var D,T;it(V,1,`text-[9px] px-1.5 py-0.5 rounded ${(D=e.overnightActivity)!=null&&D.premarketPlanReady?"bg-hud-success/20 text-hud-success":"bg-hud-text-dim/20 text-hud-text-dim"}`),$(Q,(T=e.overnightActivity)!=null&&T.premarketPlanReady?"READY":"PENDING")}),c(L,F)};R(I,L=>{t(m)?L(G,!1):L(N)})}a(A),a(w),yt(3,w,()=>ne,()=>({y:-8,duration:150})),c(i,w)};R(v,i=>{t(l)&&i(b)})}a(k),ie(k,(i,w)=>jt==null?void 0:jt(i,w),()=>()=>Z(l,!1)),M(()=>{it(d,1,`relative p-2 transition-colors ${t(l)?"text-hud-primary":"text-hud-text-dim hover:text-hud-text"}`),it(o,0,Vt(t(h)>0?"animate-pulse":""))}),c(s,k),dt()}Bt(["click"]);var ea=S('<header class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4 pb-3 border-b border-hud-line"><div class="flex items-center gap-4 md:gap-6"><div class="flex items-baseline gap-2"><span class="text-xl md:text-2xl font-light tracking-tight text-hud-text-bright">MAHORAGA</span> <span class="hud-label">v2</span></div> <!></div> <div class="flex items-center gap-3 md:gap-6 flex-wrap"><!> <!> <a href="/settings" class="hud-label hover:text-hud-primary transition-colors">[CONFIG]</a> <span class="hud-value-sm font-mono"> </span></div></header>');function aa(s,e){ot(e,!0);let l=E(()=>C.time.toLocaleTimeString("en-US",{hour12:!1}));var u=ea(),m=r(u),h=n(r(m),2);{let _=E(()=>C.isMarketOpen?"active":"inactive"),P=E(()=>C.isMarketOpen?"MARKET OPEN":"MARKET CLOSED");ke(h,{get status(){return t(_)},get label(){return t(P)},get pulse(){return C.isMarketOpen}})}a(m);var p=n(m,2),y=r(p);{let _=E(()=>[{label:"LLM COST",value:`$${C.costs.total_usd.toFixed(4)}`,status:C.costs.total_usd>1?"warning":"active"},{label:"API CALLS",value:C.costs.calls.toString()}]);Le(y,{get items(){return t(_)}})}var k=n(y,2);{let _=E(()=>{var v;return(v=C.status)==null?void 0:v.overnightActivity}),P=E(()=>{var v;return(v=C.status)==null?void 0:v.premarketPlan});ta(k,{get overnightActivity(){return t(_)},get premarketPlan(){return t(P)}})}var d=n(k,4),o=r(d,!0);a(d),a(p),a(u),M(()=>$(o,t(l))),c(s,u),dt()}var ra=S('<div><span class="hud-label mb-1"> </span> <span> </span></div>');function Et(s,e){const l={sm:"hud-value-sm",md:"hud-value-md",lg:"hud-value-lg",xl:"hud-value-xl"},u={default:"",success:"text-hud-success",warning:"text-hud-warning",error:"text-hud-error"};let m=ut(e,"size",3,"lg"),h=ut(e,"color",3,"default"),p=ut(e,"class",3,"");var y=ra(),k=r(y),d=r(k,!0);a(k);var o=n(k,2),_=r(o,!0);a(o),a(y),M(()=>{it(y,1,`flex flex-col ${p()??""}`),$(d,e.label),it(o,1,`${l[m()]??""} ${u[h()]??""}`),$(_,e.value)}),c(s,y)}var sa=S('<div><span class="hud-label"> </span> <span> </span></div>');function ft(s,e){const l={default:"",success:"text-hud-success",warning:"text-hud-warning",error:"text-hud-error"};let u=ut(e,"color",3,"default"),m=ut(e,"valueClassName",3,""),h=ut(e,"class",3,"");var p=sa(),y=r(p),k=r(y,!0);a(y);var d=n(y,2),o=r(d,!0);a(d),a(p),M(()=>{it(p,1,`flex items-baseline gap-2 ${h()??""}`),$(k,e.label),it(d,1,`hud-value-sm ${(m()||l[u()])??""}`),$(o,e.value)}),c(s,p)}var ia=S('<div class="space-y-4"><!> <div class="grid grid-cols-2 gap-4"><!> <!></div> <div class="pt-2 border-t border-hud-line space-y-2"><!> <div class="grid grid-cols-2 gap-2"><!> <!></div></div></div>'),la=S('<div class="text-hud-text-dim text-sm">Loading...</div>');function na(s,e){ot(e,!1),Ct(),mt(s,{title:"ACCOUNT",class:"h-full",children:(l,u)=>{var m=vt(),h=st(m);{var p=k=>{var d=ia(),o=r(d);{let g=B(()=>xt(C.account.equity));Et(o,{label:"EQUITY",get value(){return t(g)},size:"xl"})}var _=n(o,2),P=r(_);{let g=B(()=>xt(C.account.cash));Et(P,{label:"CASH",get value(){return t(g)},size:"md"})}var v=n(P,2);{let g=B(()=>xt(C.account.buying_power));Et(v,{label:"BUYING POWER",get value(){return t(g)},size:"md"})}a(_);var b=n(_,2),i=r(b);{let g=B(()=>xt(C.totalPl)),A=B(()=>Yt(C.totalPlPct)),I=B(()=>C.totalPl>=0?"success":"error");Et(i,{label:"TOTAL P&L",get value(){return`${t(g)??""} (${t(A)??""})`},size:"md",get color(){return t(I)}})}var w=n(i,2),x=r(w);{let g=B(()=>xt(C.realizedPl)),A=B(()=>C.realizedPl>=0?"success":"error");ft(x,{label:"REALIZED",get value(){return t(g)},get color(){return t(A)}})}var f=n(x,2);{let g=B(()=>xt(C.unrealizedPl)),A=B(()=>C.unrealizedPl>=0?"success":"error");ft(f,{label:"UNREALIZED",get value(){return t(g)},get color(){return t(A)}})}a(w),a(b),a(d),c(k,d)},y=k=>{var d=la();c(k,d)};R(h,k=>{C.account?k(p):k(y,!1)})}c(l,m)},$$slots:{default:!0}}),dt()}var oa=S('<div class="bg-hud-bg-panel border border-hud-line px-3 py-2 text-xs text-hud-text max-w-xs pointer-events-none"><!></div>'),da=S('<div class="inline-block"><!></div> <!>',1);function Dt(s,e){let l=ut(e,"position",3,"top"),u=ut(e,"delay",3,200),m=ht(!1),h=ht(ae({top:0,left:0})),p=ht(void 0),y=null;function k(x){switch(x){case"top":return"translateX(-50%) translateY(-100%)";case"bottom":return"translateX(-50%)";case"left":return"translateY(-50%) translateX(-100%)";case"right":return"translateY(-50%)";default:return""}}function d(){if(!t(p))return;const x=t(p).getBoundingClientRect(),f=window.scrollY,g=window.scrollX,A=8;switch(l()){case"top":Z(h,{top:x.top+f-A,left:x.left+g+x.width/2},!0);break;case"bottom":Z(h,{top:x.bottom+f+A,left:x.left+g+x.width/2},!0);break;case"left":Z(h,{top:x.top+f+x.height/2,left:x.left+g-A},!0);break;case"right":Z(h,{top:x.top+f+x.height/2,left:x.right+g+A},!0);break}}function o(){y=setTimeout(()=>{d(),Z(m,!0)},u())}function _(){y&&clearTimeout(y),Z(m,!1)}var P=da(),v=st(P),b=r(v);Xt(b,()=>e.children),a(v),Pe(v,x=>Z(p,x),()=>t(p));var i=n(v,2);{var w=x=>{var f=oa(),g=r(f);Xt(g,()=>e.content),a(f),M(A=>le(f,`position: absolute; top: ${t(h).top??""}px; left: ${t(h).left??""}px; transform: ${A??""}; z-index: 9999;`),[()=>k(l())]),yt(3,f,()=>Ot,()=>({duration:100})),c(x,f)};R(i,x=>{t(m)&&x(w)})}Wt("mouseenter",v,o),Wt("mouseleave",v,_),c(s,P)}var va=S('<div class="hud-label text-hud-primary border-b border-hud-line/50 pb-1"> </div>'),ca=S('<div class="flex justify-between gap-4"><span class="text-hud-text-dim"> </span> <span> </span></div>'),ua=S('<div class="space-y-1"></div>'),ha=S('<p class="text-hud-text-dim text-[10px] leading-tight"> </p>'),fa=S('<div class="space-y-2"><!> <!> <!></div>');function oe(s,e){ot(e,!0);var l=fa(),u=r(l);{var m=d=>{var o=va(),_=r(o,!0);a(o),M(()=>$(_,e.title)),c(d,o)};R(u,d=>{e.title&&d(m)})}var h=n(u,2);{var p=d=>{var o=ua();ct(o,21,()=>e.items,pt,(_,P)=>{var v=ca(),b=r(v),i=r(b,!0);a(b);var w=n(b,2),x=r(w,!0);a(w),a(v),M(()=>{$(i,t(P).label),it(w,1,Vt(t(P).color||"text-hud-text-bright")),$(x,t(P).value)}),c(_,v)}),a(o),c(d,o)};R(h,d=>{e.items&&e.items.length>0&&d(p)})}var y=n(h,2);{var k=d=>{var o=ha(),_=r(o,!0);a(o),M(()=>$(_,e.description)),c(d,o)};R(y,d=>{e.description&&d(k)})}a(l),c(s,l),dt()}var pa=wt('<svg><path fill="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function xa(s,e){ot(e,!0);const l={green:{stroke:"var(--color-hud-green)"},red:{stroke:"var(--color-hud-red)"}};let u=ut(e,"width",3,80),m=ut(e,"height",3,24),h=2,p=E(()=>u()-h*2),y=E(()=>m()-h*2),k=E(()=>Math.min(...e.data)),d=E(()=>Math.max(...e.data)),o=E(()=>t(d)-t(k)||1),_=E(()=>e.data.length<2?"":e.data.map((x,f)=>{const g=h+f/(e.data.length-1)*t(p),A=h+t(y)-(x-t(k))/t(o)*t(y);return`${f===0?"M":"L"} ${g.toFixed(1)} ${A.toFixed(1)}`}).join(" ")),P=E(()=>e.data.length>=2&&e.data[e.data.length-1]>=e.data[0]),v=E(()=>t(P)?l.green.stroke:l.red.stroke);var b=vt(),i=st(b);{var w=x=>{var f=pa(),g=r(f);a(f),M(()=>{rt(f,"width",u()),rt(f,"height",m()),rt(g,"d",t(_)),rt(g,"stroke",t(v))}),c(x,f)};R(i,x=>{e.data.length>=2&&x(w)})}c(s,b),dt()}var ma=S('<div class="text-hud-text-dim text-sm py-8 text-center">No open positions</div>'),_a=S('<span class="text-hud-warning mr-1">₿</span>'),ga=S('<span class="cursor-help border-b border-dotted border-hud-text-dim"><!> </span>'),ba=S('<tr class="border-b border-hud-line/20 hover:bg-hud-line/10"><td class="hud-value-sm py-2 px-2"><!></td><td class="hud-value-sm text-right py-2 px-2 hidden sm:table-cell"> </td><td class="hud-value-sm text-right py-2 px-2 hidden md:table-cell"> </td><td><div> </div> <div class="text-xs opacity-70"> </div></td><td class="py-2 px-2"><div class="flex justify-center"><!></div></td></tr>'),ya=S('<div class="overflow-x-auto"><table class="w-full"><thead><tr class="border-b border-hud-line/50"><th class="hud-label text-left py-2 px-2">Symbol</th><th class="hud-label text-right py-2 px-2 hidden sm:table-cell">Qty</th><th class="hud-label text-right py-2 px-2 hidden md:table-cell">Value</th><th class="hud-label text-right py-2 px-2">P&L</th><th class="hud-label text-center py-2 px-2">Trend</th></tr></thead><tbody></tbody></table></div>');function wa(s,e){ot(e,!1),Ct();{let l=B(()=>C.positions.length),u=B(()=>{var m;return((m=C.config)==null?void 0:m.max_positions)||5});mt(s,{title:"POSITIONS",get titleRight(){return`${t(l)??""}/${t(u)??""}`},class:"h-full",children:(m,h)=>{var p=vt(),y=st(p);{var k=o=>{var _=ma();c(o,_)},d=o=>{var _=ya(),P=r(_),v=n(r(P));ct(v,5,()=>C.positions,b=>b.symbol,(b,i)=>{const w=B(()=>t(i).unrealized_pl/(t(i).market_value-t(i).unrealized_pl)*100),x=B(()=>C.positionPriceHistories[t(i).symbol]||[]),f=B(()=>{var T,U;return(U=(T=C.status)==null?void 0:T.positionEntries)==null?void 0:U[t(i).symbol]}),g=B(()=>{var T,U;return(U=(T=C.status)==null?void 0:T.stalenessAnalysis)==null?void 0:U[t(i).symbol]}),A=B(()=>t(f)?Math.floor((Date.now()-t(f).entry_time)/36e5):null);var I=ba(),N=r(I),G=r(N);Dt(G,{position:"right",children:K=>{var W=ga(),X=r(W);{var tt=at=>{var nt=_a();c(at,nt)};R(X,at=>{var nt;Fe(t(i).symbol,(nt=C.config)==null?void 0:nt.crypto_symbols)&&at(tt)})}var et=n(X);a(W),M(()=>$(et,` ${t(i).symbol??""}`)),c(K,W)},content:K=>{{let W=B(()=>[{label:"Entry Price",value:t(f)?xt(t(f).entry_price):"N/A"},{label:"Current Price",value:xt(t(i).current_price)},{label:"Hold Time",value:t(A)!==null?`${t(A)}h`:"N/A"},{label:"Entry Sentiment",value:t(f)?`${(t(f).entry_sentiment*100).toFixed(0)}%`:"N/A"},...t(g)?[{label:"Staleness",value:`${(t(g).score*100).toFixed(0)}%`,color:t(g).shouldExit?"text-hud-error":"text-hud-text"}]:[]]),X=B(()=>{var tt;return(tt=t(f))==null?void 0:tt.entry_reason});oe(K,{get title(){return t(i).symbol},get items(){return t(W)},get description(){return t(X)}})}},$$slots:{default:!0,content:!0}}),a(N);var L=n(N),F=r(L,!0);a(L);var j=n(L),Y=r(j,!0);a(j);var H=n(j),V=r(H),Q=r(V,!0);a(V);var J=n(V,2),O=r(J,!0);a(J),a(H);var z=n(H),q=r(z),D=r(q);xa(D,{get data(){return t(x)},width:60,height:20}),a(q),a(z),a(I),M((T,U,K)=>{$(F,t(i).qty),$(Y,T),it(H,1,`hud-value-sm text-right py-2 px-2 ${t(i).unrealized_pl>=0?"text-hud-success":"text-hud-error"}`),$(Q,U),$(O,K)},[()=>xt(t(i).market_value),()=>xt(t(i).unrealized_pl),()=>Yt(t(w))]),yt(3,I,()=>Ot,()=>({duration:200})),c(b,I)}),a(v),a(P),a(_),c(o,_)};R(y,o=>{C.positions.length===0?o(k):o(d,!1)})}c(m,p)},$$slots:{default:!0}})}dt()}var ka=S('<div class="grid grid-cols-2 gap-4"><!> <!> <!> <!> <!> <!></div>');function Sa(s,e){ot(e,!1),Ct(),mt(s,{title:"LLM COSTS",class:"h-full",children:(l,u)=>{var m=ka(),h=r(m);{let _=B(()=>C.costs.total_usd.toFixed(4));Et(h,{label:"TOTAL SPENT",get value(){return`$${t(_)??""}`},size:"lg"})}var p=n(h,2);{let _=B(()=>C.costs.calls.toString());Et(p,{label:"API CALLS",get value(){return t(_)},size:"lg"})}var y=n(p,2);{let _=B(()=>C.costs.tokens_in.toLocaleString());ft(y,{label:"TOKENS IN",get value(){return t(_)}})}var k=n(y,2);{let _=B(()=>C.costs.tokens_out.toLocaleString());ft(k,{label:"TOKENS OUT",get value(){return t(_)}})}var d=n(k,2);{let _=B(()=>C.costs.calls>0?`$${(C.costs.total_usd/C.costs.calls).toFixed(6)}`:"$0");ft(d,{label:"AVG COST/CALL",get value(){return t(_)}})}var o=n(d,2);{let _=B(()=>{var P;return((P=C.config)==null?void 0:P.llm_model)||"gpt-4o-mini"});ft(o,{label:"MODEL",get value(){return t(_)}})}a(m),c(l,m)},$$slots:{default:!0}}),dt()}var Aa=wt('<line stroke="currentColor" class="text-hud-border" stroke-width="0.5" opacity="0.3"></line><text text-anchor="end" dominant-baseline="middle" fill="currentColor" class="text-hud-text-dim" font-size="12"> </text>',1),Pa=wt("<g></g>"),Ca=wt('<text text-anchor="middle" fill="currentColor" class="text-hud-text-dim" font-size="12"> </text>'),Ta=wt("<g></g>"),$a=wt('<defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-opacity="0.2"></stop><stop offset="100%" stop-opacity="0"></stop></linearGradient></defs><path></path>',1),Ea=wt('<circle r="2" opacity="0.8"></circle>'),Oa=wt('<g><!><path fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.8"></path><!></g>'),Na=wt('<svg width="100%" height="100%" preserveAspectRatio="xMidYMid meet" class="block"><!><!><!></svg>');function de(s,e){ot(e,!0);const l={cyan:{stroke:"var(--color-hud-cyan)",fill:"var(--color-hud-cyan)"},blue:{stroke:"var(--color-hud-blue)",fill:"var(--color-hud-blue)"},green:{stroke:"var(--color-hud-green)",fill:"var(--color-hud-green)"},yellow:{stroke:"var(--color-hud-yellow)",fill:"var(--color-hud-yellow)"},red:{stroke:"var(--color-hud-red)",fill:"var(--color-hud-red)"},purple:{stroke:"var(--color-hud-purple)",fill:"var(--color-hud-purple)"},primary:{stroke:"var(--color-hud-primary)",fill:"var(--color-hud-primary)"}};let u=ut(e,"variant",3,"cyan"),m=ut(e,"showDots",3,!1),h=ut(e,"showGrid",3,!0),p=ut(e,"showArea",3,!0),y=ut(e,"animated",3,!0);const k=800;let d=E(()=>e.height||200);const o={top:16,right:16,bottom:28,left:56};let _=E(()=>k-o.left-o.right),P=E(()=>t(d)-o.top-o.bottom),v=E(()=>e.series.flatMap(O=>O.data)),b=E(()=>Math.min(...t(v))),i=E(()=>Math.max(...t(v))),w=E(()=>t(i)-t(b)||1),x=E(()=>t(b)-t(w)*.05),f=E(()=>t(i)+t(w)*.05),g=E(()=>t(f)-t(x)||1),A=E(()=>Math.max(...e.series.map(O=>O.data.length),1));function I(O){return o.left+O/(t(A)-1||1)*t(_)}function N(O){return o.top+t(P)-(O-t(x))/t(g)*t(P)}let G=E(()=>Array.from({length:4},(O,z)=>t(x)+t(g)/3*z)),L=E(()=>e.formatValue||(O=>Math.abs(O)>=1e3?`${(O/1e3).toFixed(1)}k`:O.toFixed(0))),F=E(()=>{if(!e.labels)return[];const O=Math.ceil(e.labels.length/5);return e.labels.map((z,q)=>q).filter(z=>z%O===0)});var j=Na(),Y=r(j);{var H=O=>{var z=Pa();ct(z,21,()=>t(G),pt,(q,D)=>{var T=Aa(),U=st(T),K=n(U),W=r(K,!0);a(K),M((X,tt,et,at)=>{rt(U,"x1",o.left),rt(U,"y1",X),rt(U,"x2",k-o.right),rt(U,"y2",tt),rt(K,"x",o.left-8),rt(K,"y",et),$(W,at)},[()=>N(t(D)),()=>N(t(D)),()=>N(t(D)),()=>t(L)(t(D))]),c(q,T)}),a(z),c(O,z)};R(Y,O=>{h()&&O(H)})}var V=n(Y);{var Q=O=>{var z=Ta();ct(z,21,()=>t(F),pt,(q,D)=>{var T=Ca(),U=r(T,!0);a(T),M(K=>{rt(T,"x",K),rt(T,"y",t(d)-8),$(U,e.labels[t(D)])},[()=>I(t(D))]),c(q,T)}),a(z),c(O,z)};R(V,O=>{e.labels&&O(Q)})}var J=n(V);ct(J,17,()=>e.series,pt,(O,z,q)=>{const D=E(()=>l[t(z).variant??u()]),T=E(()=>t(z).data.map((et,at)=>({x:I(at),y:N(et)}))),U=E(()=>t(T).map((et,at)=>`${at===0?"M":"L"} ${et.x} ${et.y}`).join(" ")),K=E(()=>{var et,at;return`${t(U)} L ${((et=t(T)[t(T).length-1])==null?void 0:et.x)??0} ${o.top+t(P)} L ${((at=t(T)[0])==null?void 0:at.x)??0} ${o.top+t(P)} Z`});var W=vt(),X=st(W);{var tt=et=>{var at=Oa(),nt=r(at);{var kt=_t=>{var lt=$a(),gt=st(lt),At=r(gt);rt(At,"id",`area-gradient-${q}`);var Nt=r(At),$t=n(Nt);a(At),a(gt);var zt=n(gt);rt(zt,"fill",`url(#area-gradient-${q})`),M(()=>{rt(Nt,"stop-color",t(D).fill),rt($t,"stop-color",t(D).fill),rt(zt,"d",t(K))}),yt(3,zt,()=>Ot,()=>({duration:y()?800:0})),c(_t,lt)};R(nt,_t=>{p()&&_t(kt)})}var St=n(nt),Rt=n(St);{var Tt=_t=>{var lt=vt(),gt=st(lt);ct(gt,17,()=>t(T),pt,(At,Nt)=>{var $t=Ea();M(()=>{rt($t,"cx",t(Nt).x),rt($t,"cy",t(Nt).y),rt($t,"fill",t(D).fill)}),c(At,$t)}),c(_t,lt)};R(Rt,_t=>{m()&&_t(Tt)})}a(at),M(()=>{rt(St,"d",t(U)),rt(St,"stroke",t(D).stroke)}),yt(3,St,()=>He,()=>({duration:y()?1200:0})),c(et,at)};R(X,et=>{t(T).length>0&&et(tt)})}c(O,W)}),a(j),M(()=>rt(j,"viewBox",`0 0 800 ${t(d)??""}`)),c(s,j),dt()}var Ia=S('<div class="h-full w-full"><!></div>'),La=S('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">Collecting performance data...</div>');function Ra(s,e){ot(e,!1),Ct(),mt(s,{title:"PORTFOLIO PERFORMANCE",titleRight:"24H",class:"h-[320px]",children:(l,u)=>{var m=vt(),h=st(m);{var p=k=>{var d=Ia(),o=r(d);{let _=B(()=>[{label:"Equity",data:C.portfolioChartData,variant:C.totalPl>=0?"green":"red"}]);de(o,{get series(){return t(_)},get labels(){return C.portfolioChartLabels},showArea:!0,showGrid:!0,showDots:!1,formatValue:P=>`$${(P/1e3).toFixed(1)}k`})}a(d),c(k,d)},y=k=>{var d=La();c(k,d)};R(h,k=>{C.portfolioChartData.length>1?k(p):k(y,!1)})}c(l,m)},$$slots:{default:!0}}),dt()}var Fa=S('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">No positions to display</div>'),Ma=S('<div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full"></div> <span class="hud-value-sm"> </span> <span> </span></div>'),Da=S('<div class="h-full flex flex-col"><div class="flex flex-wrap gap-3 mb-2 pb-2 border-b border-hud-line/30 shrink-0"></div> <div class="flex-1 min-h-0 w-full"><!></div></div>'),za=S('<div class="h-full flex items-center justify-center text-hud-text-dim text-sm">Loading position data...</div>');function ja(s,e){ot(e,!1);const l=["cyan","purple","yellow","blue","green"];Ct(),mt(s,{title:"POSITION PERFORMANCE",titleRight:"% CHANGE",class:"h-[320px]",children:(u,m)=>{var h=vt(),p=st(h);{var y=d=>{var o=Fa();c(d,o)},k=d=>{var o=vt(),_=st(o);{var P=b=>{var i=Da(),w=r(i);ct(w,5,()=>C.positions.slice(0,5),pt,(g,A,I)=>{const N=B(()=>t(A).unrealized_pl>=0),G=B(()=>t(A).unrealized_pl/(t(A).market_value-t(A).unrealized_pl)*100),L=B(()=>l[I%l.length]);var F=Ma(),j=r(F),Y=n(j,2),H=r(Y,!0);a(Y);var V=n(Y,2),Q=r(V,!0);a(V),a(F),M(J=>{le(j,`background-color: var(--color-hud-${t(L)??""})`),$(H,t(A).symbol),it(V,1,`hud-label ${t(N)?"text-hud-success":"text-hud-error"}`),$(Q,J)},[()=>Yt(t(G))]),c(g,F)}),a(w);var x=n(w,2),f=r(x);{let g=B(()=>C.normalizedPositionSeries.slice(0,5));de(f,{get series(){return t(g)},showArea:!1,showGrid:!0,showDots:!1,animated:!1,formatValue:A=>`${A>=0?"+":""}${A.toFixed(1)}%`})}a(x),a(i),c(b,i)},v=b=>{var i=za();c(b,i)};R(_,b=>{C.normalizedPositionSeries.length>0?b(P):b(v,!1)},!0)}c(d,o)};R(p,d=>{C.positions.length===0?d(y):d(k,!1)})}c(u,h)},$$slots:{default:!0}}),dt()}var Ga=S('<div class="text-hud-text-dim text-sm py-4 text-center">Gathering signals...</div>'),Ua=S('<span class="text-hud-warning text-xs">₿</span>'),Ha=S("<span> </span>"),Va=S('<span class="hud-label hidden sm:inline"> </span>'),Ba=S('<div><div class="flex items-center gap-2"><!> <span class="hud-value-sm"> </span> <span> </span></div> <div class="flex items-center gap-3"><!> <span> </span></div></div>'),Ya=S('<div class="overflow-y-auto h-full space-y-1"><!></div>');function Ka(s,e){ot(e,!1),Ct();{let l=B(()=>C.signals.length.toString());mt(s,{title:"ACTIVE SIGNALS",get titleRight(){return t(l)},class:"h-80",children:(u,m)=>{var h=Ya(),p=r(h);{var y=d=>{var o=Ga();c(d,o)},k=d=>{var o=vt(),_=st(o);ct(_,3,()=>C.signals.slice(0,20),(P,v)=>`${P.symbol}-${P.source}-${v}`,(P,v,b)=>{Dt(P,{position:"right",children:x=>{var f=Ba(),g=r(f),A=r(g);{var I=O=>{var z=Ua();c(O,z)};R(A,O=>{t(v).isCrypto&&O(I)})}var N=n(A,2),G=r(N,!0);a(N);var L=n(N,2),F=r(L,!0);a(L),a(g);var j=n(g,2),Y=r(j);{var H=O=>{var z=Ha(),q=r(z);a(z),M(D=>{it(z,1,`hud-label hidden sm:inline ${t(v).momentum>=0?"text-hud-success":"text-hud-error"}`),$(q,`${t(v).momentum>=0?"+":""}${D??""}%`)},[()=>t(v).momentum.toFixed(1)]),c(O,z)},V=O=>{var z=Va(),q=r(z);a(z),M(()=>$(q,`VOL ${t(v).volume??""}`)),c(O,z)};R(Y,O=>{t(v).isCrypto&&t(v).momentum!==void 0?O(H):O(V,!1)})}var Q=n(Y,2),J=r(Q);a(Q),a(j),a(f),M((O,z,q)=>{it(f,1,`flex items-center justify-between py-1 px-2 border-b border-hud-line/10 hover:bg-hud-line/10 cursor-help ${t(v).isCrypto?"bg-hud-warning/5":""}`),$(G,t(v).symbol),it(L,1,`hud-label ${t(v).isCrypto?"text-hud-warning":""}`),$(F,O),it(Q,1,`hud-value-sm ${z??""}`),$(J,`${q??""}%`)},[()=>t(v).source.toUpperCase(),()=>Ht(t(v).sentiment),()=>(t(v).sentiment*100).toFixed(0)]),yt(3,f,()=>ne,()=>({x:-10,duration:200,delay:t(b)*20})),c(x,f)},content:x=>{{let f=B(()=>t(v).symbol),g=B(()=>t(v).source.toUpperCase()),A=B(()=>[{label:"Sentiment",value:`${(t(v).sentiment*100).toFixed(0)}%`,color:Ht(t(v).sentiment)},{label:"Volume",value:t(v).volume},...t(v).bullish!==void 0?[{label:"Bullish",value:t(v).bullish,color:"text-hud-success"}]:[],...t(v).bearish!==void 0?[{label:"Bearish",value:t(v).bearish,color:"text-hud-error"}]:[],...t(v).score!==void 0?[{label:"Score",value:t(v).score}]:[],...t(v).upvotes!==void 0?[{label:"Upvotes",value:t(v).upvotes}]:[],...t(v).momentum!==void 0?[{label:"Momentum",value:`${t(v).momentum>=0?"+":""}${t(v).momentum.toFixed(2)}%`}]:[],...t(v).price!==void 0?[{label:"Price",value:xt(t(v).price)}]:[]]);oe(x,{get title(){return`${t(f)??""} - ${t(g)??""}`},get items(){return t(A)},get description(){return t(v).reason}})}},$$slots:{default:!0,content:!0}})}),c(d,o)};R(p,d=>{C.signals.length===0?d(y):d(k,!1)})}a(h),c(u,h)},$$slots:{default:!0}})}dt()}var qa=S('<div class="flex justify-between gap-4"><span class="text-hud-text-dim"> </span> <span class="text-hud-text text-right font-mono"> </span></div>'),Wa=S('<div class="text-hud-text-dim"> </div>'),Xa=S('<div class="border-t border-hud-line pt-2"><div class="text-hud-warning text-xs">RESEARCH CONTEXT</div> <div class="text-xs space-y-1 mt-1"><div> </div> <!></div></div>'),Qa=S('<div class="border-t border-hud-line pt-2"><div class="text-hud-success text-xs">POSITION ENTRY</div> <div class="text-xs space-y-1 mt-1"><div> </div> <div> </div></div></div>'),Za=S('<div class="space-y-2 max-w-md"><div class="font-bold text-hud-primary"> </div> <div class="border-t border-hud-line pt-2 space-y-1"></div> <!> <!></div>');function Ja(s,e){ot(e,!0);const l=E(()=>()=>{const{timestamp:b,agent:i,action:w,symbol:x,...f}=e.log;return f});function u(b,i){return i==null?"N/A":typeof i=="boolean"?i?"✓":"✗":typeof i=="number"?b.includes("pct")||b.includes("confidence")?`${(i*100).toFixed(1)}%`:i.toLocaleString():Array.isArray(i)?i.join(", "):typeof i=="object"?JSON.stringify(i,null,2):String(i)}const m=E(()=>{var b,i;return e.log.symbol&&((i=(b=C.status)==null?void 0:b.signalResearch)==null?void 0:i[e.log.symbol])}),h=E(()=>{var b,i;return e.log.symbol&&((i=(b=C.status)==null?void 0:b.positionEntries)==null?void 0:i[e.log.symbol])});var p=Za(),y=r(p),k=r(y);a(y);var d=n(y,2);ct(d,21,()=>Object.entries(t(l)()),pt,(b,i)=>{var w=E(()=>re(t(i),2));let x=()=>t(w)[0],f=()=>t(w)[1];var g=qa(),A=r(g),I=r(A);a(A);var N=n(A,2),G=r(N,!0);a(N),a(g),M(L=>{$(I,`${x()??""}:`),$(G,L)},[()=>u(x(),f())]),c(b,g)}),a(d);var o=n(d,2);{var _=b=>{var i=Xa(),w=n(r(i),2),x=r(w),f=r(x);a(x);var g=n(x,2);{var A=I=>{var N=Wa(),G=r(N,!0);a(N),M(()=>$(G,t(m).reasoning)),c(I,N)};R(g,I=>{t(m).reasoning&&I(A)})}a(w),a(i),M(I=>$(f,`Verdict: ${t(m).verdict??""} (${I??""}%)`),[()=>(t(m).confidence*100).toFixed(0)]),c(b,i)};R(o,b=>{t(m)&&b(_)})}var P=n(o,2);{var v=b=>{var i=Qa(),w=n(r(i),2),x=r(w),f=r(x);a(x);var g=n(x,2),A=r(g);a(g),a(w),a(i),M(I=>{$(f,`Entry: $${t(h).entry_price??""}`),$(A,`Time: ${I??""}`)},[()=>new Date(t(h).entry_time).toLocaleString()]),c(b,i)};R(P,b=>{t(h)&&b(v)})}a(p),M((b,i)=>$(k,`${b??""} - ${i??""}`),[()=>e.log.agent.toUpperCase(),()=>e.log.action.toUpperCase()]),c(s,p),dt()}function Gt(s){const e=new MutationObserver(()=>{s.scrollTop=s.scrollHeight});return e.observe(s,{childList:!0,subtree:!0}),{destroy(){e.disconnect()}}}var tr=S('<div class="text-hud-text-dim py-4 text-center">Waiting for activity...</div>'),er=S('<span class="text-hud-primary ml-1"> </span>'),ar=S('<span class="text-hud-primary ml-1">•</span>'),rr=S('<div class="flex items-start gap-2 py-1 border-b border-hud-line/10 hover:bg-hud-line/5 cursor-help"><span class="text-hud-text-dim shrink-0 hidden sm:inline w-[52px]"> </span> <span> </span> <span class="text-hud-text flex-1 text-right wrap-break-word"> <!> <!></span></div>'),sr=S('<div class="overflow-y-auto h-full font-mono text-xs space-y-1"><!></div>');function ir(s,e){ot(e,!1);function l(u){const{timestamp:m,agent:h,action:p,symbol:y,...k}=u;return Object.keys(k).length>0}Ct(),mt(s,{title:"ACTIVITY FEED",titleRight:"LIVE",class:"h-80",children:(u,m)=>{var h=sr(),p=r(h);{var y=d=>{var o=tr();c(d,o)},k=d=>{var o=vt(),_=st(o);ct(_,3,()=>C.logs.slice(-50),(P,v)=>`${P.timestamp}-${v}`,(P,v)=>{Dt(P,{position:"right",children:w=>{var x=rr(),f=r(x),g=r(f,!0);a(f);var A=n(f,2),I=r(A,!0);a(A);var N=n(A,2),G=r(N),L=n(G);{var F=H=>{var V=er(),Q=r(V);a(V),M(()=>$(Q,`(${t(v).symbol??""})`)),c(H,V)};R(L,H=>{t(v).symbol&&H(F)})}var j=n(L,2);{var Y=H=>{var V=ar();c(H,V)};R(j,H=>{l(t(v))&&H(Y)})}a(N),a(x),M((H,V)=>{$(g,H),it(A,1,`shrink-0 w-[72px] text-right ${V??""}`),$(I,t(v).agent),$(G,`${t(v).action??""} `)},[()=>new Date(t(v).timestamp).toLocaleTimeString("en-US",{hour12:!1}),()=>Re(t(v).agent)]),yt(3,x,()=>Ot,()=>({duration:200})),c(w,x)},content:w=>{Ja(w,{get log(){return t(v)}})},$$slots:{default:!0,content:!0}})}),c(d,o)};R(p,d=>{C.logs.length===0?d(y):d(k,!1)})}a(h),ie(h,d=>Gt==null?void 0:Gt(d)),c(u,h)},$$slots:{default:!0}}),dt()}var lr=S('<div class="text-hud-text-dim text-sm py-4 text-center">Researching candidates...</div>'),nr=S('<span class="text-xs text-hud-error bg-hud-error/10 px-1 rounded"> </span>'),or=S('<div class="flex flex-wrap gap-1"></div>'),dr=S('<div class="p-2 border border-hud-line/30 rounded hover:border-hud-line/60 cursor-help transition-colors"><div class="flex justify-between items-center mb-1"><span class="hud-value-sm"> </span> <div class="flex items-center gap-2"><span> </span> <span> </span></div></div> <p class="text-xs text-hud-text-dim leading-tight mb-1"> </p> <!></div>'),vr=S('<li class="text-[10px] text-hud-success"> </li>'),cr=S('<div class="pt-1 border-t border-hud-line/30"><span class="text-[9px] text-hud-text-dim">CATALYSTS:</span> <ul class="mt-1 space-y-0.5"></ul></div>'),ur=S('<li class="text-[10px] text-hud-error"> </li>'),hr=S('<div class="pt-1 border-t border-hud-line/30"><span class="text-[9px] text-hud-text-dim">RED FLAGS:</span> <ul class="mt-1 space-y-0.5"></ul></div>'),fr=S('<div class="space-y-2 min-w-[200px]"><div class="hud-label text-hud-primary border-b border-hud-line/50 pb-1"> </div> <div class="space-y-1"><div class="flex justify-between"><span class="text-hud-text-dim">Confidence</span> <span class="text-hud-text-bright"> </span></div> <div class="flex justify-between"><span class="text-hud-text-dim">Sentiment</span> <span> </span></div> <div class="flex justify-between"><span class="text-hud-text-dim">Analyzed</span> <span class="text-hud-text"> </span></div></div> <!> <!></div>'),pr=S('<div class="overflow-y-auto h-full space-y-2"><!></div>');function xr(s,e){ot(e,!0);let l=E(()=>{var u;return Object.entries(((u=C.status)==null?void 0:u.signalResearch)||{})});{let u=E(()=>t(l).length.toString());mt(s,{title:"SIGNAL RESEARCH",get titleRight(){return t(u)},class:"h-80",children:(m,h)=>{var p=pr(),y=r(p);{var k=o=>{var _=lr();c(o,_)},d=o=>{var _=vt(),P=st(_);ct(P,17,()=>t(l),([v,b])=>v,(v,b)=>{var i=E(()=>re(t(b),2));let w=()=>t(i)[0];const f=E(()=>t(i)[1]);Dt(v,{position:"left",children:I=>{var N=dr(),G=r(N),L=r(G),F=r(L,!0);a(L);var j=n(L,2),Y=r(j),H=r(Y,!0);a(Y);var V=n(Y,2),Q=r(V,!0);a(V),a(j),a(G);var J=n(G,2),O=r(J,!0);a(J);var z=n(J,2);{var q=D=>{var T=or();ct(T,21,()=>t(f).red_flags.slice(0,2),pt,(U,K)=>{var W=nr(),X=r(W);a(W),M(tt=>$(X,`${tt??""}...`),[()=>t(K).slice(0,30)]),c(U,W)}),a(T),c(D,T)};R(z,D=>{t(f).red_flags.length>0&&D(q)})}a(N),M((D,T,U)=>{$(F,w()),it(Y,1,`hud-label ${D??""}`),$(H,T),it(V,1,`hud-value-sm font-bold ${U??""}`),$(Q,t(f).verdict),$(O,t(f).reasoning)},[()=>De(t(f).entry_quality),()=>t(f).entry_quality.toUpperCase(),()=>Me(t(f).verdict)]),yt(3,N,()=>Ot,()=>({duration:200})),c(I,N)},content:I=>{var N=fr(),G=r(N),L=r(G);a(G);var F=n(G,2),j=r(F),Y=n(r(j),2),H=r(Y);a(Y),a(j);var V=n(j,2),Q=n(r(V),2),J=r(Q);a(Q),a(V);var O=n(V,2),z=n(r(O),2),q=r(z,!0);a(z),a(O),a(F);var D=n(F,2);{var T=W=>{var X=cr(),tt=n(r(X),2);ct(tt,21,()=>t(f).catalysts,pt,(et,at)=>{var nt=vr(),kt=r(nt);a(nt),M(()=>$(kt,`+ ${t(at)??""}`)),c(et,nt)}),a(tt),a(X),c(W,X)};R(D,W=>{t(f).catalysts.length>0&&W(T)})}var U=n(D,2);{var K=W=>{var X=hr(),tt=n(r(X),2);ct(tt,21,()=>t(f).red_flags,pt,(et,at)=>{var nt=ur(),kt=r(nt);a(nt),M(()=>$(kt,`- ${t(at)??""}`)),c(et,nt)}),a(tt),a(X),c(W,X)};R(U,W=>{t(f).red_flags.length>0&&W(K)})}a(N),M((W,X,tt,et)=>{$(L,`${w()??""} DETAILS`),$(H,`${W??""}%`),it(Q,1,X),$(J,`${tt??""}%`),$(q,et)},[()=>(t(f).confidence*100).toFixed(0),()=>Vt(Ht(t(f).sentiment)),()=>(t(f).sentiment*100).toFixed(0),()=>new Date(t(f).timestamp).toLocaleTimeString("en-US",{hour12:!1})]),c(I,N)},$$slots:{default:!0,content:!0}})}),c(o,_)};R(y,o=>{t(l).length===0?o(k):o(d,!1)})}a(p),c(m,p)},$$slots:{default:!0}})}dt()}var mr=S("<!> <!>",1),_r=S('<!> <!> <!> <!> <span class="hidden lg:inline text-hud-line">|</span> <!> <!> <span class="hidden lg:inline text-hud-line">|</span> <!> <!>',1),gr=S('<footer class="mt-4 pt-3 border-t border-hud-line flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3"><div class="flex flex-wrap gap-4 md:gap-6"><!></div> <div class="flex items-center gap-4"><span class="hud-label hidden md:inline">AUTONOMOUS TRADING SYSTEM</span> <span class="hud-value-sm">PAPER MODE</span></div></footer>');function br(s,e){ot(e,!0);let l=E(()=>C.config);var u=gr(),m=r(u),h=r(m);{var p=y=>{var k=_r(),d=st(k);ft(d,{label:"MAX POS",get value(){return`$${t(l).max_position_value??""}`}});var o=n(d,2);{let g=E(()=>(t(l).min_sentiment_score*100).toFixed(0));ft(o,{label:"MIN SENT",get value(){return`${t(g)??""}%`}})}var _=n(o,2);ft(_,{label:"TAKE PROFIT",get value(){return`${t(l).take_profit_pct??""}%`}});var P=n(_,2);ft(P,{label:"STOP LOSS",get value(){return`${t(l).stop_loss_pct??""}%`}});var v=n(P,4);{let g=E(()=>t(l).options_enabled?"ON":"OFF"),A=E(()=>t(l).options_enabled?"text-hud-purple":"text-hud-text-dim");ft(v,{label:"OPTIONS",get value(){return t(g)},get valueClassName(){return t(A)}})}var b=n(v,2);{var i=g=>{var A=mr(),I=st(A);{let G=E(()=>{var L;return((L=t(l).options_target_delta)==null?void 0:L.toFixed(2))||"0.35"});ft(I,{label:"OPT Δ",get value(){return t(G)}})}var N=n(I,2);{let G=E(()=>t(l).options_min_dte||7),L=E(()=>t(l).options_max_dte||45);ft(N,{label:"OPT DTE",get value(){return`${t(G)??""}-${t(L)??""}`}})}c(g,A)};R(b,g=>{t(l).options_enabled&&g(i)})}var w=n(b,4);{let g=E(()=>t(l).crypto_enabled?"24/7":"OFF"),A=E(()=>t(l).crypto_enabled?"text-hud-warning":"text-hud-text-dim");ft(w,{label:"CRYPTO",get value(){return t(g)},get valueClassName(){return t(A)}})}var x=n(w,2);{var f=g=>{{let A=E(()=>(t(l).crypto_symbols||["BTC","ETH","SOL"]).map(I=>I.split("/")[0]).join("/"));ft(g,{label:"SYMBOLS",get value(){return t(A)}})}};R(x,g=>{t(l).crypto_enabled&&g(f)})}c(y,k)};R(h,y=>{t(l)&&y(p)})}a(m),Ft(2),a(u),c(s,u),dt()}var yr=S('<div class="space-y-4"><div class="text-left bg-hud-panel p-4 border border-hud-line"><label class="hud-label block mb-2">API Token</label> <input type="password" class="hud-input w-full mb-2" placeholder="Enter MAHORAGA_API_TOKEN"/> <button class="hud-button w-full">Save & Connect</button></div> <p class="text-hud-text-dim text-xs">Find your token in <code class="text-hud-primary">.dev.vars</code> (local) or Cloudflare secrets (deployed)</p></div>'),wr=S('<p class="text-hud-text-dim text-xs">Enable the agent: <code class="text-hud-primary">curl -H "Authorization: Bearer $TOKEN" localhost:8787/agent/enable</code></p>'),kr=S('<div class="text-center py-8"><div class="text-hud-error text-2xl mb-4"> </div> <p class="text-hud-text-dim text-sm mb-6"> </p> <!></div>'),Sr=S('<div class="min-h-screen bg-hud-bg flex items-center justify-center p-6"><!></div>');function Ar(s,e){ot(e,!0);let l=E(()=>e.error.includes("Unauthorized")),u=ht(ae(localStorage.getItem("mahoraga_api_token")||""));function m(){const y=t(u).trim();y?localStorage.setItem("mahoraga_api_token",y):localStorage.removeItem("mahoraga_api_token"),Z(u,y,!0),C.poll()}var h=Sr(),p=r(h);{let y=E(()=>t(l)?"AUTHENTICATION REQUIRED":"CONNECTION ERROR");mt(p,{get title(){return t(y)},class:"max-w-md w-full",children:(k,d)=>{var o=kr(),_=r(o),P=r(_,!0);a(_);var v=n(_,2),b=r(v,!0);a(v);var i=n(v,2);{var w=f=>{var g=yr(),A=r(g),I=n(r(A),2);Pt(I);var N=n(I,2);N.__click=m,a(A),Ft(2),a(g),Lt(I,()=>t(u),G=>Z(u,G)),c(f,g)},x=f=>{var g=wr();c(f,g)};R(i,f=>{t(l)?f(w):f(x,!1)})}a(o),M(()=>{$(P,t(l)?"NO TOKEN":"OFFLINE"),$(b,e.error)}),c(k,o)},$$slots:{default:!0}})}a(h),c(s,h),dt()}Bt(["click"]);var Pr=S('<div class="space-y-6"><div class="text-center py-2"><h2 class="text-xl font-light text-hud-warning mb-2">Risk Disclaimer</h2> <p class="text-hud-text-dim text-xs">Please read carefully before proceeding</p></div> <div class="bg-hud-bg p-4 rounded text-xs text-hud-text-dim space-y-3 max-h-64 overflow-y-auto"><p>This software is provided for <strong class="text-hud-text">educational and informational purposes only</strong>. Nothing in this software constitutes financial, investment, legal, or tax advice.</p> <p><strong class="text-hud-text">By using this software, you acknowledge and agree that:</strong></p> <ul class="list-disc pl-4 space-y-1"><li>All trading and investment decisions are made <strong class="text-hud-warning">at your own risk</strong></li> <li>Markets are volatile and <strong class="text-hud-error">you can lose some or all of your capital</strong></li> <li>No guarantees of performance, profits, or outcomes are made</li> <li>The authors, contributors, and maintainers are not responsible for any financial losses</li> <li>You are solely responsible for your own trades and investment decisions</li> <li>This software may contain bugs, errors, or behave unexpectedly</li> <li>Past performance does not guarantee future results</li></ul> <p><strong class="text-hud-error">If you do not fully understand the risks involved in trading or investing, you should not use this software.</strong></p> <p>No member, contributor, or operator of this project shall be held liable for losses of any kind.</p></div> <div class="flex items-start gap-2"><input type="checkbox" id="acceptDisclaimer" class="accent-hud-primary mt-1"/> <label for="acceptDisclaimer" class="text-xs text-hud-text">I have read and understand the risks. I accept full responsibility for any losses that may occur from using this software.</label></div> <div class="pt-4 border-t border-hud-line"><button class="hud-button w-full disabled:opacity-50 disabled:cursor-not-allowed">I Understand, Continue</button></div></div>'),Cr=S('<div class="space-y-6"><div class="text-center py-4"><h2 class="text-2xl font-light text-hud-text-bright mb-2">Welcome to Mahoraga</h2> <p class="text-hud-text-dim text-sm">Autonomous trading powered by social sentiment and AI analysis</p></div> <div class="space-y-4 text-sm text-hud-text"><div class="flex items-start gap-3"><span class="text-hud-success">1.</span><span>Monitors StockTwits for sentiment signals</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">2.</span><span>AI research agents analyze candidates 24/7</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">3.</span><span>LLM makes final trading decisions at market open</span></div> <div class="flex items-start gap-3"><span class="text-hud-success">4.</span><span>Automatic stop-loss and take-profit protection</span></div></div> <div class="pt-4 border-t border-hud-line"><button class="hud-button w-full">Get Started</button></div></div>'),Tr=S('<div class="text-hud-error text-sm p-2 border border-hud-error/30 rounded"> </div>'),$r=S('<div class="space-y-6"><div><h3 class="hud-label mb-4 text-hud-primary">Alpaca Trading Account</h3> <p class="text-xs text-hud-text-dim mb-4">Get your API keys from <a href="https://app.alpaca.markets" target="_blank" rel="noopener noreferrer" class="text-hud-primary hover:underline">app.alpaca.markets</a></p> <div class="space-y-3"><div><label class="hud-label block mb-1">API Key</label> <input type="text" class="hud-input w-full" placeholder="PK..."/></div> <div><label class="hud-label block mb-1">API Secret</label> <input type="password" class="hud-input w-full" placeholder="Secret key..."/></div> <div class="flex items-center gap-2"><input type="checkbox" id="paperMode" class="accent-hud-primary"/> <label for="paperMode" class="hud-label">Paper Trading Mode (recommended for testing)</label></div></div></div> <div><h3 class="hud-label mb-4 text-hud-primary">OpenAI API Key (Optional)</h3> <p class="text-xs text-hud-text-dim mb-4">Required for AI-powered analysis. Get from <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener noreferrer" class="text-hud-primary hover:underline">platform.openai.com</a></p> <input type="password" class="hud-input w-full" placeholder="sk-..."/></div> <div><h3 class="hud-label mb-4 text-hud-primary">Starting Equity</h3> <p class="text-xs text-hud-text-dim mb-4">Your account starting balance (for P&L tracking)</p> <input type="number" class="hud-input w-full"/></div> <!> <div class="flex gap-4 pt-4 border-t border-hud-line"><button class="hud-button flex-1">Back</button> <button class="hud-button flex-1"> </button></div></div>'),Er=S('<div class="space-y-6 text-center py-8"><div class="text-hud-success text-4xl mb-4">&#10003;</div> <h2 class="text-xl font-light text-hud-text-bright">Configuration Saved</h2> <p class="text-hud-text-dim text-sm">Please restart the agent to apply the new settings:</p> <code class="block bg-hud-bg p-3 text-hud-primary text-sm rounded">curl localhost:8787/agent/disable && curl localhost:8787/agent/enable</code> <button class="hud-button mt-4">Continue to Dashboard</button></div>'),Or=S('<div class="min-h-screen bg-hud-bg flex items-center justify-center p-6"><!></div>');function Nr(s,e){ot(e,!0);let l=ht(0),u=ht(!1),m=ht(!1),h=ht(null),p=ht(""),y=ht(""),k=ht(""),d=ht(!0),o=ht(1e5);async function _(){if(!t(p)||!t(y)){Z(h,"Alpaca API Key and Secret are required");return}Z(m,!0),Z(h,null);const b=await Se({alpaca_key:t(p),alpaca_secret:t(y),openai_key:t(k)||void 0,paper_mode:t(d),starting_equity:t(o)});Z(m,!1),b.error?Z(h,b.error,!0):Z(l,3)}var P=Or(),v=r(P);mt(v,{title:"MAHORAGA SETUP",class:"w-full max-w-xl",children:(b,i)=>{var w=vt(),x=st(w);{var f=A=>{var I=Pr(),N=n(r(I),4),G=r(N);Pt(G),Ft(2),a(N);var L=n(N,2),F=r(L);F.__click=()=>Z(l,1),a(L),a(I),M(()=>F.disabled=!t(u)),qt(G,()=>t(u),j=>Z(u,j)),c(A,I)},g=A=>{var I=vt(),N=st(I);{var G=F=>{var j=Cr(),Y=n(r(j),4),H=r(Y);H.__click=()=>Z(l,2),a(Y),a(j),c(F,j)},L=F=>{var j=vt(),Y=st(j);{var H=Q=>{var J=$r(),O=r(J),z=n(r(O),4),q=r(z),D=n(r(q),2);Pt(D),a(q);var T=n(q,2),U=n(r(T),2);Pt(U),a(T);var K=n(T,2),W=r(K);Pt(W),Ft(2),a(K),a(z),a(O);var X=n(O,2),tt=n(r(X),4);Pt(tt),a(X);var et=n(X,2),at=n(r(et),4);Pt(at),a(et);var nt=n(et,2);{var kt=lt=>{var gt=Tr(),At=r(gt,!0);a(gt),M(()=>$(At,t(h))),c(lt,gt)};R(nt,lt=>{t(h)&&lt(kt)})}var St=n(nt,2),Rt=r(St);Rt.__click=()=>Z(l,1);var Tt=n(Rt,2);Tt.__click=_;var _t=r(Tt,!0);a(Tt),a(St),a(J),M(()=>{Tt.disabled=t(m),$(_t,t(m)?"Saving...":"Save & Continue")}),Lt(D,()=>t(p),lt=>Z(p,lt)),Lt(U,()=>t(y),lt=>Z(y,lt)),qt(W,()=>t(d),lt=>Z(d,lt)),Lt(tt,()=>t(k),lt=>Z(k,lt)),Lt(at,()=>t(o),lt=>Z(o,lt)),c(Q,J)},V=Q=>{var J=vt(),O=st(J);{var z=q=>{var D=Er(),T=n(r(D),8);T.__click=function(...U){var K;(K=e.onComplete)==null||K.apply(this,U)},a(D),c(q,D)};R(O,q=>{t(l)===3&&q(z)},!0)}c(Q,J)};R(Y,Q=>{t(l)===2?Q(H):Q(V,!1)},!0)}c(F,j)};R(N,F=>{t(l)===1?F(G):F(L,!1)},!0)}c(A,I)};R(x,A=>{t(l)===0?A(f):A(g,!1)})}c(b,w)},$$slots:{default:!0}}),a(P),c(s,P),dt()}Bt(["click"]);var Ir=S('<div class="min-h-screen bg-hud-bg"><div class="max-w-[1920px] mx-auto p-4"><!> <div class="grid grid-cols-4 md:grid-cols-8 lg:grid-cols-12 gap-4"><div class="col-span-4 md:col-span-4 lg:col-span-3"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-5"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-8"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-4 lg:col-span-4"><!></div> <div class="col-span-4 md:col-span-8 lg:col-span-4"><!></div></div> <!></div></div>');function Hr(s,e){ot(e,!0),ve(()=>(C.checkSetup(),()=>C.stopPolling())),ye(()=>{C.setupChecked&&!C.showSetup&&C.startPolling()});var l=vt(),u=st(l);{var m=p=>{Nr(p,{onComplete:()=>C.completeSetup()})},h=p=>{var y=vt(),k=st(y);{var d=_=>{Ar(_,{get error(){return C.error}})},o=_=>{var P=Ir(),v=r(P),b=r(v);aa(b,{});var i=n(b,2),w=r(i),x=r(w);na(x,{}),a(w);var f=n(w,2),g=r(f);wa(g,{}),a(f);var A=n(f,2),I=r(A);Sa(I,{}),a(A);var N=n(A,2),G=r(N);Ra(G,{}),a(N);var L=n(N,2),F=r(L);ja(F,{}),a(L);var j=n(L,2),Y=r(j);Ka(Y,{}),a(j);var H=n(j,2),V=r(H);ir(V,{}),a(H);var Q=n(H,2),J=r(Q);xr(J,{}),a(Q),a(i);var O=n(i,2);br(O,{}),a(v),a(P),c(_,P)};R(k,_=>{C.error&&!C.status?_(d):_(o,!1)},!0)}c(p,y)};R(u,p=>{C.showSetup?p(m):p(h,!1)})}c(s,l),dt()}export{Hr as component};
